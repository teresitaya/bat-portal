import{a as m,b as A,c as Xn,d as Cn,e as Ka,f as g}from"./chunk-42NE2CY3.js";function Uv(n,e){return Object.is(n,e)}var Ze=null,nu=!1,ru=1,Or=Symbol("SIGNAL");function le(n){let e=Ze;return Ze=n,e}function Bv(){return Ze}var Qa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Df(n){if(nu)throw new Error("");if(Ze===null)return;Ze.consumerOnSignalRead(n);let e=Ze.nextProducerIndex++;if(au(Ze),e<Ze.producerNode.length&&Ze.producerNode[e]!==n&&Ya(Ze)){let t=Ze.producerNode[e];su(t,Ze.producerIndexOfThis[e])}Ze.producerNode[e]!==n&&(Ze.producerNode[e]=n,Ze.producerIndexOfThis[e]=Ya(Ze)?$v(n,Ze,e):0),Ze.producerLastReadVersion[e]=n.version}function p_(){ru++}function Vv(n){if(!(Ya(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ru)){if(!n.producerMustRecompute(n)&&!Rf(n)){n.dirty=!1,n.lastCleanEpoch=ru;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ru}}function Hv(n){if(n.liveConsumerNode===void 0)return;let e=nu;nu=!0;try{for(let t of n.liveConsumerNode)t.dirty||g_(t)}finally{nu=e}}function jv(){return Ze?.consumerAllowSignalWrites!==!1}function g_(n){n.dirty=!0,Hv(n),n.consumerMarkedDirty?.(n)}function ou(n){return n&&(n.nextProducerIndex=0),le(n)}function Mf(n,e){if(le(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ya(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)su(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Rf(n){au(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Vv(t),r!==t.version))return!0}return!1}function Nf(n){if(au(n),Ya(n))for(let e=0;e<n.producerNode.length;e++)su(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function $v(n,e,t){if(Gv(n),n.liveConsumerNode.length===0&&zv(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=$v(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function su(n,e){if(Gv(n),n.liveConsumerNode.length===1&&zv(n))for(let r=0;r<n.producerNode.length;r++)su(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];au(i),i.producerIndexOfThis[r]=e}}function Ya(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function au(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Gv(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function zv(n){return n.producerNode!==void 0}function qv(n){let e=Object.create(m_);e.computation=n;let t=()=>{if(Vv(e),Df(e),e.value===iu)throw e.error;return e.value};return t[Or]=e,t}var _f=Symbol("UNSET"),bf=Symbol("COMPUTING"),iu=Symbol("ERRORED"),m_=A(m({},Qa),{value:_f,dirty:!0,error:null,equal:Uv,producerMustRecompute(n){return n.value===_f||n.value===bf},producerRecomputeValue(n){if(n.value===bf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=bf;let t=ou(n),r;try{r=n.computation()}catch(i){r=iu,n.error=i}finally{Mf(n,t)}if(e!==_f&&e!==iu&&r!==iu&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function y_(){throw new Error}var Wv=y_;function Kv(){Wv()}function Yv(n){Wv=n}var v_=null;function Qv(n){let e=Object.create(Jv);e.value=n;let t=()=>(Df(e),e.value);return t[Or]=e,t}function kf(n,e){jv()||Kv(),n.equal(n.value,e)||(n.value=e,C_(n))}function Zv(n,e){jv()||Kv(),kf(n,e(n.value))}var Jv=A(m({},Qa),{equal:Uv,value:void 0});function C_(n){n.version++,p_(),Hv(n),v_?.()}function K(n){return typeof n=="function"}function rs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var cu=rs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Za(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var We=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){e=o instanceof cu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Xv(o)}catch(s){e=e??[],s instanceof cu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new cu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Xv(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Za(t,e)}remove(e){let{_finalizers:t}=this;t&&Za(t,e),e instanceof n&&e._removeParent(this)}};We.EMPTY=(()=>{let n=new We;return n.closed=!0,n})();var Of=We.EMPTY;function lu(n){return n instanceof We||n&&"closed"in n&&K(n.remove)&&K(n.add)&&K(n.unsubscribe)}function Xv(n){K(n)?n():n.unsubscribe()}var En={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var is={setTimeout(n,e,...t){let{delegate:r}=is;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=is;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function uu(n){is.setTimeout(()=>{let{onUnhandledError:e}=En;if(e)e(n);else throw n})}function Ja(){}var eC=xf("C",void 0,void 0);function tC(n){return xf("E",void 0,n)}function nC(n){return xf("N",n,void 0)}function xf(n,e,t){return{kind:n,value:e,error:t}}var Pi=null;function os(n){if(En.useDeprecatedSynchronousErrorHandling){let e=!Pi;if(e&&(Pi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Pi;if(Pi=null,t)throw r}}else n()}function rC(n){En.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=n)}var Li=class extends We{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,lu(e)&&e.add(this)):this.destination=w_}static create(e,t,r){return new ss(e,t,r)}next(e){this.isStopped?Lf(nC(e),this):this._next(e)}error(e){this.isStopped?Lf(tC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lf(eC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},E_=Function.prototype.bind;function Pf(n,e){return E_.call(n,e)}var Ff=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){du(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){du(r)}else du(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){du(t)}}},ss=class extends Li{constructor(e,t,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&En.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pf(e.next,o),error:e.error&&Pf(e.error,o),complete:e.complete&&Pf(e.complete,o)}):i=e}this.destination=new Ff(i)}};function du(n){En.useDeprecatedSynchronousErrorHandling?rC(n):uu(n)}function I_(n){throw n}function Lf(n,e){let{onStoppedNotification:t}=En;t&&is.setTimeout(()=>t(n,e))}var w_={closed:!0,next:Ja,error:I_,complete:Ja};var as=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(n){return n}function Uf(...n){return Bf(n)}function Bf(n){return n.length===0?Wt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=S_(t)?t:new ss(t,r,i);return os(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=iC(r),new r((i,o)=>{let s=new ss({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[as](){return this}pipe(...t){return Bf(t)(this)}toPromise(t){return t=iC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function iC(n){var e;return(e=n??En.Promise)!==null&&e!==void 0?e:Promise}function T_(n){return n&&K(n.next)&&K(n.error)&&K(n.complete)}function S_(n){return n&&n instanceof Li||T_(n)&&lu(n)}function Vf(n){return K(n?.lift)}function he(n){return e=>{if(Vf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(n,e,t,r,i){return new Hf(n,e,t,r,i)}var Hf=class extends Li{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function cs(){return he((n,e)=>{let t=null;n._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ls=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Vf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new We;let t=this.getSubject();e.add(this.source.subscribe(se(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=We.EMPTY)}return e}refCount(){return cs()(this)}};var oC=rs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new hu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new oC}next(t){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Of:(this.currentObservers=null,o.push(t),new We(()=>{this.currentObservers=null,Za(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new hu(e,t),n})(),hu=class extends Be{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Of}};var Je=class extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var jf={now(){return(jf.delegate||Date).now()},delegate:void 0};var Xa=class extends Be{constructor(e=1/0,t=1/0,r=jf){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Nt=new de(n=>n.complete());function sC(n){return n&&K(n.schedule)}function aC(n){return n[n.length-1]}function fu(n){return K(aC(n))?n.pop():void 0}function xr(n){return sC(aC(n))?n.pop():void 0}function lC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function cC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fi(n){return this instanceof Fi?(this.v=n,this):new Fi(n)}function uC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(v){return Promise.resolve(v).then(p,d)}}function a(p,v){r[p]&&(i[p]=function(I){return new Promise(function(_,M){o.push([p,I,_,M])>1||c(p,I)})},v&&(i[p]=v(i[p])))}function c(p,v){try{l(r[p](v))}catch(I){f(o[0][3],I)}}function l(p){p.value instanceof Fi?Promise.resolve(p.value.v).then(u,d):f(o[0][2],p)}function u(p){c("next",p)}function d(p){c("throw",p)}function f(p,v){p(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}function dC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof cC=="function"?cC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var pu=n=>n&&typeof n.length=="number"&&typeof n!="function";function gu(n){return K(n?.then)}function mu(n){return K(n[as])}function yu(n){return Symbol.asyncIterator&&K(n?.[Symbol.asyncIterator])}function vu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function A_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cu=A_();function Eu(n){return K(n?.[Cu])}function Iu(n){return uC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Fi(t.read());if(i)return yield Fi(void 0);yield yield Fi(r)}}finally{t.releaseLock()}})}function wu(n){return K(n?.getReader)}function Ke(n){if(n instanceof de)return n;if(n!=null){if(mu(n))return __(n);if(pu(n))return b_(n);if(gu(n))return D_(n);if(yu(n))return hC(n);if(Eu(n))return M_(n);if(wu(n))return R_(n)}throw vu(n)}function __(n){return new de(e=>{let t=n[as]();if(K(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function b_(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function D_(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,uu)})}function M_(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function hC(n){return new de(e=>{N_(n,e).catch(t=>e.error(t))})}function R_(n){return hC(Iu(n))}function N_(n,e){var t,r,i,o;return lC(this,void 0,void 0,function*(){try{for(t=dC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function kt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Tu(n,e=0){return he((t,r)=>{t.subscribe(se(r,i=>kt(r,n,()=>r.next(i),e),()=>kt(r,n,()=>r.complete(),e),i=>kt(r,n,()=>r.error(i),e)))})}function Su(n,e=0){return he((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function fC(n,e){return Ke(n).pipe(Su(e),Tu(e))}function pC(n,e){return Ke(n).pipe(Su(e),Tu(e))}function gC(n,e){return new de(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function mC(n,e){return new de(t=>{let r;return kt(t,e,()=>{r=n[Cu](),kt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function Au(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{kt(t,e,()=>{let r=n[Symbol.asyncIterator]();kt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function yC(n,e){return Au(Iu(n),e)}function vC(n,e){if(n!=null){if(mu(n))return fC(n,e);if(pu(n))return gC(n,e);if(gu(n))return pC(n,e);if(yu(n))return Au(n,e);if(Eu(n))return mC(n,e);if(wu(n))return yC(n,e)}throw vu(n)}function ue(n,e){return e?vC(n,e):Ke(n)}function F(...n){let e=xr(n);return ue(n,e)}function us(n,e){let t=K(n)?n:()=>n,r=i=>i.error(t());return new de(e?i=>e.schedule(r,0,i):r)}function $f(n){return!!n&&(n instanceof de||K(n.lift)&&K(n.subscribe))}var er=rs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function $(n,e){return he((t,r)=>{let i=0;t.subscribe(se(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:k_}=Array;function O_(n,e){return k_(e)?n(...e):n(e)}function _u(n){return $(e=>O_(n,e))}var{isArray:x_}=Array,{getPrototypeOf:P_,prototype:L_,keys:F_}=Object;function bu(n){if(n.length===1){let e=n[0];if(x_(e))return{args:e,keys:null};if(U_(e)){let t=F_(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function U_(n){return n&&typeof n=="object"&&P_(n)===L_}function Du(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Mu(...n){let e=xr(n),t=fu(n),{args:r,keys:i}=bu(n);if(r.length===0)return ue([],e);let o=new de(B_(r,e,i?s=>Du(i,s):Wt));return t?o.pipe(_u(t)):o}function B_(n,e,t=Wt){return r=>{CC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)CC(e,()=>{let l=ue(n[c],e),u=!1;l.subscribe(se(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function CC(n,e,t){n?kt(t,n,e):e()}function EC(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},p=I=>l<r?v(I):c.push(I),v=I=>{o&&e.next(I),l++;let _=!1;Ke(t(I,u++)).subscribe(se(e,M=>{i?.(M),o?p(M):e.next(M)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let M=c.shift();s?kt(e,s,()=>v(M)):v(M)}f()}catch(M){e.error(M)}}))};return n.subscribe(se(e,p,()=>{d=!0,f()})),()=>{a?.()}}function Xe(n,e,t=1/0){return K(e)?Xe((r,i)=>$((o,s)=>e(r,o,i,s))(Ke(n(r,i))),t):(typeof e=="number"&&(t=e),he((r,i)=>EC(r,i,n,t)))}function Gf(n=1/0){return Xe(Wt,n)}function IC(){return Gf(1)}function ds(...n){return IC()(ue(n,xr(n)))}function Ru(n){return new de(e=>{Ke(n()).subscribe(e)})}function zf(...n){let e=fu(n),{args:t,keys:r}=bu(n),i=new de(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ke(t[u]).subscribe(se(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Du(r,a):a),o.complete())}))}});return e?i.pipe(_u(e)):i}function Ot(n,e){return he((t,r)=>{let i=0;t.subscribe(se(r,o=>n.call(e,o,i++)&&r.next(o)))})}function On(n){return he((e,t)=>{let r=null,i=!1,o;r=e.subscribe(se(t,void 0,void 0,s=>{o=Ke(n(s,On(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function wC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(se(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function In(n,e){return K(e)?Xe(n,e,1):Xe(n,1)}function Pr(n){return he((e,t)=>{let r=!1;e.subscribe(se(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function xn(n){return n<=0?()=>Nt:he((e,t)=>{let r=0;e.subscribe(se(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function qf(n){return $(()=>n)}function Nu(n=V_){return he((e,t)=>{let r=!1;e.subscribe(se(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function V_(){return new er}function Ui(n){return he((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Pn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ot((i,o)=>n(i,o,r)):Wt,xn(1),t?Pr(e):Nu(()=>new er))}function hs(n){return n<=0?()=>Nt:he((e,t)=>{let r=[];e.subscribe(se(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Wf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ot((i,o)=>n(i,o,r)):Wt,hs(1),t?Pr(e):Nu(()=>new er))}function Kf(n,e){return he(wC(n,e,arguments.length>=2,!0))}function Yf(...n){let e=xr(n);return he((t,r)=>{(e?ds(n,t,e):ds(n,t)).subscribe(r)})}function xt(n,e){return he((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(se(r,c=>{i?.unsubscribe();let l=0,u=o++;Ke(n(c,u)).subscribe(i=se(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qf(n){return he((e,t)=>{Ke(n).subscribe(se(t,()=>t.complete(),Ja)),!t.closed&&e.subscribe(t)})}function at(n,e,t){let r=K(n)||e||t?{next:n,error:e,complete:t}:n;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Wt}var H_="https://g.co/ng/security#xss",U=class extends Error{constructor(e,t){super(ud(e,t)),this.code=e}};function ud(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function hc(n){return{toString:n}.toString()}var ku="__parameters__";function j_(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function iE(n,e,t){return hc(()=>{let r=j_(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(ku)?c[ku]:Object.defineProperty(c,ku,{value:[]})[ku];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Re(n){for(let e in n)if(n[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function $_(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Tt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Tt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function dp(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var G_=Re({__forward_ref__:Re});function ir(n){return n.__forward_ref__=ir,n.toString=function(){return Tt(this())},n}function wt(n){return oE(n)?n():n}function oE(n){return typeof n=="function"&&n.hasOwnProperty(G_)&&n.__forward_ref__===ir}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pe(n){return{providers:n.providers||[],imports:n.imports||[]}}function dd(n){return TC(n,aE)||TC(n,cE)}function sE(n){return dd(n)!==null}function TC(n,e){return n.hasOwnProperty(e)?n[e]:null}function z_(n){let e=n&&(n[aE]||n[cE]);return e||null}function SC(n){return n&&(n.hasOwnProperty(AC)||n.hasOwnProperty(q_))?n[AC]:null}var aE=Re({\u0275prov:Re}),AC=Re({\u0275inj:Re}),cE=Re({ngInjectableDef:Re}),q_=Re({ngInjectorDef:Re}),x=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=P({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lE(n){return n&&!!n.\u0275providers}var W_=Re({\u0275cmp:Re}),K_=Re({\u0275dir:Re}),Y_=Re({\u0275pipe:Re}),Q_=Re({\u0275mod:Re}),Vu=Re({\u0275fac:Re}),tc=Re({__NG_ELEMENT_ID__:Re}),_C=Re({__NG_ENV_ID__:Re});function rg(n){return typeof n=="string"?n:n==null?"":String(n)}function Z_(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():rg(n)}function J_(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new U(-200,n)}function ig(n,e){throw new U(-201,!1)}var ee=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ee||{}),hp;function uE(){return hp}function Pt(n){let e=hp;return hp=n,e}function dE(n,e,t){let r=dd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ee.Optional)return null;if(e!==void 0)return e;ig(n,"Injector")}var X_={},nc=X_,fp="__NG_DI_FLAG__",Hu="ngTempTokenPath",eb="ngTokenPath",tb=/\n/gm,nb="\u0275",bC="__source",ms;function rb(){return ms}function Lr(n){let e=ms;return ms=n,e}function ib(n,e=ee.Default){if(ms===void 0)throw new U(-203,!1);return ms===null?dE(n,void 0,e):ms.get(n,e&ee.Optional?null:void 0,e)}function L(n,e=ee.Default){return(uE()||ib)(wt(n),e)}function w(n,e=ee.Default){return L(n,hd(e))}function hd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pp(n){let e=[];for(let t=0;t<n.length;t++){let r=wt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=ee.Default;for(let s=0;s<r.length;s++){let a=r[s],c=ob(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(L(i,o))}else e.push(L(r))}return e}function hE(n,e){return n[fp]=e,n.prototype[fp]=e,n}function ob(n){return n[fp]}function sb(n,e,t,r){let i=n[Hu];throw e[bC]&&i.unshift(e[bC]),n.message=ab(`
`+n.message,i,t,r),n[eb]=i,n[Hu]=null,n}function ab(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==nb?n.slice(2):n;let i=Tt(e);if(Array.isArray(e))i=e.map(Tt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Tt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(tb,`
  `)}`}var og=hE(iE("Optional"),8);var fE=hE(iE("SkipSelf"),4);function Hi(n,e){let t=n.hasOwnProperty(Vu);return t?n[Vu]:null}function cb(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function lb(n){return n.flat(Number.POSITIVE_INFINITY)}function sg(n,e){n.forEach(t=>Array.isArray(t)?sg(t,e):e(t))}function pE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ju(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ub(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function db(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function fd(n,e,t){let r=fc(n,e);return r>=0?n[r|1]=t:(r=~r,db(n,r,e,t)),r}function Zf(n,e){let t=fc(n,e);if(t>=0)return n[t|1]}function fc(n,e){return hb(n,e,1)}function hb(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var vs={},Lt=[],Cs=new x(""),gE=new x("",-1),mE=new x(""),$u=class{get(e,t=nc){if(t===nc){let r=new Error(`NullInjectorError: No provider for ${Tt(e)}!`);throw r.name="NullInjectorError",r}return t}},yE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(yE||{}),Un=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Un||{}),Br=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Br||{});function fb(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function gp(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];gb(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function pb(n){return n===3||n===4||n===6}function gb(n){return n.charCodeAt(0)===64}function rc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?DC(n,t,i,null,e[++r]):DC(n,t,i,null,null))}}return n}function DC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var vE="ng-template";function mb(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&fb(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(ag(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function ag(n){return n.type===4&&n.value!==vE}function yb(n,e,t){let r=n.type===4&&!t?vE:n.value;return e===r}function vb(n,e,t){let r=4,i=n.attrs,o=i!==null?Ib(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!wn(r)&&!wn(c))return!1;if(s&&wn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!yb(n,c,t)||c===""&&e.length===1){if(wn(r))return!1;s=!0}}else if(r&8){if(i===null||!mb(n,i,c,t)){if(wn(r))return!1;s=!0}}else{let l=e[++a],u=Cb(c,i,ag(n),t);if(u===-1){if(wn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(wn(r))return!1;s=!0}}}}return wn(r)||s}function wn(n){return(n&1)===0}function Cb(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return wb(e,n)}function CE(n,e,t=!1){for(let r=0;r<e.length;r++)if(vb(n,e[r],t))return!0;return!1}function Eb(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function Ib(n){for(let e=0;e<n.length;e++){let t=n[e];if(pb(t))return e}return n.length}function wb(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Tb(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function MC(n,e){return n?":not("+e.trim()+")":e}function Sb(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!wn(s)&&(e+=MC(o,i),i=""),r=s,o=o||!wn(r);t++}return i!==""&&(e+=MC(o,i)),e}function Ab(n){return n.map(Sb).join(",")}function _b(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!wn(i))break;i=o}r++}return{attrs:e,classes:t}}function z(n){return hc(()=>{let e=SE(n),t=A(m({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===yE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Un.Emulated,styles:n.styles||Lt,_:null,schemas:n.schemas||null,tView:null,id:""});AE(t);let r=n.dependencies;return t.directiveDefs=NC(r,!1),t.pipeDefs=NC(r,!0),t.id=Mb(t),t})}function bb(n){return ji(n)||EE(n)}function Db(n){return n!==null}function Le(n){return hc(()=>({type:n.type,bootstrap:n.bootstrap||Lt,declarations:n.declarations||Lt,imports:n.imports||Lt,exports:n.exports||Lt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function RC(n,e){if(n==null)return vs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Br.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Br.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Ae(n){return hc(()=>{let e=SE(n);return AE(e),e})}function pd(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ji(n){return n[W_]||null}function EE(n){return n[K_]||null}function IE(n){return n[Y_]||null}function wE(n){let e=ji(n)||EE(n)||IE(n);return e!==null?e.standalone:!1}function TE(n,e){let t=n[Q_]||null;if(!t&&e===!0)throw new Error(`Type ${Tt(n)} does not have '\u0275mod' property.`);return t}function SE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||vs,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Lt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:RC(n.inputs,e),outputs:RC(n.outputs),debugInfo:null}}function AE(n){n.features?.forEach(e=>e(n))}function NC(n,e){if(!n)return null;let t=e?IE:bb;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(Db)}function Mb(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ds(n){return{\u0275providers:n}}function Rb(...n){return{\u0275providers:_E(!0,n),\u0275fromNgModule:!0}}function _E(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return sg(e,s=>{let a=s;mp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&bE(i,o),t}function bE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];cg(i,o=>{e(o,r)})}}function mp(n,e,t,r){if(n=wt(n),!n)return!1;let i=null,o=SC(n),s=!o&&ji(n);if(!o&&!s){let c=n.ngModule;if(o=SC(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)mp(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{sg(o.imports,u=>{mp(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&bE(l,e)}if(!a){let l=Hi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Lt},i),e({provide:mE,useValue:i,multi:!0},i),e({provide:Cs,useValue:()=>L(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;cg(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function cg(n,e){for(let t of n)lE(t)&&(t=t.\u0275providers),Array.isArray(t)?cg(t,e):e(t)}var Nb=Re({provide:String,useValue:Re});function DE(n){return n!==null&&typeof n=="object"&&Nb in n}function kb(n){return!!(n&&n.useExisting)}function Ob(n){return!!(n&&n.useFactory)}function Es(n){return typeof n=="function"}function xb(n){return!!n.useClass}var gd=new x(""),Pu={},Pb={},Jf;function lg(){return Jf===void 0&&(Jf=new $u),Jf}var Ut=class{},ic=class extends Ut{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vp(e,s=>this.processProvider(s)),this.records.set(gE,fs(void 0,this)),i.has("environment")&&this.records.set(Ut,fs(void 0,this));let o=this.records.get(gd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mE,Lt,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Lr(this),r=Pt(void 0),i;try{return e()}finally{Lr(t),Pt(r)}}get(e,t=nc,r=ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_C))return e[_C](this);r=hd(r);let i,o=Lr(this),s=Pt(void 0);try{if(!(r&ee.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=Vb(e)&&dd(e);l&&this.injectableDefInScope(l)?c=fs(yp(e),Pu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ee.Self?lg():this.parent;return t=r&ee.Optional&&t===nc?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Hu]=a[Hu]||[]).unshift(Tt(e)),o)throw a;return sb(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(s),Lr(o)}}resolveInjectorInitializers(){let e=le(null),t=Lr(this),r=Pt(void 0),i;try{let o=this.get(Cs,Lt,ee.Self);for(let s of o)s()}finally{Lr(t),Pt(r),le(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Tt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){e=wt(e);let t=Es(e)?e:wt(e&&e.provide),r=Fb(e);if(!Es(e)&&e.multi===!0){let i=this.records.get(t);i||(i=fs(void 0,Pu,!0),i.factory=()=>pp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=le(null);try{return t.value===Pu&&(t.value=Pb,t.value=t.factory()),typeof t.value=="object"&&t.value&&Bb(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{le(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=wt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function yp(n){let e=dd(n),t=e!==null?e.factory:Hi(n);if(t!==null)return t;if(n instanceof x)throw new U(204,!1);if(n instanceof Function)return Lb(n);throw new U(204,!1)}function Lb(n){if(n.length>0)throw new U(204,!1);let t=z_(n);return t!==null?()=>t.factory(n):()=>new n}function Fb(n){if(DE(n))return fs(void 0,n.useValue);{let e=ME(n);return fs(e,Pu)}}function ME(n,e,t){let r;if(Es(n)){let i=wt(n);return Hi(i)||yp(i)}else if(DE(n))r=()=>wt(n.useValue);else if(Ob(n))r=()=>n.useFactory(...pp(n.deps||[]));else if(kb(n))r=()=>L(wt(n.useExisting));else{let i=wt(n&&(n.useClass||n.provide));if(Ub(n))r=()=>new i(...pp(n.deps));else return Hi(i)||yp(i)}return r}function fs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ub(n){return!!n.deps}function Bb(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Vb(n){return typeof n=="function"||typeof n=="object"&&n instanceof x}function vp(n,e){for(let t of n)Array.isArray(t)?vp(t,e):t&&lE(t)?vp(t.\u0275providers,e):e(t)}function Sn(n,e){n instanceof ic&&n.assertNotDestroyed();let t,r=Lr(n),i=Pt(void 0);try{return e()}finally{Lr(r),Pt(i)}}function Hb(){return uE()!==void 0||rb()!=null}function jb(n){return typeof n=="function"}var or=0,Y=1,H=2,yt=3,Tn=4,Bt=5,oc=6,Gu=7,cn=8,Is=9,tr=10,Ye=11,sc=12,kC=13,Ms=14,ln=15,$i=16,ps=17,nr=18,md=19,RE=20,Fr=21,Xf=22,an=23,dt=25,NE=1;var Gi=7,zu=8,ws=9,Ft=10,qu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(qu||{});function Ur(n){return Array.isArray(n)&&typeof n[NE]=="object"}function sr(n){return Array.isArray(n)&&n[NE]===!0}function ug(n){return(n.flags&4)!==0}function yd(n){return n.componentOffset>-1}function vd(n){return(n.flags&1)===1}function Vr(n){return!!n.template}function Cp(n){return(n[H]&512)!==0}var Ep=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function kE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function ar(){return OE}function OE(n){return n.type.prototype.ngOnChanges&&(n.setInput=Gb),$b}ar.ngInherit=!0;function $b(){let n=PE(this),e=n?.current;if(e){let t=n.previous;if(t===vs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Gb(n,e,t,r,i){let o=this.declaredInputs[r],s=PE(n)||zb(n,{previous:vs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Ep(l&&l.currentValue,t,c===vs),kE(n,e,i,t)}var xE="__ngSimpleChanges__";function PE(n){return n[xE]||null}function zb(n,e){return n[xE]=e}var OC=null;var Ln=function(n,e,t){OC?.(n,e,t)},LE="svg",qb="math";function Bn(n){for(;Array.isArray(n);)n=n[or];return n}function FE(n,e){return Bn(e[n])}function un(n,e){return Bn(e[n.index])}function dg(n,e){return n.data[e]}function hg(n,e){return n[e]}function qr(n,e){let t=e[n];return Ur(t)?t:t[or]}function Wb(n){return(n[H]&4)===4}function fg(n){return(n[H]&128)===128}function Kb(n){return sr(n[yt])}function Ts(n,e){return e==null?null:n[e]}function UE(n){n[ps]=0}function BE(n){n[H]&1024||(n[H]|=1024,fg(n)&&Cd(n))}function Yb(n,e){for(;n>0;)e=e[Ms],n--;return e}function ac(n){return!!(n[H]&9216||n[an]?.dirty)}function Ip(n){n[tr].changeDetectionScheduler?.notify(7),n[H]&64&&(n[H]|=1024),ac(n)&&Cd(n)}function Cd(n){n[tr].changeDetectionScheduler?.notify(0);let e=zi(n);for(;e!==null&&!(e[H]&8192||(e[H]|=8192,!fg(e)));)e=zi(e)}function VE(n,e){if((n[H]&256)===256)throw new U(911,!1);n[Fr]===null&&(n[Fr]=[]),n[Fr].push(e)}function Qb(n,e){if(n[Fr]===null)return;let t=n[Fr].indexOf(e);t!==-1&&n[Fr].splice(t,1)}function zi(n){let e=n[yt];return sr(e)?e[yt]:e}var J={lFrame:QE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var HE=!1;function Zb(){return J.lFrame.elementDepthCount}function Jb(){J.lFrame.elementDepthCount++}function Xb(){J.lFrame.elementDepthCount--}function jE(){return J.bindingsEnabled}function $E(){return J.skipHydrationRootTNode!==null}function eD(n){return J.skipHydrationRootTNode===n}function tD(){J.skipHydrationRootTNode=null}function ie(){return J.lFrame.lView}function tt(){return J.lFrame.tView}function _e(n){return J.lFrame.contextLView=n,n[cn]}function be(n){return J.lFrame.contextLView=null,n}function St(){let n=GE();for(;n!==null&&n.type===64;)n=n.parent;return n}function GE(){return J.lFrame.currentTNode}function nD(){let n=J.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Zi(n,e){let t=J.lFrame;t.currentTNode=n,t.isParent=e}function pg(){return J.lFrame.isParent}function gg(){J.lFrame.isParent=!1}function rD(){return J.lFrame.contextLView}function zE(){return HE}function xC(n){HE=n}function pc(){let n=J.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function iD(n){return J.lFrame.bindingIndex=n}function Ed(){return J.lFrame.bindingIndex++}function qE(n){let e=J.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function oD(){return J.lFrame.inI18n}function sD(n,e){let t=J.lFrame;t.bindingIndex=t.bindingRootIndex=n,wp(e)}function aD(){return J.lFrame.currentDirectiveIndex}function wp(n){J.lFrame.currentDirectiveIndex=n}function cD(n){let e=J.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function WE(){return J.lFrame.currentQueryIndex}function mg(n){J.lFrame.currentQueryIndex=n}function lD(n){let e=n[Y];return e.type===2?e.declTNode:e.type===1?n[Bt]:null}function KE(n,e,t){if(t&ee.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ee.Host);)if(i=lD(o),i===null||(o=o[Ms],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=J.lFrame=YE();return r.currentTNode=e,r.lView=n,!0}function yg(n){let e=YE(),t=n[Y];J.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function YE(){let n=J.lFrame,e=n===null?null:n.child;return e===null?QE(n):e}function QE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ZE(){let n=J.lFrame;return J.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var JE=ZE;function vg(){let n=ZE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function uD(n){return(J.lFrame.contextLView=Yb(n,J.lFrame.contextLView))[cn]}function Ji(){return J.lFrame.selectedIndex}function qi(n){J.lFrame.selectedIndex=n}function XE(){let n=J.lFrame;return dg(n.tView,n.selectedIndex)}function Wr(){J.lFrame.currentNamespace=LE}function dD(){return J.lFrame.currentNamespace}var eI=!0;function Id(){return eI}function wd(n){eI=n}function hD(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=OE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Td(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Lu(n,e,t){tI(n,e,3,t)}function Fu(n,e,t,r){(n[H]&3)===t&&tI(n,e,t,r)}function ep(n,e){let t=n[H];(t&3)===e&&(t&=16383,t+=1,n[H]=t)}function tI(n,e,t,r){let i=r!==void 0?n[ps]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[ps]+=65536),(a<o||o==-1)&&(fD(n,t,e,c),n[ps]=(n[ps]&4294901760)+c+2),c++}function PC(n,e){Ln(4,n,e);let t=le(null);try{e.call(n)}finally{le(t),Ln(5,n,e)}}function fD(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[H]>>14<n[ps]>>16&&(n[H]&3)===e&&(n[H]+=16384,PC(a,o)):PC(a,o)}var ys=-1,Wi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function pD(n){return n instanceof Wi}function gD(n){return(n.flags&8)!==0}function mD(n){return(n.flags&16)!==0}var tp={},Tp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=hd(r);let i=this.injector.get(e,tp,r);return i!==tp||t===tp?i:this.parentInjector.get(e,t,r)}};function nI(n){return n!==ys}function Wu(n){return n&32767}function yD(n){return n>>16}function Ku(n,e){let t=yD(n),r=e;for(;t>0;)r=r[Ms],t--;return r}var Sp=!0;function Yu(n){let e=Sp;return Sp=n,e}var vD=256,rI=vD-1,iI=5,CD=0,Fn={};function ED(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(tc)&&(r=t[tc]),r==null&&(r=t[tc]=CD++);let i=r&rI,o=1<<i;e.data[n+(i>>iI)]|=o}function Qu(n,e){let t=oI(n,e);if(t!==-1)return t;let r=e[Y];r.firstCreatePass&&(n.injectorIndex=e.length,np(r.data,n),np(e,null),np(r.blueprint,null));let i=Cg(n,e),o=n.injectorIndex;if(nI(i)){let s=Wu(i),a=Ku(i,e),c=a[Y].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function np(n,e){n.push(0,0,0,0,0,0,0,0,e)}function oI(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Cg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=uI(i),r===null)return ys;if(t++,i=i[Ms],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ys}function Ap(n,e,t){ED(n,e,t)}function sI(n,e,t){if(t&ee.Optional||n!==void 0)return n;ig(e,"NodeInjector")}function aI(n,e,t,r){if(t&ee.Optional&&r===void 0&&(r=null),!(t&(ee.Self|ee.Host))){let i=n[Is],o=Pt(void 0);try{return i?i.get(e,r,t&ee.Optional):dE(e,r,t&ee.Optional)}finally{Pt(o)}}return sI(r,e,t)}function cI(n,e,t,r=ee.Default,i){if(n!==null){if(e[H]&2048&&!(r&ee.Self)){let s=SD(n,e,t,r,Fn);if(s!==Fn)return s}let o=lI(n,e,t,r,Fn);if(o!==Fn)return o}return aI(e,t,r,i)}function lI(n,e,t,r,i){let o=wD(t);if(typeof o=="function"){if(!KE(e,n,r))return r&ee.Host?sI(i,t,r):aI(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ee.Optional))ig(t);else return s}finally{JE()}}else if(typeof o=="number"){let s=null,a=oI(n,e),c=ys,l=r&ee.Host?e[ln][Bt]:null;for((a===-1||r&ee.SkipSelf)&&(c=a===-1?Cg(n,e):e[a+8],c===ys||!FC(r,!1)?a=-1:(s=e[Y],a=Wu(c),e=Ku(c,e)));a!==-1;){let u=e[Y];if(LC(o,a,u.data)){let d=ID(a,e,t,s,r,l);if(d!==Fn)return d}c=e[a+8],c!==ys&&FC(r,e[Y].data[a+8]===l)&&LC(o,a,e)?(s=u,a=Wu(c),e=Ku(c,e)):a=-1}}return i}function ID(n,e,t,r,i,o){let s=e[Y],a=s.data[n+8],c=r==null?yd(a)&&Sp:r!=s&&(a.type&3)!==0,l=i&ee.Host&&o===a,u=Uu(a,s,t,c,l);return u!==null?Ki(e,s,u,a):Fn}function Uu(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let p=d;p<f;p++){let v=s[p];if(p<c&&t===v||p>=c&&v.type===t)return p}if(i){let p=s[c];if(p&&Vr(p)&&p.type===t)return c}return null}function Ki(n,e,t,r){let i=n[t],o=e.data;if(pD(i)){let s=i;s.resolving&&J_(Z_(o[t]));let a=Yu(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Pt(s.injectImpl):null,u=KE(n,r,ee.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&hD(t,o[t],e)}finally{l!==null&&Pt(l),Yu(a),s.resolving=!1,JE()}}return i}function wD(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(tc)?n[tc]:void 0;return typeof e=="number"?e>=0?e&rI:TD:e}function LC(n,e,t){let r=1<<n;return!!(t[e+(n>>iI)]&r)}function FC(n,e){return!(n&ee.Self)&&!(n&ee.Host&&e)}var Vi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return cI(this._tNode,this._lView,e,hd(r),t)}};function TD(){return new Vi(St(),ie())}function Kt(n){return hc(()=>{let e=n.prototype.constructor,t=e[Vu]||_p(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Vu]||_p(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _p(n){return oE(n)?()=>{let e=_p(wt(n));return e&&e()}:Hi(n)}function SD(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[H]&2048&&!(s[H]&512);){let a=lI(o,s,t,r|ee.Self,Fn);if(a!==Fn)return a;let c=o.parent;if(!c){let l=s[RE];if(l){let u=l.get(t,Fn,r);if(u!==Fn)return u}c=uI(s),s=s[Ms]}o=c}return i}function uI(n){let e=n[Y],t=e.type;return t===2?e.declTNode:t===1?n[Bt]:null}function UC(n,e=null,t=null,r){let i=dI(n,e,t,r);return i.resolveInjectorInitializers(),i}function dI(n,e=null,t=null,r,i=new Set){let o=[t||Lt,Rb(n)];return r=r||(typeof n=="object"?void 0:Tt(n)),new ic(o,e||lg(),r||null,i)}var Bi=class Bi{static create(e,t){if(Array.isArray(e))return UC({name:""},t,e,"");{let r=e.name??"";return UC({name:r},e.parent,e.providers,r)}}};Bi.THROW_IF_NOT_FOUND=nc,Bi.NULL=new $u,Bi.\u0275prov=P({token:Bi,providedIn:"any",factory:()=>L(gE)}),Bi.__NG_ELEMENT_ID__=-1;var Hr=Bi;var AD=new x("");AD.__NG_ELEMENT_ID__=n=>{let e=St();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(n&ee.Optional)return null;throw new U(204,!1)};var _D="ngOriginalError";function rp(n){return n[_D]}var hI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bD,e.__NG_ENV_ID__=r=>r;let n=e;return n})(),bp=class extends hI{constructor(e){super(),this._lView=e}onDestroy(e){return VE(this._lView,e),()=>Qb(this._lView,e)}};function bD(){return new bp(ie())}var Kr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();var Dp=class extends Be{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Hb()&&(this.destroyRef=w(hI,{optional:!0})??void 0,this.pendingTasks=w(Kr,{optional:!0})??void 0)}emit(e){let t=le(null);try{super.next(e)}finally{le(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof We&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},ve=Dp;function Zu(...n){}function fI(n){let e,t;function r(){n=Zu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function BC(n){return queueMicrotask(()=>n()),()=>{n=Zu}}var Me=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ve(!1),this.onMicrotaskEmpty=new ve(!1),this.onStable=new ve(!1),this.onError=new ve(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,RD(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,DD,Zu,Zu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},DD={};function Eg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function MD(n){n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,Zone.root.run(()=>{fI(()=>{n.callbackScheduled=!1,Mp(n),n.isCheckStableRunning=!0,Eg(n),n.isCheckStableRunning=!1})}),Mp(n))}function RD(n){let e=()=>{MD(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(ND(a))return t.invokeTask(i,o,s,a);try{return VC(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),HC(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return VC(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!kD(a)&&e(),HC(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Mp(n),Eg(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Mp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function VC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function HC(n){n._nesting--,Eg(n)}var Rp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ve,this.onMicrotaskEmpty=new ve,this.onStable=new ve,this.onError=new ve}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function ND(n){return pI(n,"__ignore_ng_zone__")}function kD(n){return pI(n,"__scheduler_tick__")}function pI(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var jr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&rp(e);for(;t&&rp(t);)t=rp(t);return t||null}},OD=new x("",{providedIn:"root",factory:()=>{let n=w(Me),e=w(jr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function xD(){return Rs(St(),ie())}function Rs(n,e){return new Ne(un(n,e))}var Ne=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=xD;let n=e;return n})();function PD(n){return n instanceof Ne?n.nativeElement:n}function LD(){return this._results[Symbol.iterator]()}var Np=class n{get changes(){return this._changes??=new ve}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=LD)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=lb(e);(this._changesDetected=!cb(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function gI(n){return(n.flags&128)===128}var mI=new Map,FD=0;function UD(){return FD++}function BD(n){mI.set(n[md],n)}function VD(n){mI.delete(n[md])}var jC="__ngContext__";function $r(n,e){Ur(e)?(n[jC]=e[md],BD(e)):n[jC]=e}function yI(n){return CI(n[sc])}function vI(n){return CI(n[Tn])}function CI(n){for(;n!==null&&!sr(n);)n=n[Tn];return n}var kp;function EI(n){kp=n}function HD(){if(kp!==void 0)return kp;if(typeof document<"u")return document;throw new U(210,!1)}var Ig=new x("",{providedIn:"root",factory:()=>jD}),jD="ng",wg=new x(""),vt=new x("",{providedIn:"platform",factory:()=>"unknown"});var Tg=new x("",{providedIn:"root",factory:()=>HD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var $D="h",GD="b";var zD=()=>null;function Sg(n,e,t=!1){return zD(n,e,t)}var II=!1,qD=new x("",{providedIn:"root",factory:()=>II});var Op=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${H_})`}};function gc(n){return n instanceof Op?n.changingThisBreaksApplicationSecurity:n}var WD=/^>|^->|<!--|-->|--!>|<!-$/g,KD=/(<|>)/g,YD="\u200B$1\u200B";function QD(n){return n.replace(WD,e=>e.replace(KD,YD))}function wI(n){return n instanceof Function?n():n}var Vn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Vn||{}),ZD;function Ag(n,e){return ZD(n,e)}function gs(n,e,t,r,i){if(r!=null){let o,s=!1;sr(r)?o=r:Ur(r)&&(s=!0,r=r[or]);let a=Bn(r);n===0&&t!==null?i==null?bI(e,t,a):Xu(e,t,a,i||null,!0):n===1&&t!==null?Xu(e,t,a,i||null,!0):n===2?h0(e,a,s):n===3&&e.destroyNode(a),o!=null&&p0(e,n,o,t,i)}}function JD(n,e){return n.createText(e)}function XD(n,e,t){n.setValue(e,t)}function e0(n,e){return n.createComment(QD(e))}function TI(n,e,t){return n.createElement(e,t)}function t0(n,e){SI(n,e),e[or]=null,e[Bt]=null}function n0(n,e,t,r,i,o){r[or]=i,r[Bt]=e,Ad(n,r,t,1,i,o)}function SI(n,e){e[tr].changeDetectionScheduler?.notify(8),Ad(n,e,e[Ye],2,null,null)}function r0(n){let e=n[sc];if(!e)return ip(n[Y],n);for(;e;){let t=null;if(Ur(e))t=e[sc];else{let r=e[Ft];r&&(t=r)}if(!t){for(;e&&!e[Tn]&&e!==n;)Ur(e)&&ip(e[Y],e),e=e[yt];e===null&&(e=n),Ur(e)&&ip(e[Y],e),t=e&&e[Tn]}e=t}}function i0(n,e,t,r){let i=Ft+r,o=t.length;r>0&&(t[i-1][Tn]=e),r<o-Ft?(e[Tn]=t[i],pE(t,Ft+r,e)):(t.push(e),e[Tn]=null),e[yt]=t;let s=e[$i];s!==null&&t!==s&&AI(s,e);let a=e[nr];a!==null&&a.insertView(n),Ip(e),e[H]|=128}function AI(n,e){let t=n[ws],r=e[yt];if(Ur(r))n[H]|=qu.HasTransplantedViews;else{let i=r[yt][ln];e[ln]!==i&&(n[H]|=qu.HasTransplantedViews)}t===null?n[ws]=[e]:t.push(e)}function _g(n,e){let t=n[ws],r=t.indexOf(e);t.splice(r,1)}function Ju(n,e){if(n.length<=Ft)return;let t=Ft+e,r=n[t];if(r){let i=r[$i];i!==null&&i!==n&&_g(i,r),e>0&&(n[t-1][Tn]=r[Tn]);let o=ju(n,Ft+e);t0(r[Y],r);let s=o[nr];s!==null&&s.detachView(o[Y]),r[yt]=null,r[Tn]=null,r[H]&=-129}return r}function bg(n,e){if(!(e[H]&256)){let t=e[Ye];t.destroyNode&&Ad(n,e,t,3,null,null),r0(e)}}function ip(n,e){if(e[H]&256)return;let t=le(null);try{e[H]&=-129,e[H]|=256,e[an]&&Nf(e[an]),s0(n,e),o0(n,e),e[Y].type===1&&e[Ye].destroy();let r=e[$i];if(r!==null&&sr(e[yt])){r!==e[yt]&&_g(r,e);let i=e[nr];i!==null&&i.detachView(n)}VD(e)}finally{le(t)}}function o0(n,e){let t=n.cleanup,r=e[Gu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Gu]=null);let i=e[Fr];if(i!==null){e[Fr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function s0(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Wi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ln(4,a,c);try{c.call(a)}finally{Ln(5,a,c)}}else{Ln(4,i,o);try{o.call(i)}finally{Ln(5,i,o)}}}}}function _I(n,e,t){return a0(n,e.parent,t)}function a0(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[or];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Un.None||o===Un.Emulated)return null}return un(r,t)}}function Xu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function bI(n,e,t){n.appendChild(e,t)}function $C(n,e,t,r,i){r!==null?Xu(n,e,t,r,i):bI(n,e,t)}function c0(n,e,t,r){n.removeChild(e,t,r)}function Dg(n,e){return n.parentNode(e)}function l0(n,e){return n.nextSibling(e)}function DI(n,e,t){return d0(n,e,t)}function u0(n,e,t){return n.type&40?un(n,t):null}var d0=u0,GC;function Sd(n,e,t,r){let i=_I(n,r,e),o=e[Ye],s=r.parent||e[Bt],a=DI(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)$C(o,i,t[c],a,!1);else $C(o,i,t,a,!1);GC!==void 0&&GC(o,r,e,t,i)}function ec(n,e){if(e!==null){let t=e.type;if(t&3)return un(e,n);if(t&4)return xp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ec(n,r);{let i=n[e.index];return sr(i)?xp(-1,i):Bn(i)}}else{if(t&128)return ec(n,e.next);if(t&32)return Ag(e,n)()||Bn(n[e.index]);{let r=MI(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zi(n[ln]);return ec(i,r)}else return ec(n,e.next)}}}return null}function MI(n,e){if(e!==null){let r=n[ln][Bt],i=e.projection;return r.projection[i]}return null}function xp(n,e){let t=Ft+n+1;if(t<e.length){let r=e[t],i=r[Y].firstChild;if(i!==null)return ec(r,i)}return e[Gi]}function h0(n,e,t){let r=Dg(n,e);r&&c0(n,r,e,t)}function Mg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&$r(Bn(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)Mg(n,e,t.child,r,i,o,!1),gs(e,n,i,a,o);else if(c&32){let l=Ag(t,r),u;for(;u=l();)gs(e,n,i,u,o);gs(e,n,i,a,o)}else c&16?RI(n,e,r,t,i,o):gs(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Ad(n,e,t,r,i,o){Mg(t,r,n.firstChild,e,i,o,!1)}function f0(n,e,t){let r=e[Ye],i=_I(n,t,e),o=t.parent||e[Bt],s=DI(o,t,e);RI(r,0,e,t,i,s)}function RI(n,e,t,r,i,o){let s=t[ln],c=s[Bt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];gs(e,n,i,u,o)}else{let l=c,u=s[yt];gI(r)&&(l.flags|=128),Mg(n,e,l,u,i,o,!0)}}function p0(n,e,t,r,i){let o=t[Gi],s=Bn(t);o!==s&&gs(e,n,r,o,i);for(let a=Ft;a<t.length;a++){let c=t[a];Ad(c[Y],c,n,e,r,o)}}function g0(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Vn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Vn.Important),n.setStyle(t,r,i,o))}}function m0(n,e,t){n.setAttribute(e,"style",t)}function NI(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function kI(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&gp(n,e,r),i!==null&&NI(n,e,i),o!==null&&m0(n,e,o)}var An={};function T(n=1){OI(tt(),ie(),Ji()+n,!1)}function OI(n,e,t,r){if(!r)if((e[H]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Lu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Fu(e,o,0,t)}qi(t)}function D(n,e=ee.Default){let t=ie();if(t===null)return L(n,e);let r=St();return cI(r,t,wt(n),e)}function xI(n,e,t,r,i,o){let s=le(null);try{let a=null;i&Br.SignalBased&&(a=e[r][Or]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Br.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):kE(e,a,r,o)}finally{le(s)}}function y0(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)qi(~i);else{let o=i,s=t[++r],a=t[++r];sD(s,o);let c=e[o];a(2,c)}}}finally{qi(-1)}}function _d(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[or]=i,d[H]=r|4|128|8|64,(l!==null||n&&n[H]&2048)&&(d[H]|=2048),UE(d),d[yt]=d[Ms]=n,d[cn]=t,d[tr]=s||n&&n[tr],d[Ye]=a||n&&n[Ye],d[Is]=c||n&&n[Is]||null,d[Bt]=o,d[md]=UD(),d[oc]=u,d[RE]=l,d[ln]=e.type==2?n[ln]:d,d}function Ns(n,e,t,r,i){let o=n.data[e];if(o===null)o=v0(n,e,t,r,i),oD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=nD();o.injectorIndex=s===null?-1:s.injectorIndex}return Zi(o,!0),o}function v0(n,e,t,r,i){let o=GE(),s=pg(),a=s?o:o&&o.parent,c=n.data[e]=S0(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function PI(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function LI(n,e,t,r,i){let o=Ji(),s=r&2;try{qi(-1),s&&e.length>dt&&OI(n,e,dt,!1),Ln(s?2:0,i),t(r,i)}finally{qi(o),Ln(s?3:1,i)}}function Rg(n,e,t){if(ug(e)){let r=le(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{le(r)}}}function Ng(n,e,t){jE()&&(N0(n,e,t,un(t,e)),(t.flags&64)===64&&BI(n,e,t))}function kg(n,e,t=un){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function FI(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Og(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Og(n,e,t,r,i,o,s,a,c,l,u){let d=dt+r,f=d+i,p=C0(d,f),v=typeof l=="function"?l():l;return p[Y]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:u}}function C0(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:An);return t}function E0(n,e,t,r){let o=r.get(qD,II)||t===Un.ShadowDom,s=n.selectRootElement(e,o);return I0(s),s}function I0(n){w0(n)}var w0=()=>null;function T0(n,e,t,r){let i=jI(e);i.push(t),n.firstCreatePass&&$I(n).push(r,i.length-1)}function S0(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return $E()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zC(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Br.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?qC(r,t,l,a,c):qC(r,t,l,a)}return r}function qC(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function A0(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=t?t.get(d):null,p=f?f.inputs:null,v=f?f.outputs:null;c=zC(0,d.inputs,u,c,p),l=zC(1,d.outputs,u,l,v);let I=c!==null&&s!==null&&!ag(e)?j0(c,u,s):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function _0(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function b0(n,e,t,r,i,o,s,a){let c=un(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Pg(n,t,u,r,i),yd(e)&&D0(t,e.index)):e.type&3?(r=_0(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function D0(n,e){let t=qr(e,n);t[H]&16||(t[H]|=64)}function xg(n,e,t,r){if(jE()){let i=r===null?null:{"":-1},o=O0(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&UI(n,e,t,s,i,a),i&&x0(t,r,i)}t.mergedAttrs=rc(t.mergedAttrs,t.attrs)}function UI(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Ap(Qu(t,e),n,r[l].type);L0(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=PI(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=rc(t.mergedAttrs,u.hostAttrs),F0(n,t,e,c,u),P0(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}A0(n,t,o)}function M0(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;R0(s)!=a&&s.push(a),s.push(t,r,o)}}function R0(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function N0(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;yd(t)&&U0(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Qu(t,e),$r(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=Ki(e,n,a,t);if($r(l,e),s!==null&&H0(e,a-i,l,c,t,s),Vr(c)){let u=qr(t.index,e);u[cn]=Ki(e,n,a,t)}}}function BI(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=aD();try{qi(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];wp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&k0(c,l)}}finally{qi(-1),wp(s)}}function k0(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function O0(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(CE(e,s.selectors,!1))if(r||(r=[]),Vr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Pp(n,e,c)}else r.unshift(s),Pp(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Pp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function x0(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}}function P0(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Vr(e)&&(t[""]=n)}}function L0(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function F0(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Hi(i.type,!0)),s=new Wi(o,Vr(i),D);n.blueprint[r]=s,t[r]=s,M0(n,e,r,PI(n,t,i.hostVars,An),i)}function U0(n,e,t){let r=un(e,n),i=FI(t),o=n[tr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=bd(n,_d(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function B0(n,e,t,r,i,o){let s=un(n,e);V0(e[Ye],s,o,n.value,t,r,i)}function V0(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?rg(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function H0(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];xI(r,t,c,l,u,d)}}function j0(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function VI(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function HI(n,e){let t=n.contentQueries;if(t!==null){let r=le(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];mg(o),a.contentQueries(2,e[s],s)}}}finally{le(r)}}}function bd(n,e){return n[sc]?n[kC][Tn]=e:n[sc]=e,n[kC]=e,e}function Lp(n,e,t){mg(0);let r=le(null);try{e(n,t)}finally{le(r)}}function jI(n){return n[Gu]??=[]}function $I(n){return n.cleanup??=[]}function GI(n,e){let t=n[Is],r=t?t.get(jr,null):null;r&&r.handleError(e)}function Pg(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];xI(u,l,r,a,c,i)}}function $0(n,e,t){let r=FE(e,n);XD(n[Ye],r,t)}function G0(n,e){let t=qr(e,n),r=t[Y];z0(r,t);let i=t[or];i!==null&&t[oc]===null&&(t[oc]=Sg(i,t[Is])),Lg(r,t,t[cn])}function z0(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Lg(n,e,t){yg(e);try{let r=n.viewQuery;r!==null&&Lp(1,r,t);let i=n.template;i!==null&&LI(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[nr]?.finishViewCreation(n),n.staticContentQueries&&HI(n,e),n.staticViewQueries&&Lp(2,n.viewQuery,t);let o=n.components;o!==null&&q0(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[H]&=-5,vg()}}function q0(n,e){for(let t=0;t<e.length;t++)G0(n,e[t])}function Fg(n,e,t,r){let i=le(null);try{let o=e.tView,a=n[H]&4096?4096:16,c=_d(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[$i]=l;let u=n[nr];return u!==null&&(c[nr]=u.createEmbeddedView(o)),Lg(o,c,t),c}finally{le(i)}}function W0(n,e){let t=Ft+e;if(t<n.length)return n[t]}function ed(n,e){return!e||e.firstChild===null||gI(n)}function Ug(n,e,t,r=!0){let i=e[Y];if(i0(i,e,n,t),r){let s=xp(t,n),a=e[Ye],c=Dg(a,n[Gi]);c!==null&&n0(i,n[Bt],a,e,c,s)}let o=e[oc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function K0(n,e){let t=Ju(n,e);return t!==void 0&&bg(t[Y],t),t}function td(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Bn(o)),sr(o)&&Y0(o,r);let s=t.type;if(s&8)td(n,e,t.child,r);else if(s&32){let a=Ag(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=MI(e,t);if(Array.isArray(a))r.push(...a);else{let c=zi(e[ln]);td(c[Y],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Y0(n,e){for(let t=Ft;t<n.length;t++){let r=n[t],i=r[Y].firstChild;i!==null&&td(r[Y],r,i,e)}n[Gi]!==n[or]&&e.push(n[Gi])}var zI=[];function Q0(n){return n[an]??Z0(n)}function Z0(n){let e=zI.pop()??Object.create(X0);return e.lView=n,e}function J0(n){n.lView[an]!==n&&(n.lView=null,zI.push(n))}var X0=A(m({},Qa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Cd(n.lView)},consumerOnSignalRead(){this.lView[an]=this}});function eM(n){let e=n[an]??Object.create(tM);return e.lView=n,e}var tM=A(m({},Qa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=zi(n.lView);for(;e&&!qI(e[Y]);)e=zi(e);e&&BE(e)},consumerOnSignalRead(){this.lView[an]=this}});function qI(n){return n.type!==2}var nM=100;function WI(n,e=!0,t=0){let r=n[tr],i=r.rendererFactory,o=!1;o||i.begin?.();try{rM(n,t)}catch(s){throw e&&GI(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function rM(n,e){let t=zE();try{xC(!0),Fp(n,e);let r=0;for(;ac(n);){if(r===nM)throw new U(103,!1);r++,Fp(n,1)}}finally{xC(t)}}function iM(n,e,t,r){let i=e[H];if((i&256)===256)return;let o=!1,s=!1;!o&&e[tr].inlineEffectRunner?.flush(),yg(e);let a=!0,c=null,l=null;o||(qI(n)?(l=Q0(e),c=ou(l)):Bv()===null?(a=!1,l=eM(e),c=ou(l)):e[an]&&(Nf(e[an]),e[an]=null));try{UE(e),iD(n.bindingStartIndex),t!==null&&LI(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let p=n.preOrderCheckHooks;p!==null&&Lu(e,p,null)}else{let p=n.preOrderHooks;p!==null&&Fu(e,p,0,null),ep(e,0)}if(s||oM(e),KI(e,0),n.contentQueries!==null&&HI(n,e),!o)if(u){let p=n.contentCheckHooks;p!==null&&Lu(e,p)}else{let p=n.contentHooks;p!==null&&Fu(e,p,1),ep(e,1)}y0(n,e);let d=n.components;d!==null&&QI(e,d,0);let f=n.viewQuery;if(f!==null&&Lp(2,f,r),!o)if(u){let p=n.viewCheckHooks;p!==null&&Lu(e,p)}else{let p=n.viewHooks;p!==null&&Fu(e,p,2),ep(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Xf]){for(let p of e[Xf])p();e[Xf]=null}o||(e[H]&=-73)}catch(u){throw o||Cd(e),u}finally{l!==null&&(Mf(l,c),a&&J0(l)),vg()}}function KI(n,e){for(let t=yI(n);t!==null;t=vI(t))for(let r=Ft;r<t.length;r++){let i=t[r];YI(i,e)}}function oM(n){for(let e=yI(n);e!==null;e=vI(e)){if(!(e[H]&qu.HasTransplantedViews))continue;let t=e[ws];for(let r=0;r<t.length;r++){let i=t[r];BE(i)}}}function sM(n,e,t){let r=qr(e,n);YI(r,t)}function YI(n,e){fg(n)&&Fp(n,e)}function Fp(n,e){let r=n[Y],i=n[H],o=n[an],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Rf(o)),s||=!1,o&&(o.dirty=!1),n[H]&=-9217,s)iM(r,n,r.template,n[cn]);else if(i&8192){KI(n,1);let a=r.components;a!==null&&QI(n,a,1)}}function QI(n,e,t){for(let r=0;r<e.length;r++)sM(n,e[r],t)}function Bg(n,e){let t=zE()?64:1088;for(n[tr].changeDetectionScheduler?.notify(e);n;){n[H]|=t;let r=zi(n);if(Cp(n)&&!r)return n;n=r}return null}var Yi=class{get rootNodes(){let e=this._lView,t=e[Y];return td(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[cn]}set context(e){this._lView[cn]=e}get destroyed(){return(this._lView[H]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yt];if(sr(e)){let t=e[zu],r=t?t.indexOf(this):-1;r>-1&&(Ju(e,r),ju(t,r))}this._attachedToViewContainer=!1}bg(this._lView[Y],this._lView)}onDestroy(e){VE(this._lView,e)}markForCheck(){Bg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[H]&=-129}reattach(){Ip(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,WI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Cp(this._lView),t=this._lView[$i];t!==null&&!e&&_g(t,this._lView),SI(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let t=Cp(this._lView),r=this._lView[$i];r!==null&&!t&&AI(r,this._lView),Ip(this._lView)}},Gr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lM;let n=e;return n})(),aM=Gr,cM=class extends aM{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Fg(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Yi(i)}};function lM(){return Dd(St(),ie())}function Dd(n,e){return n.type&4?new cM(e,n,Rs(n,e)):null}var BH=new RegExp(`^(\\d+)*(${GD}|${$D})*(.*)`);var uM=()=>null;function nd(n,e){return uM(n,e)}var cc=class{},Vg=new x("",{providedIn:"root",factory:()=>!1});var ZI=new x(""),Up=class{},rd=class{};function dM(n){let e=Error(`No component factory found for ${Tt(n)}.`);return e[hM]=n,e}var hM="ngComponent";var Bp=class{resolveComponentFactory(e){throw dM(e)}},Wg=class Wg{};Wg.NULL=new Bp;var Ss=Wg,As=class{},Vt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>fM();let n=e;return n})();function fM(){let n=ie(),e=St(),t=qr(e.index,n);return(Ur(t)?t:n)[Ye]}var pM=(()=>{let e=class e{};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>null});let n=e;return n})();var WC=new Set;function Xi(n){WC.has(n)||(WC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var JI=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();function id(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=dp(i,a);else if(o==2){let c=a,l=e[++s];r=dp(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var od=class extends Ss{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ji(e);return new lc(t,this.ngModule)}};function KC(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Br.None;e?t.push({propName:s,templateName:r,isSignal:(a&Br.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function gM(n){let e=n.toLowerCase();return e==="svg"?LE:e==="math"?qb:null}var lc=class extends rd{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=KC(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return KC(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Ab(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=le(null);try{i=i||this.ngModule;let s=i instanceof Ut?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Tp(e,s):e,c=a.get(As,null);if(c===null)throw new U(407,!1);let l=a.get(pM,null),u=a.get(JI,null),d=a.get(cc,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",I=r?E0(p,r,this.componentDef.encapsulation,a):TI(p,v,gM(v)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let M=null;I!==null&&(M=Sg(I,a,!0));let ae=Og(0,null,null,1,0,null,null,null,null,null,null),ce=_d(null,ae,null,_,null,null,f,p,a,null,M);yg(ce);let me,ut;try{let Qe=this.componentDef,sn,ns=null;Qe.findHostDirectiveDefs?(sn=[],ns=new Map,Qe.findHostDirectiveDefs(Qe,sn,ns),sn.push(Qe)):sn=[Qe];let h_=mM(ce,I),f_=yM(h_,I,Qe,sn,ce,f,p);ut=dg(ae,dt),I&&EM(p,Qe,I,r),t!==void 0&&IM(ut,this.ngContentSelectors,t),me=CM(f_,Qe,sn,ns,ce,[wM]),Lg(ae,ce,null)}finally{vg()}return new Vp(this.componentType,me,Rs(ut,ce),ce,ut)}finally{le(o)}}},Vp=class extends Up{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Yi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Pg(o[Y],o,i,e,t),this.previousInputValues.set(e,t);let s=qr(this._tNode.index,o);Bg(s,1)}}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mM(n,e){let t=n[Y],r=dt;return n[r]=e,Ns(t,r,2,"#host",null)}function yM(n,e,t,r,i,o,s){let a=i[Y];vM(r,n,e,s);let c=null;e!==null&&(c=Sg(e,i[Is]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=_d(i,FI(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Pp(a,n,r.length-1),bd(i,d),i[n.index]=d}function vM(n,e,t,r){for(let i of n)e.mergedAttrs=rc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(id(e,e.mergedAttrs,!0),t!==null&&kI(r,t,e))}function CM(n,e,t,r,i,o){let s=St(),a=i[Y],c=un(s,i);UI(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,f=Ki(i,a,d,s);$r(f,i)}BI(a,i,s),c&&$r(c,i);let l=Ki(i,a,s.directiveStart+s.componentOffset,s);if(n[cn]=i[cn]=l,o!==null)for(let u of o)u(l,e);return Rg(a,s,i),l}function EM(n,e,t,r){if(r)gp(n,t,["ng-version","18.1.3"]);else{let{attrs:i,classes:o}=_b(e.selectors[0]);i&&gp(n,t,i),o&&o.length>0&&NI(n,t,o.join(" "))}}function IM(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function wM(){let n=St();Td(ie()[Y],n)}var Yr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=TM;let n=e;return n})();function TM(){let n=St();return ew(n,ie())}var SM=Yr,XI=class extends SM{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Rs(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Cg(this._hostTNode,this._hostLView);if(nI(e)){let t=Ku(e,this._hostLView),r=Wu(e),i=t[Y].data[r+8];return new Vi(i,t)}else return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=YC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=nd(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ed(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!jb(e),a;if(s)a=t;else{let v=t||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?e:new lc(ji(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let I=(s?l:this.parentInjector).get(Ut,null);I&&(o=I)}let u=ji(c.componentType??{}),d=nd(this._lContainer,u?.id??null),f=d?.firstChild??null,p=c.create(l,i,f,o);return this.insertImpl(p.hostView,a,ed(this._hostTNode,d)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Kb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[yt],l=new XI(c,c[Bt],c[yt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Ug(s,i,o,r),e.attachToViewContainerRef(),pE(op(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=YC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ju(this._lContainer,t);r&&(ju(op(this._lContainer),t),bg(r[Y],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ju(this._lContainer,t);return r&&ju(op(this._lContainer),t)!=null?new Yi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function YC(n){return n[zu]}function op(n){return n[zu]||(n[zu]=[])}function ew(n,e){let t,r=e[n.index];return sr(r)?t=r:(t=VI(r,e,null,n),e[n.index]=t,bd(e,t)),_M(t,e,n,r),new XI(t,n,e)}function AM(n,e){let t=n[Ye],r=t.createComment(""),i=un(e,n),o=Dg(t,i);return Xu(t,o,r,l0(t,i),!1),r}var _M=MM,bM=()=>!1;function DM(n,e,t){return bM(n,e,t)}function MM(n,e,t,r){if(n[Gi])return;let i;t.type&8?i=Bn(r):i=AM(e,t),n[Gi]=i}var Hp=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},jp=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Hg(e,t).matches!==null&&this.queries[t].setDirty()}},sd=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=FM(e):this.predicate=e}},$p=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Gp=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,RM(t,o)),this.matchTNodeWithReadOption(e,t,Uu(t,e,o,!1,!1))}else r===Gr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Uu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ne||i===Yr||i===Gr&&t.type&4)this.addMatch(t.index,-2);else{let o=Uu(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function RM(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function NM(n,e){return n.type&11?Rs(n,e):n.type&4?Dd(n,e):null}function kM(n,e,t,r){return t===-1?NM(e,n):t===-2?OM(n,e,r):Ki(n,n[Y],t,e)}function OM(n,e,t){if(t===Ne)return Rs(e,n);if(t===Gr)return Dd(e,n);if(t===Yr)return ew(e,n)}function tw(n,e,t,r){let i=e[nr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(kM(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function zp(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=tw(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Ft;d<u.length;d++){let f=u[d];f[$i]===f[yt]&&zp(f[Y],f,l,r)}if(u[ws]!==null){let d=u[ws];for(let f=0;f<d.length;f++){let p=d[f];zp(p[Y],p,l,r)}}}}}return r}function xM(n,e){return n[nr].queries[e].queryList}function nw(n,e,t){let r=new Np((t&4)===4);return T0(n,e,r,r.destroy),(e[nr]??=new jp).queries.push(new Hp(r))-1}function PM(n,e,t){let r=tt();return r.firstCreatePass&&(rw(r,new sd(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),nw(r,ie(),e)}function LM(n,e,t,r){let i=tt();if(i.firstCreatePass){let o=St();rw(i,new sd(e,t,r),o.index),UM(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return nw(i,ie(),t)}function FM(n){return n.split(",").map(e=>e.trim())}function rw(n,e,t){n.queries===null&&(n.queries=new $p),n.queries.track(new Gp(e,t))}function UM(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Hg(n,e){return n.queries.getByIndex(e)}function BM(n,e){let t=n[Y],r=Hg(t,e);return r.crossesNgTemplate?zp(t,n,e,[]):tw(t,n,r,e)}function Qr(n,e){Xi("NgSignals");let t=Qv(n),r=t[Or];return e?.equal&&(r.equal=e.equal),t.set=i=>kf(r,i),t.update=i=>Zv(r,i),t.asReadonly=VM.bind(t),t}function VM(){let n=this[Or];if(n.readonlyFn===void 0){let e=()=>this();e[Or]=n,n.readonlyFn=e}return n.readonlyFn}function HM(n){return Object.getPrototypeOf(n.prototype).constructor}function ht(n){let e=HM(n.type),t=!0,r=[n];for(;e;){let i;if(Vr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Ou(n.inputs),s.inputTransforms=Ou(n.inputTransforms),s.declaredInputs=Ou(n.declaredInputs),s.outputs=Ou(n.outputs);let a=i.hostBindings;a&&qM(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&GM(n,c),l&&zM(n,l),jM(n,i),$_(n.outputs,i.outputs),Vr(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===ht&&(t=!1)}}e=Object.getPrototypeOf(e)}$M(r)}function jM(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function $M(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=rc(i.hostAttrs,t=rc(t,i.hostAttrs))}}function Ou(n){return n===vs?{}:n===Lt?[]:n}function GM(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function zM(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function qM(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Yt(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var zr=class{},uc=class{};var qp=class extends zr{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new od(this);let i=TE(e);this._bootstrapComponents=wI(i.bootstrap),this._r3Injector=dI(e,t,[{provide:zr,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver},...r],Tt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wp=class extends uc{constructor(e){super(),this.moduleType=e}create(e){return new qp(this.moduleType,e,[])}};var ad=class extends zr{constructor(e){super(),this.componentFactoryResolver=new od(this),this.instance=null;let t=new ic([...e.providers,{provide:zr,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver}],e.parent||lg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function jg(n,e,t=null){return new ad({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function iw(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function $g(n,e,t){return n[e]=t}function WM(n,e){return n[e]}function rr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function KM(n,e,t,r){let i=rr(n,e,t);return rr(n,e+1,r)||i}function YM(n){return(n.flags&32)===32}function QM(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Ns(e,n,4,s||null,a||null);xg(e,t,u,Ts(l,c)),Td(e,u);let d=u.tView=Og(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function ow(n,e,t,r,i,o,s,a,c,l){let u=t+dt,d=e.firstCreatePass?QM(u,e,n,r,i,o,s,a,c):e.data[u];Zi(d,!1);let f=ZM(e,n,d,t);Id()&&Sd(e,n,f,d),$r(f,n);let p=VI(f,n,f,d);return n[u]=p,bd(n,p),DM(p,d,n),vd(d)&&Ng(e,n,d),c!=null&&kg(n,d,l),d}function fe(n,e,t,r,i,o,s,a){let c=ie(),l=tt(),u=Ts(l.consts,o);return ow(c,l,n,e,t,r,i,u,s,a),fe}var ZM=JM;function JM(n,e,t,r){return wd(!0),e[Ye].createComment("")}function Q(n,e,t,r){let i=ie(),o=Ed();if(rr(i,o,e)){let s=tt(),a=XE();B0(a,i,n,e,t,r)}return Q}function XM(n,e,t,r){return rr(n,Ed(),t)?e+rg(t)+r:An}function xu(n,e){return n<<17|e<<2}function Qi(n){return n>>17&32767}function eR(n){return(n&2)==2}function tR(n,e){return n&131071|e<<17}function Kp(n){return n|2}function _s(n){return(n&131068)>>2}function sp(n,e){return n&-131069|e<<2}function nR(n){return(n&1)===1}function Yp(n){return n|1}function rR(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Qi(s),c=_s(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||fc(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let f=Qi(n[a+1]);n[r+1]=xu(f,a),f!==0&&(n[f+1]=sp(n[f+1],r)),n[a+1]=tR(n[a+1],r)}else n[r+1]=xu(a,0),a!==0&&(n[a+1]=sp(n[a+1],r)),a=r;else n[r+1]=xu(c,0),a===0?a=r:n[c+1]=sp(n[c+1],r),c=r;l&&(n[r+1]=Kp(n[r+1])),QC(n,u,r,!0),QC(n,u,r,!1),iR(e,u,n,r,o),s=xu(a,c),o?e.classBindings=s:e.styleBindings=s}function iR(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&fc(o,e)>=0&&(t[r+1]=Yp(t[r+1]))}function QC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Qi(i):_s(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];oR(c,e)&&(a=!0,n[s+1]=r?Yp(l):Kp(l)),s=r?Qi(l):_s(l)}a&&(n[t+1]=r?Kp(i):Yp(i))}function oR(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?fc(n,e)>=0:!1}var et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sw(n){return n.substring(et.key,et.keyEnd)}function sR(n){return n.substring(et.value,et.valueEnd)}function aR(n){return lw(n),aw(n,bs(n,0,et.textEnd))}function aw(n,e){let t=et.textEnd;return t===e?-1:(e=et.keyEnd=lR(n,et.key=e,t),bs(n,e,t))}function cR(n){return lw(n),cw(n,bs(n,0,et.textEnd))}function cw(n,e){let t=et.textEnd,r=et.key=bs(n,e,t);return t===r?-1:(r=et.keyEnd=uR(n,r,t),r=ZC(n,r,t,58),r=et.value=bs(n,r,t),r=et.valueEnd=dR(n,r,t),ZC(n,r,t,59))}function lw(n){et.key=0,et.keyEnd=0,et.value=0,et.valueEnd=0,et.textEnd=n.length}function bs(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function lR(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function uR(n,e,t){let r;for(;e<t&&((r=n.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function ZC(n,e,t,r){return e=bs(n,e,t),e<t&&e++,e}function dR(n,e,t){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<t;){let c=n.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=JC(n,c,s,t):e===s-4&&o===85&&i===82&&r===76&&c===40?a=s=JC(n,41,s,t):c>32&&(a=s),o=i,i=r,r=c&-33}return a}function JC(n,e,t,r){let i=-1,o=t;for(;o<r;){let s=n.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function O(n,e,t){let r=ie(),i=Ed();if(rr(r,i,e)){let o=tt(),s=XE();b0(o,s,r,n,e,r[Ye],t,!1)}return O}function Qp(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Pg(n,t,o[s],s,r)}function Hn(n,e){return pR(n,e,null,!0),Hn}function uw(n){dw(pw,hR,n,!1)}function hR(n,e){for(let t=cR(e);t>=0;t=cw(e,t))pw(n,sw(e),sR(e))}function ft(n){dw(ER,fR,n,!0)}function fR(n,e){for(let t=aR(e);t>=0;t=aw(e,t))fd(n,sw(e),!0)}function pR(n,e,t,r){let i=ie(),o=tt(),s=qE(2);if(o.firstUpdatePass&&fw(o,n,s,r),e!==An&&rr(i,s,e)){let a=o.data[Ji()];gw(o,a,i,i[Ye],n,i[s+1]=wR(e,t),r,s)}}function dw(n,e,t,r){let i=tt(),o=qE(2);i.firstUpdatePass&&fw(i,null,o,r);let s=ie();if(t!==An&&rr(s,o,t)){let a=i.data[Ji()];if(mw(a,r)&&!hw(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=dp(c,t||"")),Qp(i,a,s,t,r)}else IR(i,a,s,s[Ye],s[o+1],s[o+1]=CR(n,e,t),r,o)}}function hw(n,e){return e>=n.expandoStartIndex}function fw(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ji()],s=hw(n,t);mw(o,r)&&e===null&&!s&&(e=!1),e=gR(i,o,e,r),rR(i,o,e,t,s,r)}}function gR(n,e,t,r){let i=cD(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ap(null,n,e,t,r),t=dc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=ap(i,n,e,t,r),o===null){let c=mR(n,e,r);c!==void 0&&Array.isArray(c)&&(c=ap(null,n,e,c[1],r),c=dc(c,e.attrs,r),yR(n,e,r,c))}else o=vR(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function mR(n,e,t){let r=t?e.classBindings:e.styleBindings;if(_s(r)!==0)return n[Qi(r)]}function yR(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Qi(i)]=r}function vR(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=dc(r,s,t)}return dc(r,e.attrs,t)}function ap(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=dc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function dc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),fd(n,s,t?!0:e[++o]))}return n===void 0?null:n}function CR(n,e,t){if(t==null||t==="")return Lt;let r=[],i=gc(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function pw(n,e,t){fd(n,e,gc(t))}function ER(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&fd(n,r,t)}function IR(n,e,t,r,i,o,s,a){i===An&&(i=Lt);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=c<i.length?i[c+1]:void 0,p=l<o.length?o[l+1]:void 0,v=null,I;u===d?(c+=2,l+=2,f!==p&&(v=d,I=p)):d===null||u!==null&&u<d?(c+=2,v=u):(l+=2,v=d,I=p),v!==null&&gw(n,e,t,r,v,I,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function gw(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=nR(l)?XC(c,e,t,i,_s(l),s):void 0;if(!cd(u)){cd(o)||eR(l)&&(o=XC(c,null,t,i,a,s));let d=FE(Ji(),t);g0(r,s,d,i,o)}}function XC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=t[i+1];f===An&&(f=d?Lt:void 0);let p=d?Zf(f,r):u===r?f:void 0;if(l&&!cd(p)&&(p=Zf(c,r)),cd(p)&&(a=p,s))return a;let v=n[i+1];i=s?Qi(v):_s(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Zf(c,r))}return a}function cd(n){return n!==void 0}function wR(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Tt(gc(n)))),n}function mw(n,e){return(n.flags&(e?8:16))!==0}function mc(n,e){Xi("NgControlFlow");let t=ie(),r=Ed(),i=t[r]!==An?t[r]:-1,o=i!==-1?eE(t,dt+i):void 0,s=0;if(rr(t,r,n)){let a=le(null);try{if(o!==void 0&&K0(o,s),n!==-1){let c=dt+n,l=eE(t,c),u=TR(t[Y],c),d=nd(l,u.tView.ssrId),f=Fg(t,u,e,{dehydratedView:d});Ug(l,f,s,ed(u,d))}}finally{le(a)}}else if(o!==void 0){let a=W0(o,s);a!==void 0&&(a[cn]=e)}}function eE(n,e){return n[e]}function TR(n,e){return dg(n,e)}function SR(n,e,t,r,i,o){let s=e.consts,a=Ts(s,i),c=Ns(e,n,2,r,a);return xg(e,t,c,Ts(s,o)),c.attrs!==null&&id(c,c.attrs,!1),c.mergedAttrs!==null&&id(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function N(n,e,t,r){let i=ie(),o=tt(),s=dt+n,a=i[Ye],c=o.firstCreatePass?SR(s,o,i,e,t,r):o.data[s],l=AR(o,i,c,a,e,n);i[s]=l;let u=vd(c);return Zi(c,!0),kI(a,l,c),!YM(c)&&Id()&&Sd(o,i,l,c),Zb()===0&&$r(l,i),Jb(),u&&(Ng(o,i,c),Rg(o,c,i)),r!==null&&kg(i,c),N}function b(){let n=St();pg()?gg():(n=n.parent,Zi(n,!1));let e=n;eD(e)&&tD(),Xb();let t=tt();return t.firstCreatePass&&(Td(t,n),ug(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&gD(e)&&Qp(t,e,ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&mD(e)&&Qp(t,e,ie(),e.stylesWithoutHost,!1),b}function Te(n,e,t,r){return N(n,e,t,r),b(),Te}var AR=(n,e,t,r,i,o)=>(wd(!0),TI(r,i,dD()));function _R(n,e,t,r,i){let o=e.consts,s=Ts(o,r),a=Ns(e,n,8,"ng-container",s);s!==null&&id(a,s,!0);let c=Ts(o,i);return xg(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function dn(n,e,t){let r=ie(),i=tt(),o=n+dt,s=i.firstCreatePass?_R(o,i,r,e,t):i.data[o];Zi(s,!0);let a=bR(i,r,s,n);return r[o]=a,Id()&&Sd(i,r,a,s),$r(a,r),vd(s)&&(Ng(i,r,s),Rg(i,s,r)),t!=null&&kg(r,s),dn}function hn(){let n=St(),e=tt();return pg()?gg():(n=n.parent,Zi(n,!1)),e.firstCreatePass&&(Td(e,n),ug(n)&&e.queries.elementEnd(n)),hn}function Qt(n,e,t){return dn(n,e,t),hn(),Qt}var bR=(n,e,t,r)=>(wd(!0),e0(e[Ye],""));function Zt(){return ie()}var ld="en-US";var DR=ld;function MR(n){typeof n=="string"&&(DR=n.toLowerCase().replace(/_/g,"-"))}var RR=(n,e,t)=>{};function Ce(n,e,t,r){let i=ie(),o=tt(),s=St();return kR(o,i,i[Ye],s,n,e,r),Ce}function NR(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Gu],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function kR(n,e,t,r,i,o,s){let a=vd(r),l=n.firstCreatePass&&$I(n),u=e[cn],d=jI(e),f=!0;if(r.type&3||s){let I=un(r,e),_=s?s(I):I,M=d.length,ae=s?me=>s(Bn(me[r.index])):r.index,ce=null;if(!s&&a&&(ce=NR(n,e,i,r.index)),ce!==null){let me=ce.__ngLastListenerFn__||ce;me.__ngNextListenerFn__=o,ce.__ngLastListenerFn__=o,f=!1}else{o=nE(r,e,u,o),RR(I,i,o);let me=t.listen(_,i,o);d.push(o,me),l&&l.push(i,ae,M,M+1)}}else o=nE(r,e,u,o);let p=r.outputs,v;if(f&&p!==null&&(v=p[i])){let I=v.length;if(I)for(let _=0;_<I;_+=2){let M=v[_],ae=v[_+1],ut=e[M][ae].subscribe(o),Qe=d.length;d.push(o,ut),l&&l.push(i,r.index,Qe,-(Qe+1))}}}function tE(n,e,t,r){let i=le(null);try{return Ln(6,e,t),t(r)!==!1}catch(o){return GI(n,o),!1}finally{Ln(7,e,t),le(i)}}function nE(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?qr(n.index,e):e;Bg(s,5);let a=tE(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=tE(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function te(n=1){return uD(n)}function OR(n,e){let t=null,r=Eb(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?CE(n,o,!0):Tb(r,o))return i}return t}function cr(n){let e=ie()[ln][Bt];if(!e.projection){let t=n?n.length:1,r=e.projection=ub(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?OR(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function lr(n,e=0,t,r,i,o){let s=ie(),a=tt(),c=r?n+1:null;c!==null&&ow(s,a,c,r,i,o,null,t);let l=Ns(a,dt+n,16,null,t||null);l.projection===null&&(l.projection=e),gg();let d=!s[oc]||$E();s[ln][Bt].projection[l.projection]===null&&c!==null?xR(s,a,c):d&&(l.flags&32)!==32&&f0(a,s,l)}function xR(n,e,t){let r=dt+t,i=e.data[r],o=n[r],s=nd(o,i.tView.ssrId),a=Fg(n,i,void 0,{dehydratedView:s});Ug(o,a,0,ed(i,s))}function ur(n,e,t,r){LM(n,e,t,r)}function eo(n,e,t){PM(n,e,t)}function Ht(n){let e=ie(),t=tt(),r=WE();mg(r+1);let i=Hg(t,r);if(n.dirty&&Wb(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=BM(e,r);n.reset(o,PD),n.notifyOnChanges()}return!0}return!1}function jt(){return xM(ie(),WE())}function PR(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function yw(n){let e=rD();return hg(e,dt+n)}function ye(n,e=""){let t=ie(),r=tt(),i=n+dt,o=r.firstCreatePass?Ns(r,i,1,e,null):r.data[i],s=LR(r,t,o,e,n);t[i]=s,Id()&&Sd(r,t,s,o),Zi(o,!1)}var LR=(n,e,t,r,i)=>(wd(!0),JD(e[Ye],r));function ks(n){return He("",n,""),ks}function He(n,e,t){let r=ie(),i=XM(r,n,e,t);return i!==An&&$0(r,Ji(),i),He}function FR(n,e,t){let r=tt();if(r.firstCreatePass){let i=Vr(n);Zp(t,r.data,r.blueprint,i,!0),Zp(e,r.data,r.blueprint,i,!1)}}function Zp(n,e,t,r,i){if(n=wt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Zp(n[o],e,t,r,i);else{let o=tt(),s=ie(),a=St(),c=Es(n)?n:wt(n.provide),l=ME(n),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Es(n)||!n.multi){let p=new Wi(l,i,D),v=lp(c,e,i?u:u+f,d);v===-1?(Ap(Qu(a,s),o,c),cp(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[v]=p,s[v]=p)}else{let p=lp(c,e,u+f,d),v=lp(c,e,u,u+f),I=p>=0&&t[p],_=v>=0&&t[v];if(i&&!_||!i&&!I){Ap(Qu(a,s),o,c);let M=VR(i?BR:UR,t.length,i,r,l);!i&&_&&(t[v].providerFactory=M),cp(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else{let M=vw(t[i?v:p],l,!i&&r);cp(o,n,p>-1?p:v,M)}!i&&r&&_&&t[v].componentProviders++}}}function cp(n,e,t,r){let i=Es(e),o=xb(e);if(i||o){let c=(o?wt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function vw(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function lp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function UR(n,e,t,r){return Jp(this.multi,[])}function BR(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ki(t,t[Y],this.providerFactory.index,r);o=a.slice(0,s),Jp(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Jp(i,o);return o}function Jp(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function VR(n,e,t,r,i){let o=new Wi(n,t,D);return o.multi=[],o.index=e,o.componentProviders=0,vw(o,i,r&&!t),o}function to(n,e=[]){return t=>{t.providersResolver=(r,i)=>FR(r,i?i(n):n,e)}}var HR=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=_E(!1,r.type),o=i.length>0?jg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(L(Ut))});let n=e;return n})();function oe(n){Xi("NgStandalone"),n.getStandaloneInjector=e=>e.get(HR).getOrCreateStandaloneInjector(n)}function Cw(n,e,t){let r=pc()+n,i=ie();return i[r]===An?$g(i,r,t?e.call(t):e()):WM(i,r)}function Os(n,e,t,r){return ww(ie(),pc(),n,e,t,r)}function Ew(n,e,t,r,i){return Tw(ie(),pc(),n,e,t,r,i)}function Iw(n,e){let t=n[e];return t===An?void 0:t}function ww(n,e,t,r,i,o){let s=e+t;return rr(n,s,i)?$g(n,s+1,o?r.call(o,i):r(i)):Iw(n,s+1)}function Tw(n,e,t,r,i,o,s){let a=e+t;return KM(n,a,i,o)?$g(n,a+2,s?r.call(s,i,o):r(i,o)):Iw(n,a+2)}function Ve(n,e){let t=tt(),r,i=n+dt;t.firstCreatePass?(r=jR(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Hi(r.type,!0)),s,a=Pt(D);try{let c=Yu(!1),l=o();return Yu(c),PR(t,ie(),i,l),l}finally{Pt(a)}}function jR(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function nt(n,e,t){let r=n+dt,i=ie(),o=hg(i,r);return Sw(i,r)?ww(i,pc(),e,o.transform,t,o):o.transform(t)}function yc(n,e,t,r){let i=n+dt,o=ie(),s=hg(o,i);return Sw(o,i)?Tw(o,pc(),e,s.transform,t,r,s):s.transform(t,r)}function Sw(n,e){return n[Y].data[e].pure}function Aw(n,e){return Dd(n,e)}var Md=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var _w=new x("");function no(n){return!!n&&typeof n.then=="function"}function bw(n){return!!n&&typeof n.subscribe=="function"}var Dw=new x(""),Mw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=w(Dw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(no(s))r.push(s);else if(bw(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Rd=new x("");function $R(){Yv(()=>{throw new U(600,!1)})}function GR(n){return n.isBoundToModule}var zR=10;function qR(n,e,t){try{let r=t();return no(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var ro=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(OD),this.afterRenderEffectManager=w(JI),this.zonelessEnabled=w(Vg),this.externalTestViews=new Set,this.beforeRender=new Be,this.afterTick=new Be,this.componentTypes=[],this.components=[],this.isStable=w(Kr).hasPendingTasks.pipe($(r=>!r)),this._injector=w(Ut)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof rd;if(!this._injector.get(Mw).done){let p=!o&&wE(r),v=!1;throw new U(405,v)}let a;o?a=r:a=this._injector.get(Ss).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=GR(a)?void 0:this._injector.get(zr),l=i||a.selector,u=a.create(Hr.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(_w,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),up(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new U(101,!1);let i=le(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,le(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(As,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<zR;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:l}of this._views)WR(c,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>ac(c))&&(s.execute(),!this.allViews.some(({_lView:c})=>ac(c))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;up(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Rd,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>up(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new U(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function up(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function WR(n,e,t,r){if(!t&&!ac(n))return;WI(n,e,t&&!r?0:1)}var Xp=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Gg=(()=>{let e=class e{compileModuleSync(r){return new Wp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=TE(r),s=wI(o.declarations).reduce((a,c)=>{let l=ji(c);return l&&a.push(new lc(l)),a},[]);return new Xp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var KR=(()=>{let e=class e{constructor(){this.zone=w(Me),this.changeDetectionScheduler=w(cc),this.applicationRef=w(ro)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),YR=new x("",{factory:()=>!1});function Rw({ngZoneFactory:n,ignoreChangesOutsideZone:e}){return n??=()=>new Me(kw()),[{provide:Me,useFactory:n},{provide:Cs,multi:!0,useFactory:()=>{let t=w(KR,{optional:!0});return()=>t.initialize()}},{provide:Cs,multi:!0,useFactory:()=>{let t=w(QR);return()=>{t.initialize()}}},e===!0?{provide:ZI,useValue:!0}:[]]}function Nw(n){let e=n?.ignoreChangesOutsideZone,t=Rw({ngZoneFactory:()=>{let r=kw(n);return r.shouldCoalesceEventChangeDetection&&Xi("NgZone_CoalesceEvent"),new Me(r)},ignoreChangesOutsideZone:e});return Ds([{provide:YR,useValue:!0},{provide:Vg,useValue:!1},t])}function kw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var QR=(()=>{let e=class e{constructor(){this.subscription=new We,this.initialized=!1,this.zone=w(Me),this.pendingTasks=w(Kr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ZR=(()=>{let e=class e{constructor(){this.appRef=w(ro),this.taskService=w(Kr),this.ngZone=w(Me),this.zonelessEnabled=w(Vg),this.disableScheduling=w(ZI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new We,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?BC:fI;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Me.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,BC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function JR(){return typeof $localize<"u"&&$localize.locale||ld}var zg=new x("",{providedIn:"root",factory:()=>w(zg,ee.Optional|ee.SkipSelf)||JR()});var Ow=new x("");var Bu=null;function XR(n=[],e){return Hr.create({name:e,providers:[{provide:gd,useValue:"platform"},{provide:Ow,useValue:new Set([()=>Bu=null])},...n]})}function eN(n=[]){if(Bu)return Bu;let e=XR(n);return Bu=e,$R(),tN(e),e}function tN(n){n.get(wg,null)?.forEach(t=>t())}var Jt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nN;let n=e;return n})();function nN(n){return rN(St(),ie(),(n&16)===16)}function rN(n,e,t){if(yd(n)&&!t){let r=qr(n.index,e);return new Yi(r,r)}else if(n.type&175){let r=e[ln];return new Yi(r,e)}return null}var eg=class{constructor(){}supports(e){return e instanceof Map||iw(e)}create(){return new tg}},tg=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||iw(e)))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new ng(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},ng=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function rE(){return new qg([new eg])}var qg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||rE()),deps:[[e,new fE,new og]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i)return i;throw new U(901,!1)}};e.\u0275prov=P({token:e,providedIn:"root",factory:rE});let n=e;return n})();function xw(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=eN(r),o=[Rw({}),{provide:cc,useExisting:ZR},...t||[]],a=new ad({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Me);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(jr,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:p=>{l.handleError(p)}})});let d=()=>a.destroy(),f=i.get(Ow);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),qR(l,c,()=>{let p=a.get(Mw);return p.runInitializers(),p.donePromise.then(()=>{let v=a.get(zg,ld);MR(v||ld);let I=a.get(ro);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}var Pw=new x("");function Se(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function io(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function vc(n,e){Xi("NgSignals");let t=qv(n);return e?.equal&&(t[Or].equal=e.equal),t}function dr(n){let e=le(null);try{return n()}finally{le(e)}}var Vw=null;function hr(){return Vw}function Hw(n){Vw??=n}var Nd=class{};var xe=new x(""),jw=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(sN),providedIn:"platform"});let n=e;return n})();var sN=(()=>{let e=class e extends jw{constructor(){super(),this._doc=w(xe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hr().getBaseHref(this._doc)}onPopState(r){let i=hr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=hr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function $w(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function Lw(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function oo(n){return n&&n[0]!=="?"?"?"+n:n}var kd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(Gw),providedIn:"root"});let n=e;return n})(),aN=new x(""),Gw=(()=>{let e=class e extends kd{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return $w(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+oo(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+oo(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+oo(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(jw),L(aN,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Zr=(()=>{let e=class e{constructor(r){this._subject=new ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=uN(Lw(Fw(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+oo(i))}normalize(r){return e.stripTrailingSlash(lN(this._basePath,Fw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+oo(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+oo(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=oo,e.joinWithSlash=$w,e.stripTrailingSlash=Lw,e.\u0275fac=function(i){return new(i||e)(L(kd))},e.\u0275prov=P({token:e,factory:()=>cN(),providedIn:"root"});let n=e;return n})();function cN(){return new Zr(L(kd))}function lN(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Fw(n){return n.replace(/\/index.html$/,"")}function uN(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Od(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Kg=/\s+/,Uw=[],Jr=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Uw,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Kg):Uw}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Kg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Kg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(D(Ne),D(Vt))},e.\u0275dir=Ae({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var Ps=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Yg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Bw("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Bw("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(D(Yr),D(Gr))},e.\u0275dir=Ae({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),Yg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Bw(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Tt(e)}'.`)}var Xr=(()=>{let e=class e{constructor(r,i,o){this._ngEl=r,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[o,s]=r.split("."),a=o.indexOf("-")===-1?void 0:Vn.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(D(Ne),D(qg),D(Vt))},e.\u0275dir=Ae({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})(),ei=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(r,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}};e.\u0275fac=function(i){return new(i||e)(D(Yr))},e.\u0275dir=Ae({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ar]});let n=e;return n})();var Ct=(()=>{let e=class e{transform(r){return JSON.stringify(r,null,2)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=pd({name:"json",type:e,pure:!1,standalone:!0});let n=e;return n})();var _n=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Le({type:e}),e.\u0275inj=Pe({});let n=e;return n})(),Zg="browser",dN="server";function fr(n){return n===Zg}function xd(n){return n===dN}var xs=class{};var Ic=class{},Ld=class{},pr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Xg=class{encodeKey(e){return zw(e)}encodeValue(e){return zw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function hN(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var fN=/%(\d[a-f0-9])/gi,pN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zw(n){return encodeURIComponent(n).replace(fN,(e,t)=>pN[t]??e)}function Pd(n){return`${n}`}var ni=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Xg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=hN(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Pd):[Pd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Pd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Pd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var em=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function gN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function qw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ww(n){return typeof Blob<"u"&&n instanceof Blob}function Kw(n){return typeof FormData<"u"&&n instanceof FormData}function mN(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ec=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(gN(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new pr,this.context??=new em,!this.params)this.params=new ni,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||qw(this.body)||Ww(this.body)||Kw(this.body)||mN(this.body)?this.body:this.body instanceof ni?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Kw(this.body)?null:Ww(this.body)?this.body.type||null:qw(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ni?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((f,p)=>f.set(p,e.setHeaders[p]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,p)=>f.set(p,e.setParams[p]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},ri=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ri||{}),wc=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new pr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Fd=class n extends wc{constructor(e={}){super(e),this.type=ri.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Tc=class n extends wc{constructor(e={}){super(e),this.type=ri.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ti=class extends wc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Jw=200,yN=204;function Jg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var rm=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Ec)s=r;else{let l;o.headers instanceof pr?l=o.headers:l=new pr(o.headers);let u;o.params&&(o.params instanceof ni?u=o.params:u=new ni({fromObject:o.params})),s=new Ec(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=F(s).pipe(In(l=>this.handler.handle(l)));if(r instanceof Ec||o.observe==="events")return a;let c=a.pipe(Ot(l=>l instanceof Tc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe($(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe($(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe($(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe($(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ni().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Jg(o,i))}post(r,i,o={}){return this.request("POST",r,Jg(o,i))}put(r,i,o={}){return this.request("PUT",r,Jg(o,i))}};e.\u0275fac=function(i){return new(i||e)(L(Ic))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let n=e;return n})(),vN=/^\)\]\}',?\n/,CN="X-Request-URL";function Yw(n){if(n.url)return n.url;let e=CN.toLocaleLowerCase();return n.headers.get(e)}var EN=(()=>{let e=class e{constructor(){this.fetchImpl=w(tm,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=w(Me)}handle(r){return new de(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(nm,s=>i.error(new ti({error:s}))),()=>o.abort()})}doRequest(r,i,o){return g(this,null,function*(){let s=this.createRequestInit(r),a;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,m({signal:i},s)));IN(v),o.next({type:ri.Sent}),a=yield v}catch(v){o.error(new ti({error:v,status:v.status??0,statusText:v.statusText,url:r.urlWithParams,headers:v.headers}));return}let c=new pr(a.headers),l=a.statusText,u=Yw(a)??r.urlWithParams,d=a.status,f=null;if(r.reportProgress&&o.next(new Fd({headers:c,status:d,statusText:l,url:u})),a.body){let v=a.headers.get("content-length"),I=[],_=a.body.getReader(),M=0,ae,ce,me=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>g(this,null,function*(){for(;;){let{done:Qe,value:sn}=yield _.read();if(Qe)break;if(I.push(sn),M+=sn.length,r.reportProgress){ce=r.responseType==="text"?(ce??"")+(ae??=new TextDecoder).decode(sn,{stream:!0}):void 0;let ns=()=>o.next({type:ri.DownloadProgress,total:v?+v:void 0,loaded:M,partialText:ce});me?me.run(ns):ns()}}}));let ut=this.concatChunks(I,M);try{let Qe=a.headers.get("Content-Type")??"";f=this.parseBody(r,ut,Qe)}catch(Qe){o.error(new ti({error:Qe,headers:new pr(a.headers),status:a.status,statusText:a.statusText,url:Yw(a)??r.urlWithParams}));return}}d===0&&(d=f?Jw:0),d>=200&&d<300?(o.next(new Tc({body:f,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new ti({error:f,headers:c,status:d,statusText:l,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(vN,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let n=e;return n})(),tm=class{};function nm(){}function IN(n){n.then(nm,nm)}function wN(n,e){return e(n)}function TN(n,e,t){return(r,i)=>Sn(t,()=>e(r,o=>n(o,i)))}var Xw=new x(""),SN=new x(""),AN=new x("",{providedIn:"root",factory:()=>!0});var Qw=(()=>{let e=class e extends Ic{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=w(Kr),this.contributeToStability=w(AN)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Xw),...this.injector.get(SN,[])]));this.chain=i.reduceRight((o,s)=>TN(o,s,this.injector),wN)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Ui(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(L(Ld),L(Ut))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let n=e;return n})();var _N=/^\)\]\}',?\n/;function bN(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var Zw=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new U(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ue(i.\u0275loadImpl()):F(null)).pipe(xt(()=>new de(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((_,M)=>a.setRequestHeader(_,M.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let _=r.detectContentTypeHeader();_!==null&&a.setRequestHeader("Content-Type",_)}if(r.responseType){let _=r.responseType.toLowerCase();a.responseType=_!=="json"?_:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let _=a.statusText||"OK",M=new pr(a.getAllResponseHeaders()),ae=bN(a)||r.url;return l=new Fd({headers:M,status:a.status,statusText:_,url:ae}),l},d=()=>{let{headers:_,status:M,statusText:ae,url:ce}=u(),me=null;M!==yN&&(me=typeof a.response>"u"?a.responseText:a.response),M===0&&(M=me?Jw:0);let ut=M>=200&&M<300;if(r.responseType==="json"&&typeof me=="string"){let Qe=me;me=me.replace(_N,"");try{me=me!==""?JSON.parse(me):null}catch(sn){me=Qe,ut&&(ut=!1,me={error:sn,text:me})}}ut?(s.next(new Tc({body:me,headers:_,status:M,statusText:ae,url:ce||void 0})),s.complete()):s.error(new ti({error:me,headers:_,status:M,statusText:ae,url:ce||void 0}))},f=_=>{let{url:M}=u(),ae=new ti({error:_,status:a.status||0,statusText:a.statusText||"Unknown Error",url:M||void 0});s.error(ae)},p=!1,v=_=>{p||(s.next(u()),p=!0);let M={type:ri.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(M.total=_.total),r.responseType==="text"&&a.responseText&&(M.partialText=a.responseText),s.next(M)},I=_=>{let M={type:ri.UploadProgress,loaded:_.loaded};_.lengthComputable&&(M.total=_.total),s.next(M)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",v),c!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),s.next({type:ri.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",v),c!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(L(xs))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let n=e;return n})(),eT=new x(""),DN="XSRF-TOKEN",MN=new x("",{providedIn:"root",factory:()=>DN}),RN="X-XSRF-TOKEN",NN=new x("",{providedIn:"root",factory:()=>RN}),Ud=class{},kN=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Od(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(L(xe),L(vt),L(MN))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let n=e;return n})();function ON(n,e){let t=n.url.toLowerCase();if(!w(eT)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=w(Ud).getToken(),i=w(NN);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function tT(...n){let e=[rm,Zw,Qw,{provide:Ic,useExisting:Qw},{provide:Ld,useFactory:()=>w(EN,{optional:!0})??w(Zw)},{provide:Xw,useValue:ON,multi:!0},{provide:eT,useValue:!0},{provide:Ud,useClass:kN}];for(let t of n)e.push(...t.\u0275providers);return Ds(e)}var sm=class extends Nd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},am=class n extends sm{static makeCurrent(){Hw(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=xN();return t==null?null:PN(t)}resetBaseElement(){Sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Od(document.cookie,e)}},Sc=null;function xN(){return Sc=Sc||document.querySelector("base"),Sc?Sc.getAttribute("href"):null}function PN(n){return new URL(n,document.baseURI).pathname}var LN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let n=e;return n})(),Bd=new x(""),oT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(L(Bd),L(Me))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let n=e;return n})(),Ac=class{constructor(e){this._doc=e}},im="ng-app-id",sT=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xd(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${im}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(im),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(im,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(L(xe),L(Ig),L(Tg,8),L(vt))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let n=e;return n})(),om={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lm=/%COMP%/g,aT="%COMP%",FN=`_nghost-${aT}`,UN=`_ngcontent-${aT}`,BN=!0,VN=new x("",{providedIn:"root",factory:()=>BN});function HN(n){return UN.replace(lm,n)}function jN(n){return FN.replace(lm,n)}function cT(n,e){return e.map(t=>t.replace(lm,n))}var nT=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=xd(c),this.defaultRenderer=new _c(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Un.ShadowDom&&(i=A(m({},i),{encapsulation:Un.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Vd?o.applyToHost(r):o instanceof bc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Un.Emulated:s=new Vd(l,u,i,this.appId,d,a,c,f);break;case Un.ShadowDom:return new cm(l,u,r,i,a,c,this.nonce,f);default:s=new bc(l,u,i,d,a,c,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(L(oT),L(sT),L(Ig),L(VN),L(xe),L(vt),L(Me),L(Tg))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let n=e;return n})(),_c=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(om[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(rT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(rT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=om[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=om[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Vn.DashCase|Vn.Important)?e.style.setProperty(t,r,i&Vn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Vn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=hr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function rT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var cm=class extends _c{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=cT(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bc=class extends _c{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?cT(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Vd=class extends bc{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=HN(l),this.hostAttr=jN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},$N=(()=>{let e=class e extends Ac{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(L(xe))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let n=e;return n})(),GN=(()=>{let e=class e extends Ac{constructor(r){super(r),this.delegate=w(Pw,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(L(xe))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let n=e;return n})(),iT=["alt","control","meta","shift"],zN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},WN=(()=>{let e=class e extends Ac{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),iT.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=zN[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),iT.forEach(a=>{if(a!==o){let c=qN[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(L(xe))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let n=e;return n})();function lT(n,e){return xw(m({rootComponent:n},KN(e)))}function KN(n){return{appProviders:[...XN,...n?.providers??[]],platformProviders:JN}}function YN(){am.makeCurrent()}function QN(){return new jr}function ZN(){return EI(document),document}var JN=[{provide:vt,useValue:Zg},{provide:wg,useValue:YN,multi:!0},{provide:xe,useFactory:ZN,deps:[]}];var XN=[{provide:gd,useValue:"root"},{provide:jr,useFactory:QN,deps:[]},{provide:Bd,useClass:$N,multi:!0,deps:[xe,Me,vt]},{provide:Bd,useClass:WN,multi:!0,deps:[xe]},{provide:Bd,useClass:GN,multi:!0},nT,sT,oT,{provide:As,useExisting:nT},{provide:xs,useClass:LN,deps:[]},[]];var uT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(L(xe))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Z="primary",Gc=Symbol("RouteTitle"),pm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Hs(n){return new pm(n)}function tk(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function nk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jn(n[t],e[t]))return!1;return!0}function jn(n,e){let t=n?gm(n):void 0,r=e?gm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!vT(n[i],e[i]))return!1;return!0}function gm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function vT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function CT(n){return n.length>0?n[n.length-1]:null}function ii(n){return $f(n)?n:no(n)?ue(Promise.resolve(n)):F(n)}var rk={exact:IT,subset:wT},ET={exact:ik,subset:ok,ignored:()=>!0};function dT(n,e,t){return rk[t.paths](n.root,e.root,t.matrixParams)&&ET[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function ik(n,e){return jn(n,e)}function IT(n,e,t){if(!ao(n.segments,e.segments)||!$d(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!IT(n.children[r],e.children[r],t))return!1;return!0}function ok(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vT(n[t],e[t]))}function wT(n,e,t){return TT(n,e,e.segments,t)}function TT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ao(i,t)||e.hasChildren()||!$d(i,t,r))}else if(n.segments.length===t.length){if(!ao(n.segments,t)||!$d(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!wT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ao(n.segments,i)||!$d(n.segments,i,r)||!n.children[Z]?!1:TT(n.children[Z],e,o,r)}}function $d(n,e,t){return e.every((r,i)=>ET[t](n[i].parameters,r.parameters))}var mr=class{constructor(e=new Ie([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){return ck.serialize(this)}},Ie=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gd(this)}},so=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Hs(this.parameters),this._parameterMap}toString(){return AT(this)}};function sk(n,e){return ao(n,e)&&n.every((t,r)=>jn(t.parameters,e[r].parameters))}function ao(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function ak(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Z&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Z&&(t=t.concat(e(i,r)))}),t}var Hm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new xc,providedIn:"root"});let n=e;return n})(),xc=class{parse(e){let t=new ym(e);return new mr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Dc(e.root,!0)}`,r=dk(e.queryParams),i=typeof e.fragment=="string"?`#${lk(e.fragment)}`:"";return`${t}${r}${i}`}},ck=new xc;function Gd(n){return n.segments.map(e=>AT(e)).join("/")}function Dc(n,e){if(!n.hasChildren())return Gd(n);if(e){let t=n.children[Z]?Dc(n.children[Z],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Dc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=ak(n,(r,i)=>i===Z?[Dc(n.children[Z],!1)]:[`${i}:${Dc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Z]!=null?`${Gd(n)}/${t[0]}`:`${Gd(n)}/(${t.join("//")})`}}function ST(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hd(n){return ST(n).replace(/%3B/gi,";")}function lk(n){return encodeURI(n)}function mm(n){return ST(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zd(n){return decodeURIComponent(n)}function hT(n){return zd(n.replace(/\+/g,"%20"))}function AT(n){return`${mm(n.path)}${uk(n.parameters)}`}function uk(n){return Object.entries(n).map(([e,t])=>`;${mm(e)}=${mm(t)}`).join("")}function dk(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Hd(t)}=${Hd(i)}`).join("&"):`${Hd(t)}=${Hd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var hk=/^[^\/()?;#]+/;function um(n){let e=n.match(hk);return e?e[0]:""}var fk=/^[^\/()?;=#]+/;function pk(n){let e=n.match(fk);return e?e[0]:""}var gk=/^[^=?&#]+/;function mk(n){let e=n.match(gk);return e?e[0]:""}var yk=/^[^&#]+/;function vk(n){let e=n.match(yk);return e?e[0]:""}var ym=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Z]=new Ie(e,t)),r}parseSegment(){let e=um(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new so(zd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=pk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=um(this.remaining);i&&(r=i,this.capture(r))}e[zd(t)]=zd(r)}parseQueryParam(e){let t=mk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=vk(this.remaining);s&&(r=s,this.capture(r))}let i=hT(t),o=hT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=um(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Z]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function _T(n){return n.segments.length>0?new Ie([],{[Z]:n}):n}function bT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=bT(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ie(n.segments,e);return Ck(t)}function Ck(n){if(n.numberOfChildren===1&&n.children[Z]){let e=n.children[Z];return new Ie(n.segments.concat(e.segments),e.children)}return n}function Pc(n){return n instanceof mr}function Ek(n,e,t=null,r=null){let i=DT(n);return MT(i,e,t,r)}function DT(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Ie(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=_T(r);return e??i}function MT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return dm(i,i,i,t,r);let o=Ik(e);if(o.toRoot())return dm(i,i,new Ie([],{}),t,r);let s=wk(o,i,n),a=s.processChildren?Nc(s.segmentGroup,s.index,o.commands):NT(s.segmentGroup,s.index,o.commands);return dm(i,s.segmentGroup,a,t,r)}function qd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Lc(n){return typeof n=="object"&&n!=null&&n.outlets}function dm(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=RT(n,e,t);let a=_T(bT(s));return new mr(a,o,i)}function RT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=RT(o,e,t)}),new Ie(n.segments,r)}var Wd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qd(r[0]))throw new U(4003,!1);let i=r.find(Lc);if(i&&i!==CT(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ik(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Wd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Wd(t,e,r)}var Us=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function wk(n,e,t){if(n.isAbsolute)return new Us(e,!0,0);if(!t)return new Us(e,!1,NaN);if(t.parent===null)return new Us(t,!0,0);let r=qd(n.commands[0])?0:1,i=t.segments.length-1+r;return Tk(t,i,n.numberOfDoubleDots)}function Tk(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new Us(r,!1,i-o)}function Sk(n){return Lc(n[0])?n[0].outlets:{[Z]:n}}function NT(n,e,t){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return Nc(n,e,t);let r=Ak(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ie(n.segments.slice(0,r.pathIndex),{});return o.children[Z]=new Ie(n.segments.slice(r.pathIndex),n.children),Nc(o,0,i)}else return r.match&&i.length===0?new Ie(n.segments,{}):r.match&&!n.hasChildren()?vm(n,e,t):r.match?Nc(n,0,i):vm(n,e,t)}function Nc(n,e,t){if(t.length===0)return new Ie(n.segments,{});{let r=Sk(t),i={};if(Object.keys(r).some(o=>o!==Z)&&n.children[Z]&&n.numberOfChildren===1&&n.children[Z].segments.length===0){let o=Nc(n.children[Z],e,t);return new Ie(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=NT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(n.segments,i)}}function Ak(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Lc(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!pT(c,l,s))return o;r+=2}else{if(!pT(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function vm(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Lc(o)){let c=_k(o.outlets);return new Ie(r,c)}if(i===0&&qd(t[0])){let c=n.segments[e];r.push(new so(c.path,fT(t[0]))),i++;continue}let s=Lc(o)?o.outlets[Z]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&qd(a)?(r.push(new so(s,fT(a))),i+=2):(r.push(new so(s,{})),i++)}return new Ie(r,{})}function _k(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=vm(new Ie([],{}),0,r))}),e}function fT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function pT(n,e,t){return n==t.path&&jn(e,t.parameters)}var kc="imperative",pt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(pt||{}),fn=class{constructor(e,t){this.id=e,this.url=t}},Fc=class extends fn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=pt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},co=class extends fn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},en=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(en||{}),Cm=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Cm||{}),gr=class extends fn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},lo=class extends fn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=pt.NavigationSkipped}},Uc=class extends fn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Kd=class extends fn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Em=class extends fn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Im=class extends fn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wm=class extends fn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tm=class extends fn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sm=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Am=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_m=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bm=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dm=class{constructor(e){this.snapshot=e,this.type=pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mm=class{constructor(e){this.snapshot=e,this.type=pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Bc=class{},js=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function bk(n,e){return n.providers&&!n._injector&&(n._injector=jg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function bn(n){return n.outlet||Z}function Dk(n,e){let t=n.filter(r=>bn(r)===e);return t.push(...n.filter(r=>bn(r)!==e)),t}function zc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Rm=class{get injector(){return zc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new th(this.rootInjector),this.attachRef=null}},th=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Rm(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(L(Ut))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Yd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Nm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Nm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=km(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return km(e,this._root).map(t=>t.value)}};function Nm(n,e){if(n===e.value)return e;for(let t of e.children){let r=Nm(n,t);if(r)return r}return null}function km(n,e){if(n===e.value)return[e];for(let t of e.children){let r=km(n,t);if(r.length)return r.unshift(e),r}return[]}var Xt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Fs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Qd=class extends Yd{constructor(e,t){super(e),this.snapshot=t,jm(this,e)}toString(){return this.snapshot.toString()}};function kT(n){let e=Mk(n),t=new Je([new so("",{})]),r=new Je({}),i=new Je({}),o=new Je({}),s=new Je(""),a=new $s(t,r,o,s,i,Z,n,e.root);return a.snapshot=e.root,new Qd(new Xt(a,[]),e)}function Mk(n){let e={},t={},r={},i="",o=new Bs([],e,r,i,t,Z,n,null,{});return new Jd("",new Xt(o,[]))}var $s=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(l=>l[Gc]))??F(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(e=>Hs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(e=>Hs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:m(m({},e.params),n.params),data:m(m({},e.data),n.data),resolve:m(m(m(m({},n.data),e.data),i?.data),n._resolvedData)}:r={params:m({},n.params),data:m({},n.data),resolve:m(m({},n.data),n._resolvedData??{})},i&&xT(i)&&(r.resolve[Gc]=i.title),r}var Bs=class{get title(){return this.data?.[Gc]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Jd=class extends Yd{constructor(e,t){super(t),this.url=e,jm(this,t)}toString(){return OT(this._root)}};function jm(n,e){e.value._routerState=n,e.children.forEach(t=>jm(n,t))}function OT(n){let e=n.children.length>0?` { ${n.children.map(OT).join(", ")} } `:"";return`${n.value}${e}`}function hm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),jn(e.params,t.params)||n.paramsSubject.next(t.params),nk(e.url,t.url)||n.urlSubject.next(t.url),jn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Om(n,e){let t=jn(n.params,e.params)&&sk(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Om(n.parent,e.parent))}function xT(n){return typeof n.title=="string"||n.title===null}var $m=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new ve,this.deactivateEvents=new ve,this.attachEvents=new ve,this.detachEvents=new ve,this.parentContexts=w(th),this.location=w(Yr),this.changeDetector=w(Jt),this.inputBinder=w(Gm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new xm(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ae({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ar]});let n=e;return n})(),xm=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===$s?this.route:e===th?this.childContexts:this.parent.get(e,t)}},Gm=new x("");function Rk(n,e,t){let r=Vc(n,e._root,t?t._root:void 0);return new Qd(r,e)}function Vc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Nk(n,e,t);return new Xt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Vc(n,a)),s}}let r=kk(e.value),i=e.children.map(o=>Vc(n,o));return new Xt(r,i)}}function Nk(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Vc(n,r,i);return Vc(n,r)})}function kk(n){return new $s(new Je(n.url),new Je(n.params),new Je(n.queryParams),new Je(n.fragment),new Je(n.data),n.outlet,n.component,n)}var Hc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},PT="ngNavigationCancelingError";function Xd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Pc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=LT(!1,en.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function LT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[PT]=!0,t.cancellationCode=e,t}function Ok(n){return FT(n)&&Pc(n.url)}function FT(n){return!!n&&n[PT]}var xk=(n,e,t,r)=>$(i=>(new Pm(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Pm=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),hm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Fs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Fs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new bm(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(hm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hm(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},eh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Vs=class{constructor(e,t){this.component=e,this.route=t}};function Pk(n,e,t){let r=n._root,i=e?e._root:null;return Mc(r,i,t,[r.value])}function Lk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function zs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!sE(n)?n:e.get(n):r}function Mc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Fs(e);return n.children.forEach(s=>{Fk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Oc(a,t.getContext(s),i)),i}function Fk(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Uk(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new eh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Mc(n,e,a?a.children:null,r,i):Mc(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vs(a.outlet.component,s))}else s&&Oc(e,a,i),i.canActivateChecks.push(new eh(r)),o.component?Mc(n,null,a?a.children:null,r,i):Mc(n,null,t,r,i);return i}function Uk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ao(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ao(n.url,e.url)||!jn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Om(n,e)||!jn(n.queryParams,e.queryParams);case"paramsChange":default:return!Om(n,e)}}function Oc(n,e,t){let r=Fs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Oc(s,e.children.getContext(o),t):Oc(s,null,t):Oc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Vs(e.outlet.component,i)):t.canDeactivateChecks.push(new Vs(null,i)):t.canDeactivateChecks.push(new Vs(null,i))}function qc(n){return typeof n=="function"}function Bk(n){return typeof n=="boolean"}function Vk(n){return n&&qc(n.canLoad)}function Hk(n){return n&&qc(n.canActivate)}function jk(n){return n&&qc(n.canActivateChild)}function $k(n){return n&&qc(n.canDeactivate)}function Gk(n){return n&&qc(n.canMatch)}function UT(n){return n instanceof er||n?.name==="EmptyError"}var jd=Symbol("INITIAL_VALUE");function Gs(){return xt(n=>Mu(n.map(e=>e.pipe(xn(1),Yf(jd)))).pipe($(e=>{for(let t of e)if(t!==!0){if(t===jd)return jd;if(t===!1||zk(t))return t}return!0}),Ot(e=>e!==jd),xn(1)))}function zk(n){return Pc(n)||n instanceof Hc}function qk(n,e){return Xe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?F(A(m({},t),{guardsResult:!0})):Wk(s,r,i,n).pipe(Xe(a=>a&&Bk(a)?Kk(r,o,n,e):F(a)),$(a=>A(m({},t),{guardsResult:a})))})}function Wk(n,e,t,r){return ue(n).pipe(Xe(i=>Xk(i.component,i.route,t,e,r)),Pn(i=>i!==!0,!0))}function Kk(n,e,t,r){return ue(e).pipe(In(i=>ds(Qk(i.route.parent,r),Yk(i.route,r),Jk(n,i.path,t),Zk(n,i.route,t))),Pn(i=>i!==!0,!0))}function Yk(n,e){return n!==null&&e&&e(new Dm(n)),F(!0)}function Qk(n,e){return n!==null&&e&&e(new _m(n)),F(!0)}function Zk(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let i=r.map(o=>Ru(()=>{let s=zc(e)??t,a=zs(o,s),c=Hk(a)?a.canActivate(e,n):Sn(s,()=>a(e,n));return ii(c).pipe(Pn())}));return F(i).pipe(Gs())}function Jk(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Lk(s)).filter(s=>s!==null).map(s=>Ru(()=>{let a=s.guards.map(c=>{let l=zc(s.node)??t,u=zs(c,l),d=jk(u)?u.canActivateChild(r,n):Sn(l,()=>u(r,n));return ii(d).pipe(Pn())});return F(a).pipe(Gs())}));return F(o).pipe(Gs())}function Xk(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let s=o.map(a=>{let c=zc(e)??i,l=zs(a,c),u=$k(l)?l.canDeactivate(n,e,t,r):Sn(c,()=>l(n,e,t,r));return ii(u).pipe(Pn())});return F(s).pipe(Gs())}function eO(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return F(!0);let o=i.map(s=>{let a=zs(s,n),c=Vk(a)?a.canLoad(e,t):Sn(n,()=>a(e,t));return ii(c)});return F(o).pipe(Gs(),BT(r))}function BT(n){return Uf(at(e=>{if(typeof e!="boolean")throw Xd(n,e)}),$(e=>e===!0))}function tO(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return F(!0);let o=i.map(s=>{let a=zs(s,n),c=Gk(a)?a.canMatch(e,t):Sn(n,()=>a(e,t));return ii(c)});return F(o).pipe(Gs(),BT(r))}var jc=class{constructor(e){this.segmentGroup=e||null}},$c=class extends Error{constructor(e){super(),this.urlTree=e}};function Ls(n){return us(new jc(n))}function nO(n){return us(new U(4e3,!1))}function rO(n){return us(LT(!1,en.GuardRejected))}var Lm=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return F(r);if(i.numberOfChildren>1||!i.children[Z])return nO(`${e.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:p,data:v,title:I}=i,_=Sn(o,()=>a({params:p,data:v,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:I}));if(_ instanceof mr)throw new $c(_);t=_}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new $c(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new mr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ie(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iO(n,e,t,r,i){let o=zm(n,e,t);return o.matched?(r=bk(e,r),tO(r,e,t,i).pipe($(s=>s===!0?o:m({},Fm)))):F(o)}function zm(n,e,t){if(e.path==="**")return oO(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?m({},Fm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||tk)(t,n,e);if(!i)return m({},Fm);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?m(m({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function oO(n){return{matched:!0,parameters:n.length>0?CT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function gT(n,e,t,r){return t.length>0&&cO(n,t,r)?{segmentGroup:new Ie(e,aO(r,new Ie(t,n.children))),slicedSegments:[]}:t.length===0&&lO(n,t,r)?{segmentGroup:new Ie(n.segments,sO(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:t}}function sO(n,e,t,r){let i={};for(let o of t)if(nh(n,e,o)&&!r[bn(o)]){let s=new Ie([],{});i[bn(o)]=s}return m(m({},r),i)}function aO(n,e){let t={};t[Z]=e;for(let r of n)if(r.path===""&&bn(r)!==Z){let i=new Ie([],{});t[bn(r)]=i}return t}function cO(n,e,t){return t.some(r=>nh(n,e,r)&&bn(r)!==Z)}function lO(n,e,t){return t.some(r=>nh(n,e,r))}function nh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function uO(n,e,t,r){return bn(n)!==r&&(r===Z||!nh(e,t,n))?!1:zm(e,n,t).matched}function dO(n,e,t){return e.length===0&&!n.children[t]}var Um=class{};function hO(n,e,t,r,i,o,s="emptyOnly"){return new Bm(n,e,t,r,i,s,o).recognize()}var fO=31,Bm=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Lm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=gT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(({children:t,rootSnapshot:r})=>{let i=new Xt(r,t),o=new Jd("",i),s=Ek(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Bs([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,t).pipe($(r=>({children:r,rootSnapshot:t})),On(r=>{if(r instanceof $c)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof jc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe($(s=>s instanceof Xt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ue(o).pipe(In(s=>{let a=r.children[s],c=Dk(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Kf((s,a)=>(s.push(...a),s)),Pr(null),Wf(),Xe(s=>{if(s===null)return Ls(r);let a=VT(s);return pO(a),F(a)}))}processSegment(e,t,r,i,o,s,a){return ue(t).pipe(In(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(On(l=>{if(l instanceof jc)return F(null);throw l}))),Pn(c=>!!c),On(c=>{if(UT(c))return dO(r,i,o)?F(new Um):Ls(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return uO(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ls(i):Ls(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=zm(t,i,o);if(!c)return Ls(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>fO&&(this.allowRedirects=!1));let p=new Bs(o,l,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,mT(i),bn(i),i.component??i._loadedComponent??null,i,yT(i)),v=Zd(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(v.params),p.data=Object.freeze(v.data);let I=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,p,e);return this.applyRedirects.lineralizeSegments(i,I).pipe(Xe(_=>this.processSegment(e,r,t,_.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=iO(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(xt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xt(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:p}=c,v=new Bs(f,d,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,mT(r),bn(r),r.component??r._loadedComponent??null,r,yT(r)),I=Zd(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(I.params),v.data=Object.freeze(I.data);let{segmentGroup:_,slicedSegments:M}=gT(t,f,p,l);if(M.length===0&&_.hasChildren())return this.processChildren(u,l,_,v).pipe($(ce=>new Xt(v,ce)));if(l.length===0&&M.length===0)return F(new Xt(v,[]));let ae=bn(r)===o;return this.processSegment(u,l,_,M,ae?Z:o,!0,v).pipe($(ce=>new Xt(v,ce instanceof Xt?[ce]:[])))}))):Ls(t)))}getChildConfig(e,t,r){return t.children?F({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?F({routes:t._loadedRoutes,injector:t._loadedInjector}):eO(e,t,r,this.urlSerializer).pipe(Xe(i=>i?this.configLoader.loadChildren(e,t).pipe(at(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):rO(t))):F({routes:[],injector:e})}};function pO(n){n.sort((e,t)=>e.value.outlet===Z?-1:t.value.outlet===Z?1:e.value.outlet.localeCompare(t.value.outlet))}function gO(n){let e=n.value.routeConfig;return e&&e.path===""}function VT(n){let e=[],t=new Set;for(let r of n){if(!gO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=VT(r.children);e.push(new Xt(r.value,i))}return e.filter(r=>!t.has(r))}function mT(n){return n.data||{}}function yT(n){return n.resolve||{}}function mO(n,e,t,r,i,o){return Xe(s=>hO(n,e,t,r,s.extractedUrl,i,o).pipe($(({state:a,tree:c})=>A(m({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function yO(n,e){return Xe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return F(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of HT(c))s.add(l);let a=0;return ue(s).pipe(In(c=>o.has(c)?vO(c,r,n,e):(c.data=Zd(c,c.parent,n).resolve,F(void 0))),at(()=>a++),hs(1),Xe(c=>a===s.size?F(t):Nt))})}function HT(n){let e=n.children.map(t=>HT(t)).flat();return[n,...e]}function vO(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!xT(i)&&(o[Gc]=i.title),CO(o,n,e,r).pipe($(s=>(n._resolvedData=s,n.data=Zd(n,n.parent,t).resolve,null)))}function CO(n,e,t,r){let i=gm(n);if(i.length===0)return F({});let o={};return ue(i).pipe(Xe(s=>EO(n[s],e,t,r).pipe(Pn(),at(a=>{if(a instanceof Hc)throw Xd(new xc,a);o[s]=a}))),hs(1),qf(o),On(s=>UT(s)?Nt:us(s)))}function EO(n,e,t,r){let i=zc(e)??r,o=zs(n,i),s=o.resolve?o.resolve(e,t):Sn(i,()=>o(e,t));return ii(s)}function fm(n){return xt(e=>{let t=n(e);return t?ue(t).pipe($(()=>e)):F(e)})}var jT=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Z);return i}getResolvedTitleForRoute(r){return r.data[Gc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(IO),providedIn:"root"});let n=e;return n})(),IO=(()=>{let e=class e extends jT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(L(uT))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),qm=new x("",{providedIn:"root",factory:()=>({})}),wO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=z({type:e,selectors:[["ng-component"]],standalone:!0,features:[oe],decls:1,vars:0,template:function(i,o){i&1&&Te(0,"router-outlet")},dependencies:[$m],encapsulation:2});let n=e;return n})();function Wm(n){let e=n.children&&n.children.map(Wm),t=e?A(m({},n),{children:e}):m({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Z&&(t.component=wO),t}var Km=new x(""),TO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(Gg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return F(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ii(r.loadComponent()).pipe($($T),at(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ui(()=>{this.componentLoaders.delete(r)})),o=new ls(i,()=>new Be).pipe(cs());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return F({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=SO(i,this.compiler,r,this.onLoadEndListener).pipe(Ui(()=>{this.childrenLoaders.delete(i)})),a=new ls(s,()=>new Be).pipe(cs());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function SO(n,e,t,r){return ii(n.loadChildren()).pipe($($T),Xe(i=>i instanceof uc||Array.isArray(i)?F(i):ue(e.compileModuleAsync(i))),$(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Km,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wm),injector:o}}))}function AO(n){return n&&typeof n=="object"&&"default"in n}function $T(n){return AO(n)?n.default:n}var Ym=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(_O),providedIn:"root"});let n=e;return n})(),_O=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),bO=new x("");var DO=new x(""),MO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be,this.transitionAbortSubject=new Be,this.configLoader=w(TO),this.environmentInjector=w(Ut),this.urlSerializer=w(Hm),this.rootContexts=w(th),this.location=w(Zr),this.inputBindingEnabled=w(Gm,{optional:!0})!==null,this.titleStrategy=w(jT),this.options=w(qm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(Ym),this.createViewTransition=w(bO,{optional:!0}),this.navigationErrorHandler=w(DO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Sm(o)),i=o=>this.events.next(new Am(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(A(m(m({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Je({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:kc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ot(s=>s.id!==0),$(s=>A(m({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),xt(s=>{let a=!1,c=!1;return F(s).pipe(xt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",en.SupersededByNewNavigation),Nt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?A(m({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new lo(l.id,this.urlSerializer.serialize(l.rawUrl),f,Cm.IgnoredSameUrlNavigation)),l.resolve(!1),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return F(l).pipe(xt(f=>{let p=this.transitions?.getValue();return this.events.next(new Fc(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?Nt:Promise.resolve(f)}),mO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),at(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=A(m({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let p=new Kd(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:p,source:v,restoredState:I,extras:_}=l,M=new Fc(f,this.urlSerializer.serialize(p),v,I);this.events.next(M);let ae=kT(this.rootComponentType).snapshot;return this.currentTransition=s=A(m({},l),{targetSnapshot:ae,urlAfterRedirects:p,extras:A(m({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,F(s)}else{let f="";return this.events.next(new lo(l.id,this.urlSerializer.serialize(l.extractedUrl),f,Cm.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Nt}}),at(l=>{let u=new Em(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),$(l=>(this.currentTransition=s=A(m({},l),{guards:Pk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),qk(this.environmentInjector,l=>this.events.next(l)),at(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Xd(this.urlSerializer,l.guardsResult);let u=new Im(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ot(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",en.GuardRejected),!1)),fm(l=>{if(l.guards.canActivateChecks.length)return F(l).pipe(at(u=>{let d=new wm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),xt(u=>{let d=!1;return F(u).pipe(yO(this.paramsInheritanceStrategy,this.environmentInjector),at({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",en.NoDataFromResolver)}}))}),at(u=>{let d=new Tm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),fm(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(at(p=>{d.component=p}),$(()=>{})));for(let p of d.children)f.push(...u(p));return f};return Mu(u(l.targetSnapshot.root)).pipe(Pr(null),xn(1))}),fm(()=>this.afterPreactivation()),xt(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?ue(d).pipe($(()=>s)):F(s)}),$(l=>{let u=Rk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=A(m({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),at(()=>{this.events.next(new Bc)}),xk(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),xn(1),at({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new co(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Qf(this.transitionAbortSubject.pipe(at(l=>{throw l}))),Ui(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",en.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),On(l=>{if(c=!0,FT(l))this.events.next(new gr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),Ok(l)?this.events.next(new js(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Uc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let d=Sn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Hc){let{message:f,cancellationCode:p}=Xd(this.urlSerializer,d);this.events.next(new gr(s.id,this.urlSerializer.serialize(s.extractedUrl),f,p)),this.events.next(new js(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=r.errorHandler(l);s.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Nt}))}))}cancelNavigationTransition(r,i,o){let s=new gr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function RO(n){return n!==kc}var NO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(kO),providedIn:"root"});let n=e;return n})(),Vm=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},kO=(()=>{let e=class e extends Vm{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Kt(e)))(o||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),GT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(OO),providedIn:"root"});let n=e;return n})(),OO=(()=>{let e=class e extends GT{constructor(){super(...arguments),this.location=w(Zr),this.urlSerializer=w(Hm),this.options=w(qm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(Ym),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=kT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Fc)this.stateMemento=this.createStateMemento();else if(r instanceof lo)this.rawUrlTree=i.initialUrl;else if(r instanceof Kd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof Bc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof gr&&(r.code===en.GuardRejected||r.code===en.NoDataFromResolver)?this.restoreHistory(i):r instanceof Uc?this.restoreHistory(i,!0):r instanceof co&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof mr?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=m(m({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=m(m({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Kt(e)))(o||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Rc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Rc||{});function xO(n,e){n.events.pipe(Ot(t=>t instanceof co||t instanceof gr||t instanceof Uc||t instanceof lo),$(t=>t instanceof co||t instanceof lo?Rc.COMPLETE:(t instanceof gr?t.code===en.Redirect||t.code===en.SupersededByNewNavigation:!1)?Rc.REDIRECTING:Rc.FAILED),Ot(t=>t!==Rc.REDIRECTING),xn(1)).subscribe(()=>{e()})}function PO(n){throw n}var LO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rh=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=w(Md),this.stateManager=w(GT),this.options=w(qm,{optional:!0})||{},this.pendingTasks=w(Kr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(MO),this.urlSerializer=w(Hm),this.location=w(Zr),this.urlHandlingStrategy=w(Ym),this._events=new Be,this.errorHandler=this.options.errorHandler||PO,this.navigated=!1,this.routeReuseStrategy=w(NO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(Km,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(Gm,{optional:!0}),this.eventsSubscription=new We,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof gr&&i.code!==en.Redirect&&i.code!==en.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof co)this.navigated=!0;else if(i instanceof js){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=m({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||RO(o.source)},a);this.scheduleNavigation(c,kc,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}BO(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=m({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Wm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=m(m({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let p=o?o.snapshot:this.routerState.snapshot.root;f=DT(p)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),f=this.currentUrlTree.root}return MT(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Pc(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,kc,null,i)}navigate(r,i={skipLocationChange:!1}){return UO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=m({},LO):i===!1?o=m({},FO):o=i,Pc(r))return dT(this.currentUrlTree,r,o);let s=this.parseUrl(r);return dT(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,p)=>{c=f,l=p});let d=this.pendingTasks.add();return xO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function UO(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new U(4008,!1)}function BO(n){return!(n instanceof Bc)&&!(n instanceof js)}var VO=new x("");function zT(n,...e){return Ds([{provide:Km,multi:!0,useValue:n},[],{provide:$s,useFactory:HO,deps:[rh]},{provide:Rd,multi:!0,useFactory:jO},e.map(t=>t.\u0275providers)])}function HO(n){return n.routerState.root}function jO(){let n=w(Hr);return e=>{let t=n.get(ro);if(e!==t.components[0])return;let r=n.get(rh),i=n.get($O);n.get(GO)===1&&r.initialNavigation(),n.get(zO,null,ee.Optional)?.setUpPreloading(),n.get(VO,null,ee.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var $O=new x("",{factory:()=>new Be}),GO=new x("",{providedIn:"root",factory:()=>1});var zO=new x("");var $h={};Cn($h,{blockAPICallsBeforeInitialize:()=>Hh,blockAcquireTokenInPopups:()=>MS,blockNonBrowserEnvironment:()=>RS,blockRedirectInIframe:()=>DS,blockReloadInHiddenIframes:()=>bS,clearHash:()=>av,createGuid:()=>Ux,getCurrentUri:()=>Gt,getHomepage:()=>lv,invoke:()=>Dt,invokeAsync:()=>E,isInIframe:()=>Ll,isInPopup:()=>_S,preconnect:()=>Ul,preflightCheck:()=>Fl,redirectPreflightCheck:()=>jh,replaceHash:()=>cv});var di={};Cn(di,{checkMaxAge:()=>fl,extractTokenClaims:()=>Ir,getJWSPayload:()=>YT});var y={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},qs={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},tn=[y.OPENID_SCOPE,y.PROFILE_SCOPE,y.OFFLINE_ACCESS_SCOPE],Qm=[...tn,y.EMAIL_SCOPE],Et={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},ze={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Dn={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Ws={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Fe={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},ih={PLAIN:"plain",S256:"S256"},Mn={QUERY:"query",FRAGMENT:"fragment"},Zm=A(m({},Mn),{FORM_POST:"form_post"}),Wc={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},Ks={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Ge={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},B={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"};var Kc="appmetadata",qT="client_info",oi="1",Ys={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},At={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},rt={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},ne={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},yr={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},oh={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},sh={username:"username",password:"password"},Yc={httpSuccess:200,httpBadRequest:400},uo={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},ah={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Rn={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},ch={Jwt:"JWT",Jwk:"JWK",Pop:"pop"};var Jm=300;var ho={};Cn(ho,{postRequestFailed:()=>Zc,unexpectedError:()=>Qc});var Qc="unexpected_error",Zc="post_request_failed";var lh={[Qc]:"Unexpected error in authentication.",[Zc]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},WT={unexpectedError:{code:Qc,desc:lh[Qc]},postRequestFailed:{code:Zc,desc:lh[Zc]}},X=class n extends Error{constructor(e,t,r){let i=t?`${e}: ${t}`:e;super(i),Object.setPrototypeOf(this,n.prototype),this.errorCode=e||y.EMPTY_STRING,this.errorMessage=t||y.EMPTY_STRING,this.subError=r||y.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}};function Jc(n,e){return new X(n,e?`${lh[n]} ${e}`:lh[n])}var it={};Cn(it,{authTimeNotFound:()=>vr,authorizationCodeMissingFromServerResponse:()=>bo,bindingKeyNotRemoved:()=>Do,cannotAppendScopeSet:()=>So,cannotRemoveEmptyScope:()=>To,clientInfoDecodingError:()=>si,clientInfoEmptyError:()=>fo,deviceCodeExpired:()=>nl,deviceCodePollingCancelled:()=>tl,deviceCodeUnknownError:()=>rl,emptyInputScopeSet:()=>li,endSessionEndpointNotSupported:()=>Mo,endpointResolutionError:()=>_t,hashNotDeserialized:()=>yo,invalidAssertion:()=>sl,invalidCacheEnvironment:()=>Er,invalidCacheRecord:()=>Ao,invalidClientCredential:()=>al,invalidState:()=>Nn,keyIdMissing:()=>Ro,maxAgeTranspired:()=>Eo,methodNotImplemented:()=>j,missingTenantIdError:()=>dl,multipleMatchingAccounts:()=>el,multipleMatchingAppMetadata:()=>Io,multipleMatchingTokens:()=>Xc,nestedAppAuthBridgeDisabled:()=>hl,networkError:()=>go,noAccountFound:()=>il,noAccountInSilentRequest:()=>Cr,noCryptoObject:()=>ui,noNetworkConnectivity:()=>ll,nonceMismatch:()=>Co,nullOrEmptyToken:()=>po,openIdConfigError:()=>mo,requestCannotBeMade:()=>wo,stateMismatch:()=>vo,stateNotFound:()=>ci,tokenClaimsCnfRequiredForSignedJwt:()=>_o,tokenParsingError:()=>ai,tokenRefreshRequired:()=>$n,unexpectedCredentialType:()=>ol,userCanceled:()=>ul,userTimeoutReached:()=>cl});var si="client_info_decoding_error",fo="client_info_empty_error",ai="token_parsing_error",po="null_or_empty_token",_t="endpoints_resolution_error",go="network_error",mo="openid_config_error",yo="hash_not_deserialized",Nn="invalid_state",vo="state_mismatch",ci="state_not_found",Co="nonce_mismatch",vr="auth_time_not_found",Eo="max_age_transpired",Xc="multiple_matching_tokens",el="multiple_matching_accounts",Io="multiple_matching_appMetadata",wo="request_cannot_be_made",To="cannot_remove_empty_scope",So="cannot_append_scopeset",li="empty_input_scopeset",tl="device_code_polling_cancelled",nl="device_code_expired",rl="device_code_unknown_error",Cr="no_account_in_silent_request",Ao="invalid_cache_record",Er="invalid_cache_environment",il="no_account_found",ui="no_crypto_object",ol="unexpected_credential_type",sl="invalid_assertion",al="invalid_client_credential",$n="token_refresh_required",cl="user_timeout_reached",_o="token_claims_cnf_required_for_signedjwt",bo="authorization_code_missing_from_server_response",Do="binding_key_not_removed",Mo="end_session_endpoint_not_supported",Ro="key_id_missing",ll="no_network_connectivity",ul="user_canceled",dl="missing_tenant_id_error",j="method_not_implemented",hl="nested_app_auth_bridge_disabled";var G={[si]:"The client info could not be parsed/decoded correctly",[fo]:"The client info was empty",[ai]:"Token cannot be parsed",[po]:"The token is null or empty",[_t]:"Endpoints cannot be resolved",[go]:"Network request failed",[mo]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[yo]:"The hash parameters could not be deserialized",[Nn]:"State was not the expected format",[vo]:"State mismatch error",[ci]:"State not found",[Co]:"Nonce mismatch error",[vr]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Eo]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Xc]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[el]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Io]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[wo]:"Token request cannot be made without authorization code or refresh token.",[To]:"Cannot remove null or empty scope from ScopeSet",[So]:"Cannot append ScopeSet",[li]:"Empty input ScopeSet cannot be processed",[tl]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[nl]:"Device code is expired.",[rl]:"Device code stopped polling for unknown reasons.",[Cr]:"Please pass an account object, silent flow is not supported without account information",[Ao]:"Cache record object was null or undefined.",[Er]:"Invalid environment when attempting to create cache entry",[il]:"No account found in cache for given key.",[ui]:"No crypto object detected.",[ol]:"Unexpected credential type.",[sl]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[al]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[$n]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[cl]:"User defined timeout for device code polling reached",[_o]:"Cannot generate a POP jwt if the token_claims are not populated",[bo]:"Server response does not contain an authorization code to proceed",[Do]:"Could not remove the credential's binding key from storage.",[Mo]:"The provided authority does not support logout",[Ro]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[ll]:"No network connectivity. Check your internet connection.",[ul]:"User cancelled the flow.",[dl]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[j]:"This method has not been implemented",[hl]:"The nested app auth bridge is disabled"},KT={clientInfoDecodingError:{code:si,desc:G[si]},clientInfoEmptyError:{code:fo,desc:G[fo]},tokenParsingError:{code:ai,desc:G[ai]},nullOrEmptyToken:{code:po,desc:G[po]},endpointResolutionError:{code:_t,desc:G[_t]},networkError:{code:go,desc:G[go]},unableToGetOpenidConfigError:{code:mo,desc:G[mo]},hashNotDeserialized:{code:yo,desc:G[yo]},invalidStateError:{code:Nn,desc:G[Nn]},stateMismatchError:{code:vo,desc:G[vo]},stateNotFoundError:{code:ci,desc:G[ci]},nonceMismatchError:{code:Co,desc:G[Co]},authTimeNotFoundError:{code:vr,desc:G[vr]},maxAgeTranspired:{code:Eo,desc:G[Eo]},multipleMatchingTokens:{code:Xc,desc:G[Xc]},multipleMatchingAccounts:{code:el,desc:G[el]},multipleMatchingAppMetadata:{code:Io,desc:G[Io]},tokenRequestCannotBeMade:{code:wo,desc:G[wo]},removeEmptyScopeError:{code:To,desc:G[To]},appendScopeSetError:{code:So,desc:G[So]},emptyInputScopeSetError:{code:li,desc:G[li]},DeviceCodePollingCancelled:{code:tl,desc:G[tl]},DeviceCodeExpired:{code:nl,desc:G[nl]},DeviceCodeUnknownError:{code:rl,desc:G[rl]},NoAccountInSilentRequest:{code:Cr,desc:G[Cr]},invalidCacheRecord:{code:Ao,desc:G[Ao]},invalidCacheEnvironment:{code:Er,desc:G[Er]},noAccountFound:{code:il,desc:G[il]},noCryptoObj:{code:ui,desc:G[ui]},unexpectedCredentialType:{code:ol,desc:G[ol]},invalidAssertion:{code:sl,desc:G[sl]},invalidClientCredential:{code:al,desc:G[al]},tokenRefreshRequired:{code:$n,desc:G[$n]},userTimeoutReached:{code:cl,desc:G[cl]},tokenClaimsRequired:{code:_o,desc:G[_o]},noAuthorizationCodeFromServer:{code:bo,desc:G[bo]},bindingKeyNotRemovedError:{code:Do,desc:G[Do]},logoutNotSupported:{code:Mo,desc:G[Mo]},keyIdMissing:{code:Ro,desc:G[Ro]},noNetworkConnectivity:{code:ll,desc:G[ll]},userCanceledError:{code:ul,desc:G[ul]},missingTenantIdError:{code:dl,desc:G[dl]},nestedAppAuthBridgeDisabled:{code:hl,desc:G[hl]}},No=class n extends X{constructor(e,t){super(e,t?`${G[e]}: ${t}`:G[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,n.prototype)}};function C(n,e){return new No(n,e)}function Ir(n,e){let t=YT(n);try{let r=e(t);return JSON.parse(r)}catch{throw C(ai)}}function YT(n){if(!n)throw C(po);let t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(n);if(!t||t.length<4)throw C(ai);return t[2]}function fl(n,e){if(e===0||Date.now()-3e5>n+e)throw C(Eo)}var ph={};Cn(ph,{createDiscoveredInstance:()=>ly});var bt={Default:0,Adfs:1,Dsts:2,Ciam:3};function QT(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}var kn={};Cn(kn,{authorityMismatch:()=>El,authorityUriInsecure:()=>Oo,cannotAllowNativeBroker:()=>Cl,cannotSetOIDCOptions:()=>vl,claimsRequestParsingError:()=>pl,emptyInputScopesError:()=>Po,invalidAuthenticationHeader:()=>yl,invalidAuthorityMetadata:()=>Vo,invalidClaims:()=>wr,invalidCloudDiscoveryMetadata:()=>hi,invalidCodeChallengeMethod:()=>Bo,invalidPromptValue:()=>Lo,logoutRequestEmpty:()=>Uo,missingNonceAuthenticationHeader:()=>ml,missingSshJwk:()=>Sr,missingSshKid:()=>gl,pkceParamsMissing:()=>Tr,redirectUriEmpty:()=>ko,tokenRequestEmpty:()=>Fo,untrustedAuthority:()=>Ho,urlEmptyError:()=>xo,urlParseError:()=>Gn});var ko="redirect_uri_empty",pl="claims_request_parsing_error",Oo="authority_uri_insecure",Gn="url_parse_error",xo="empty_url_error",Po="empty_input_scopes_error",Lo="invalid_prompt_value",wr="invalid_claims",Fo="token_request_empty",Uo="logout_request_empty",Bo="invalid_code_challenge_method",Tr="pkce_params_missing",hi="invalid_cloud_discovery_metadata",Vo="invalid_authority_metadata",Ho="untrusted_authority",Sr="missing_ssh_jwk",gl="missing_ssh_kid",ml="missing_nonce_authentication_header",yl="invalid_authentication_header",vl="cannot_set_OIDCOptions",Cl="cannot_allow_native_broker",El="authority_mismatch";var je={[ko]:"A redirect URI is required for all calls, and none has been set.",[pl]:"Could not parse the given claims request object.",[Oo]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Gn]:"URL could not be parsed into appropriate segments.",[xo]:"URL was empty or null.",[Po]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Lo]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[wr]:"Given claims parameter must be a stringified JSON object.",[Fo]:"Token request was empty and not found in cache.",[Uo]:"The logout request was null or undefined.",[Bo]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Tr]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[hi]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Vo]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Ho]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Sr]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[gl]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[ml]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[yl]:"Invalid authentication header provided",[vl]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Cl]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[El]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},ZT={redirectUriNotSet:{code:ko,desc:je[ko]},claimsRequestParsingError:{code:pl,desc:je[pl]},authorityUriInsecure:{code:Oo,desc:je[Oo]},urlParseError:{code:Gn,desc:je[Gn]},urlEmptyError:{code:xo,desc:je[xo]},emptyScopesError:{code:Po,desc:je[Po]},invalidPrompt:{code:Lo,desc:je[Lo]},invalidClaimsRequest:{code:wr,desc:je[wr]},tokenRequestEmptyError:{code:Fo,desc:je[Fo]},logoutRequestEmptyError:{code:Uo,desc:je[Uo]},invalidCodeChallengeMethod:{code:Bo,desc:je[Bo]},invalidCodeChallengeParams:{code:Tr,desc:je[Tr]},invalidCloudDiscoveryMetadata:{code:hi,desc:je[hi]},invalidAuthorityMetadata:{code:Vo,desc:je[Vo]},untrustedAuthority:{code:Ho,desc:je[Ho]},missingSshJwk:{code:Sr,desc:je[Sr]},missingSshKid:{code:gl,desc:je[gl]},missingNonceAuthenticationHeader:{code:ml,desc:je[ml]},invalidAuthenticationHeader:{code:yl,desc:je[yl]},cannotSetOIDCOptions:{code:vl,desc:je[vl]},cannotAllowNativeBroker:{code:Cl,desc:je[Cl]},authorityMismatch:{code:El,desc:je[El]}},Il=class n extends X{constructor(e){super(e,je[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,n.prototype)}};function re(n){return new Il(n)}var $e=class{static isEmptyObj(e){if(e)try{let t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0}static startsWith(e,t){return e.indexOf(t)===0}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){let t={},r=e.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return r.forEach(o=>{if(o.trim()){let[s,a]=o.split(/=(.+)/g,2);s&&a&&(t[i(s)]=i(a))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}};var fi={};Cn(fi,{getDeserializedResponse:()=>Xm,stripLeadingHashOrQuery:()=>JT});function JT(n){return n.startsWith("#/")?n.substring(2):n.startsWith("#")||n.startsWith("?")?n.substring(1):n}function Xm(n){if(!n||n.indexOf("=")<0)return null;try{let e=JT(n),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.error||t.error_description||t.state)return t}catch{throw C(yo)}return null}var q=class n{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw re(xo);e.includes("#")||(this._urlString=n.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return $e.endsWith(t,"?")?t=t.slice(0,-1):$e.endsWith(t,"?/")&&(t=t.slice(0,-2)),$e.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw re(Gn)}if(!e.HostNameAndPort||!e.PathSegments)throw re(Gn);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw re(Oo)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return n.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let t=this.getUrlComponents(),r=t.PathSegments;return e&&r.length!==0&&(r[0]===Dn.COMMON||r[0]===Dn.ORGANIZATIONS)&&(r[0]=e),n.constructAuthorityUriFromObject(t)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw re(Gn);let r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},i=r.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){let t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw re(Gn);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===y.FORWARD_SLASH){let i=new n(t).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new n(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Xm(e)}};var eS={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},ey=eS.endpointMetadata,ty=eS.instanceDiscoveryMetadata,ny=new Set;ty.metadata.forEach(n=>{n.aliases.forEach(e=>{ny.add(e)})});function tS(n,e){let t,r=n.canonicalAuthority;if(r){let i=new q(r).getUrlComponents().HostNameAndPort;t=XT(i,n.cloudDiscoveryMetadata?.metadata,At.CONFIG,e)||XT(i,ty.metadata,At.HARDCODED_VALUES,e)||n.knownAuthorities}return t||[]}function XT(n,e,t,r){if(r?.trace(`getAliasesFromMetadata called with source: ${t}`),n&&e){let i=wl(e,n);if(i)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),i.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function nS(n){return wl(ty.metadata,n)}function wl(n,e){for(let t=0;t<n.length;t++){let r=n[t];if(r.aliases.includes(e))return r}return null}var gt={AAD:"AAD",OIDC:"OIDC"};var pi={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};function rS(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}function iS(n){return n.hasOwnProperty("error")&&n.hasOwnProperty("error_description")}var h={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},Xj=new Map([[h.AcquireTokenByCode,"ATByCode"],[h.AcquireTokenByRefreshToken,"ATByRT"],[h.AcquireTokenSilent,"ATS"],[h.AcquireTokenSilentAsync,"ATSAsync"],[h.AcquireTokenPopup,"ATPopup"],[h.AcquireTokenRedirect,"ATRedirect"],[h.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[h.CryptoOptsSignJwt,"CryptoSignJwt"],[h.SilentCacheClientAcquireToken,"SltCacheClientAT"],[h.SilentIframeClientAcquireToken,"SltIframeClientAT"],[h.SilentRefreshClientAcquireToken,"SltRClientAT"],[h.SsoSilent,"SsoSlt"],[h.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[h.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[h.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[h.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[h.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[h.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[h.BrokerHandhshake,"BrokerHandshake"],[h.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[h.AcquireTokenByBroker,"ATByBroker"],[h.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[h.RefreshTokenClientAcquireToken,"RTClientAT"],[h.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[h.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[h.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[h.AcquireTokenFromCache,"ATFromCache"],[h.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[h.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[h.AcquireTokenBySilentIframe,"ATBySltIframe"],[h.InitializeBaseRequest,"InitBaseReq"],[h.InitializeSilentRequest,"InitSltReq"],[h.InitializeClientApplication,"InitClientApplication"],[h.SilentIframeClientTokenHelper,"SIClientTHelper"],[h.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[h.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[h.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[h.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[h.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[h.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[h.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[h.StandardInteractionClientInitializeAuthorizationCodeRequest,"StdIntClientInitAuthCodeReq"],[h.GetAuthCodeUrl,"GetAuthCodeUrl"],[h.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[h.HandleCodeResponse,"HandleCodeResp"],[h.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[h.AuthClientAcquireToken,"AuthClientAT"],[h.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[h.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[h.AuthClientCreateQueryString,"AuthClientCreateQueryStr"],[h.PopTokenGenerateCnf,"PopTGenCnf"],[h.PopTokenGenerateKid,"PopTGenKid"],[h.HandleServerTokenResponse,"HandleServerTRes"],[h.DeserializeResponse,"DeserializeRes"],[h.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[h.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[h.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[h.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[h.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[h.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[h.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[h.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[h.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[h.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[h.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[h.AcquireTokenByCodeAsync,"ATByCodeAsync"],[h.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[h.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[h.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[h.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[h.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[h.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[h.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[h.NativeGenerateAuthResult,"NtvGenAuthRes"],[h.RemoveHiddenIframe,"RemoveHiddenIframe"],[h.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[h.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[h.GeneratePkceCodes,"GenPkceCodes"],[h.GenerateCodeVerifier,"GenCodeVerifier"],[h.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[h.Sha256Digest,"Sha256Digest"],[h.GetRandomValues,"GetRandomValues"]]),ry={NotStarted:0,InProgress:1,Completed:2};var Dt=(n,e,t,r,i)=>(...o)=>{t.trace(`Executing function ${e}`);let s=r?.startMeasurement(e,i);if(i){let a=e+"CallCount";r?.incrementFields({[a]:1},i)}try{let a=n(...o);return s?.end({success:!0}),t.trace(`Returning result from ${e}`),a}catch(a){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s?.end({success:!1},a),a}},E=(n,e,t,r,i)=>(...o)=>{t.trace(`Executing function ${e}`);let s=r?.startMeasurement(e,i);if(i){let a=e+"CallCount";r?.incrementFields({[a]:1},i)}return r?.setPreQueueTime(e,i),n(...o).then(a=>(t.trace(`Returning result from ${e}`),s?.end({success:!0}),a)).catch(a=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s?.end({success:!1},a),a})};var oS=(()=>{class n{constructor(t,r,i,o){this.networkInterface=t,this.logger=r,this.performanceClient=i,this.correlationId=o}detectRegion(t,r){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.RegionDiscoveryDetectRegion,this.correlationId);let i=t;if(i)r.region_source=uo.ENVIRONMENT_VARIABLE;else{let o=n.IMDS_OPTIONS;try{let s=yield E(this.getRegionFromIMDS.bind(this),h.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(y.IMDS_VERSION,o);if(s.status===Yc.httpSuccess&&(i=s.body,r.region_source=uo.IMDS),s.status===Yc.httpBadRequest){let a=yield E(this.getCurrentVersion.bind(this),h.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!a)return r.region_source=uo.FAILED_AUTO_DETECTION,null;let c=yield E(this.getRegionFromIMDS.bind(this),h.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,o);c.status===Yc.httpSuccess&&(i=c.body,r.region_source=uo.IMDS)}}catch{return r.region_source=uo.FAILED_AUTO_DETECTION,null}}return i||(r.region_source=uo.FAILED_AUTO_DETECTION),i||null})}getRegionFromIMDS(t,r){return g(this,null,function*(){return this.performanceClient?.addQueueMeasurement(h.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${y.IMDS_ENDPOINT}?api-version=${t}&format=text`,r,y.IMDS_TIMEOUT)})}getCurrentVersion(t){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let r=yield this.networkInterface.sendGetRequestAsync(`${y.IMDS_ENDPOINT}?format=json`,t);return r.status===Yc.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}})}}return n.IMDS_OPTIONS={headers:{Metadata:"true"}},n})();var ke={};Cn(ke,{createAccessTokenEntity:()=>sy,createIdTokenEntity:()=>oy,createRefreshTokenEntity:()=>ay,generateAppMetadataKey:()=>ix,generateAuthorityMetadataExpiresAt:()=>dh,generateCredentialKey:()=>Sl,isAccessTokenEntity:()=>KO,isAppMetadataEntity:()=>ox,isAuthorityMetadataEntity:()=>sx,isAuthorityMetadataExpired:()=>hh,isCredentialEntity:()=>uh,isIdTokenEntity:()=>YO,isRefreshTokenEntity:()=>QO,isServerTelemetryEntity:()=>nx,isThrottlingEntity:()=>rx,updateAuthorityEndpointMetadata:()=>Zs,updateCloudDiscoveryMetadata:()=>Al});var Tl={};Cn(Tl,{delay:()=>WO,isTokenExpired:()=>Qs,nowSeconds:()=>nn,wasClockTurnedBack:()=>iy});function nn(){return Math.round(new Date().getTime()/1e3)}function Qs(n,e){let t=Number(n)||0;return nn()+e>t}function iy(n){return Number(n)>nn()}function WO(n,e){return new Promise(t=>setTimeout(()=>t(e),n))}function Sl(n){return[ZO(n),JO(n),XO(n),ex(n),tx(n)].join(Ge.CACHE_KEY_SEPARATOR).toLowerCase()}function oy(n,e,t,r,i){return{credentialType:B.ID_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t,realm:i}}function sy(n,e,t,r,i,o,s,a,c,l,u,d,f,p,v){let I={homeAccountId:n,credentialType:B.ACCESS_TOKEN,secret:t,cachedAt:nn().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:r,realm:i,target:o,tokenType:u||ne.BEARER};if(d&&(I.userAssertionHash=d),l&&(I.refreshOn=l.toString()),p&&(I.requestedClaims=p,I.requestedClaimsHash=v),I.tokenType?.toLowerCase()!==ne.BEARER.toLowerCase())switch(I.credentialType=B.ACCESS_TOKEN_WITH_AUTH_SCHEME,I.tokenType){case ne.POP:let _=Ir(t,c);if(!_?.cnf?.kid)throw C(_o);I.keyId=_.cnf.kid;break;case ne.SSH:I.keyId=f}return I}function ay(n,e,t,r,i,o,s){let a={credentialType:B.REFRESH_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function uh(n){return n.hasOwnProperty("homeAccountId")&&n.hasOwnProperty("environment")&&n.hasOwnProperty("credentialType")&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("secret")}function KO(n){return n?uh(n)&&n.hasOwnProperty("realm")&&n.hasOwnProperty("target")&&(n.credentialType===B.ACCESS_TOKEN||n.credentialType===B.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function YO(n){return n?uh(n)&&n.hasOwnProperty("realm")&&n.credentialType===B.ID_TOKEN:!1}function QO(n){return n?uh(n)&&n.credentialType===B.REFRESH_TOKEN:!1}function ZO(n){return[n.homeAccountId,n.environment].join(Ge.CACHE_KEY_SEPARATOR).toLowerCase()}function JO(n){let e=n.credentialType===B.REFRESH_TOKEN&&n.familyId||n.clientId;return[n.credentialType,e,n.realm||""].join(Ge.CACHE_KEY_SEPARATOR).toLowerCase()}function XO(n){return(n.target||"").toLowerCase()}function ex(n){return(n.requestedClaimsHash||"").toLowerCase()}function tx(n){return n.tokenType&&n.tokenType.toLowerCase()!==ne.BEARER.toLowerCase()?n.tokenType.toLowerCase():""}function nx(n,e){let t=n.indexOf(rt.CACHE_KEY)===0,r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&r}function rx(n,e){let t=!1;n&&(t=n.indexOf(yr.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),t&&r}function ix({environment:n,clientId:e}){return[Kc,n,e].join(Ge.CACHE_KEY_SEPARATOR).toLowerCase()}function ox(n,e){return e?n.indexOf(Kc)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function sx(n,e){return e?n.indexOf(Ys.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function dh(){return nn()+Ys.REFRESH_TIME_SECONDS}function Zs(n,e,t){n.authorization_endpoint=e.authorization_endpoint,n.token_endpoint=e.token_endpoint,n.end_session_endpoint=e.end_session_endpoint,n.issuer=e.issuer,n.endpointsFromNetwork=t,n.jwks_uri=e.jwks_uri}function Al(n,e,t){n.aliases=e.aliases,n.preferred_cache=e.preferred_cache,n.preferred_network=e.preferred_network,n.aliasesFromNetwork=t}function hh(n){return n.expiresAt<=nn()}var pn=class n{constructor(e,t,r,i,o,s,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new oS(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(y.CIAM_AUTH_URL))return bt.Ciam;let t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case y.ADFS:return bt.Adfs;case y.DSTS:return bt.Dsts}return bt.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new q(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw C(_t)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw C(_t)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw C(_t)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw C(Mo);return this.replacePath(this.metadata.end_session_endpoint)}else throw C(_t)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw C(_t)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw C(_t)}canReplaceTenant(e){return e.PathSegments.length===1&&!n.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===bt.Default&&this.protocolMode===gt.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e,i=new q(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let l=o[c];if(c===0&&this.canReplaceTenant(i)){let u=new q(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];l!==u&&(this.logger.verbose(`Replacing tenant domain name ${l} with id ${u}`),l=u)}a!==l&&(t=t.replace(`/${l}/`,`/${a}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===bt.Adfs||this.protocolMode!==gt.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}resolveEndpointsAsync(){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),t=yield E(this.updateCloudDiscoveryMetadata.bind(this),h.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let r=yield E(this.updateEndpointMetadata.bind(this),h.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:r}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:r},this.correlationId)})}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:dh(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==At.CACHE&&r?.source!==At.CACHE&&(e.expiresAt=dh(),e.canonical_authority=this.canonicalAuthority);let i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}updateEndpointMetadata(e){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthorityUpdateEndpointMetadata,this.correlationId);let t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===At.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){let i=yield E(this.updateMetadataWithRegionalInformation.bind(this),h.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);Zs(e,i,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let r=yield E(this.getEndpointMetadataFromNetwork.bind(this),h.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(r=yield E(this.updateMetadataWithRegionalInformation.bind(this),h.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),Zs(e,r,!0),At.NETWORK;throw C(mo,this.defaultOpenIdConfigurationEndpoint)})}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Zs(e,t,!1),{source:At.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let i=this.getEndpointMetadataFromHardcodedValues();if(i)return Zs(e,i,!1),{source:At.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let r=hh(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:At.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new q(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw re(Vo)}return null}getEndpointMetadataFromNetwork(){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{let r=yield this.networkInterface.sendGetRequestAsync(t,e);return QT(r.body)?r.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${r}`),null}})}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in ey?ey[this.hostnameAndPort]:null}updateMetadataWithRegionalInformation(e){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==y.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=ah.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,n.replaceWithRegionalInformation(e,t);let r=yield E(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),h.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(r)return this.regionDiscoveryMetadata.region_outcome=ah.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=r,n.replaceWithRegionalInformation(e,r);this.regionDiscoveryMetadata.region_outcome=ah.AUTO_DETECTION_REQUESTED_FAILED}return e})}updateCloudDiscoveryMetadata(e){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;let r=yield E(this.getCloudDiscoveryMetadataFromNetwork.bind(this),h.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return Al(e,r,!0),At.NETWORK;throw re(Ho)})}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||y.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||y.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||y.NOT_APPLICABLE}`);let t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Al(e,t,!1),At.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let i=nS(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Al(e,i,!1),At.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let r=hh(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),At.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===bt.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=wl(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),re(hi)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}getCloudDiscoveryMetadataFromNetwork(){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${y.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={},r=null;try{let i=yield this.networkInterface.sendGetRequestAsync(e,t),o,s;if(rS(i.body))o=i.body,s=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else if(iS(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),o=i.body,o.error===y.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),s=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=wl(s,this.hostnameAndPort)}catch(i){if(i instanceof X)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${i.errorCode}
Error Description: ${i.errorMessage}`);else{let o=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${o.name}
Error Description: ${o.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r})}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&q.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;if(t&&t.azureCloudInstance!==pi.None){let i=t.tenant?t.tenant:y.DEFAULT_COMMON_TENANT;r=`${t.azureCloudInstance}/${i}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return y.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw C(_t)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return ny.has(e)}static isPublicCloudAuthority(e){return y.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){let i=new q(e);i.validateAsUri();let o=i.getUrlComponents(),s=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${t}.${y.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let a=q.constructAuthorityUriFromObject(A(m({},i.getUrlComponents()),{HostNameAndPort:s})).urlString;return r?`${a}?${r}`:a}static replaceWithRegionalInformation(e,t){let r=m({},e);return r.authorization_endpoint=n.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=n.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=n.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e,i=new q(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(y.CIAM_AUTH_URL)){let o=i.HostNameAndPort.split(".")[0];t=`${t}${o}${y.AAD_TENANT_DOMAIN_SUFFIX}`}return t}};pn.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Dn.COMMON,Dn.CONSUMERS,Dn.ORGANIZATIONS]);function sS(n){let r=new q(n).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(r){case Dn.COMMON:case Dn.ORGANIZATIONS:case Dn.CONSUMERS:return;default:return r}}function fh(n){return n.endsWith(y.FORWARD_SLASH)?n:`${n}${y.FORWARD_SLASH}`}function cy(n){let e=n.cloudDiscoveryMetadata,t;if(e)try{t=JSON.parse(e)}catch{throw re(hi)}return{canonicalAuthority:n.authority?fh(n.authority):void 0,knownAuthorities:n.knownAuthorities,cloudDiscoveryMetadata:t}}function ly(n,e,t,r,i,o,s){return g(this,null,function*(){s?.addQueueMeasurement(h.AuthorityFactoryCreateDiscoveredInstance,o);let a=pn.transformCIAMAuthority(fh(n)),c=new pn(a,e,t,r,i,o,s);try{return yield E(c.resolveEndpointsAsync.bind(c),h.AuthorityResolveEndpointsAsync,i,s,o)(),c}catch{throw C(_t)}})}function gh(n,e,t){return g(this,null,function*(){return typeof n=="string"?n:n({clientId:e,tokenEndpoint:t})})}var Js={};Cn(Js,{ACCESS_TOKEN:()=>lx,CCS_HEADER:()=>yx,CLAIMS:()=>fy,CLIENT_ASSERTION:()=>Fy,CLIENT_ASSERTION_TYPE:()=>Uy,CLIENT_ID:()=>gi,CLIENT_INFO:()=>px,CLIENT_REQUEST_ID:()=>Ty,CLIENT_SECRET:()=>Ly,CODE:()=>Cy,CODE_CHALLENGE:()=>Ey,CODE_CHALLENGE_METHOD:()=>Iy,CODE_VERIFIER:()=>wy,DEVICE_CODE:()=>Py,DOMAIN_HINT:()=>zy,ERROR:()=>ax,ERROR_DESCRIPTION:()=>cx,EXPIRES_IN:()=>dx,FOCI:()=>mx,GRANT_TYPE:()=>hy,ID_TOKEN:()=>ux,ID_TOKEN_HINT:()=>xy,LOGIN_HINT:()=>Gy,LOGOUT_HINT:()=>jy,NATIVE_BROKER:()=>Hy,NONCE:()=>yy,OBO_ASSERTION:()=>By,ON_BEHALF_OF:()=>gx,POST_LOGOUT_URI:()=>Oy,PROMPT:()=>vy,REDIRECT_URI:()=>uy,REFRESH_TOKEN:()=>gy,REFRESH_TOKEN_EXPIRES_IN:()=>hx,REQUESTED_TOKEN_USE:()=>Vy,REQ_CNF:()=>vh,RESPONSE_MODE:()=>dy,RESPONSE_TYPE:()=>mh,RETURN_SPA_CODE:()=>Ch,SCOPE:()=>py,SESSION_STATE:()=>fx,SID:()=>$y,STATE:()=>my,TOKEN_TYPE:()=>yh,X_APP_NAME:()=>Ny,X_APP_VER:()=>ky,X_CLIENT_CPU:()=>by,X_CLIENT_CURR_TELEM:()=>Dy,X_CLIENT_EXTRA_SKU:()=>vx,X_CLIENT_LAST_TELEM:()=>My,X_CLIENT_OS:()=>_y,X_CLIENT_SKU:()=>Sy,X_CLIENT_VER:()=>Ay,X_MS_LIB_CAPABILITY:()=>Ry});var gi="client_id",uy="redirect_uri",mh="response_type",dy="response_mode",hy="grant_type",fy="claims",py="scope",ax="error",cx="error_description",lx="access_token",ux="id_token",gy="refresh_token",dx="expires_in",hx="refresh_token_expires_in",my="state",yy="nonce",vy="prompt",fx="session_state",px="client_info",Cy="code",Ey="code_challenge",Iy="code_challenge_method",wy="code_verifier",Ty="client-request-id",Sy="x-client-SKU",Ay="x-client-VER",_y="x-client-OS",by="x-client-CPU",Dy="x-client-current-telemetry",My="x-client-last-telemetry",Ry="x-ms-lib-capability",Ny="x-app-name",ky="x-app-ver",Oy="post_logout_redirect_uri",xy="id_token_hint",Py="device_code",Ly="client_secret",Fy="client_assertion",Uy="client_assertion_type",yh="token_type",vh="req_cnf",By="assertion",Vy="requested_token_use",gx="on_behalf_of",mx="foci",yx="X-AnchorMailbox",Ch="return_spa_code",Hy="nativebroker",jy="logout_hint",$y="sid",Gy="login_hint",zy="domain_hint",vx="x-client-xtra-sku";var mi={createNewGuid:()=>{throw C(j)},base64Decode:()=>{throw C(j)},base64Encode:()=>{throw C(j)},base64UrlEncode:()=>{throw C(j)},encodeKid:()=>{throw C(j)},getPublicKeyThumbprint(){return g(this,null,function*(){throw C(j)})},removeTokenBindingKey(){return g(this,null,function*(){throw C(j)})},clearKeystore(){return g(this,null,function*(){throw C(j)})},signJwt(){return g(this,null,function*(){throw C(j)})},hashString(){return g(this,null,function*(){throw C(j)})}};var we=function(n){return n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace",n}(we||{}),gn=class n{constructor(e,t,r){this.level=we.Info;let i=()=>{},o=e||n.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:we.Info,this.correlationId=o.correlationId||y.EMPTY_STRING,this.packageName=t||y.EMPTY_STRING,this.packageVersion=r||y.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:we.Info}}clone(e,t,r){return new n({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;let o=`${`[${new Date().toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${we[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,o,t.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,t){this.logMessage(e,{logLevel:we.Error,containsPii:!1,correlationId:t||y.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:we.Error,containsPii:!0,correlationId:t||y.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:we.Warning,containsPii:!1,correlationId:t||y.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:we.Warning,containsPii:!0,correlationId:t||y.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:we.Info,containsPii:!1,correlationId:t||y.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:we.Info,containsPii:!0,correlationId:t||y.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:we.Verbose,containsPii:!1,correlationId:t||y.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:we.Verbose,containsPii:!0,correlationId:t||y.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:we.Trace,containsPii:!1,correlationId:t||y.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:we.Trace,containsPii:!0,correlationId:t||y.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};var Eh="@azure/msal-common",Xs="14.14.2";var Ue=class n{constructor(e){let t=e?$e.trimArrayEntries([...e]):[],r=t?$e.removeEmptyStringsFromArray(t):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(e){let r=(e||y.EMPTY_STRING).split(" ");return new n(r)}static createSearchScopes(e){let t=new n(e);return t.containsOnlyOIDCScopes()?t.removeScope(y.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw re(Po)}containsScope(e){let t=this.printScopesLowerCase().split(" "),r=new n(t);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return Qm.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw C(So)}}removeScope(e){if(!e)throw C(To);this.scopes.delete(e.trim())}removeOIDCScopes(){Qm.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw C(li);let t=new Set;return e.scopes.forEach(r=>t.add(r.toLowerCase())),this.scopes.forEach(r=>t.add(r.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw C(li);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let t=this.unionScopeSets(e),r=e.getScopeCount(),i=this.getScopeCount();return t.size<i+r}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):y.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};function ea(n,e){if(!n)throw C(fo);try{let t=e(n);return JSON.parse(t)}catch{throw C(si)}}function Ar(n){if(!n)throw C(si);let e=n.split(Ge.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?y.EMPTY_STRING:e[1]}}function ta(n,e){return!!n&&!!e&&n===e.split(".")[1]}function na(n,e,t,r){if(r){let{oid:i,sub:o,tid:s,name:a,tfp:c,acr:l}=r,u=s||c||l||"";return{tenantId:u,localAccountId:i||o||"",name:a,isHomeTenant:ta(u,n)}}else return{tenantId:t,localAccountId:e,isHomeTenant:ta(t,n)}}function jo(n,e,t,r){let i=n;if(e){let o=e,{isHomeTenant:a}=o,c=Xn(o,["isHomeTenant"]);i=m(m({},n),c)}if(t){let s=na(n.homeAccountId,n.localAccountId,n.tenantId,t),{isHomeTenant:a}=s,c=Xn(s,["isHomeTenant"]);return i=A(m(m({},i),c),{idTokenClaims:t,idToken:r}),i}return i}function Ih(n){return n&&(n.tid||n.tfp||n.acr)||null}var Oe=class n{generateAccountId(){return[this.homeAccountId,this.environment].join(Ge.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return n.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(Ge.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,r){let i=new n;t.authorityType===bt.Adfs?i.authorityType=Ks.ADFS_ACCOUNT_TYPE:t.protocolMode===gt.AAD?i.authorityType=Ks.MSSTS_ACCOUNT_TYPE:i.authorityType=Ks.GENERIC_ACCOUNT_TYPE;let o;e.clientInfo&&r&&(o=ea(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;let s=e.environment||t&&t.getPreferredCache();if(!s)throw C(Er);i.environment=s,i.realm=o?.utid||Ih(e.idTokenClaims)||"",i.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let a=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,c=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(i.username=a||c||"",i.name=e.idTokenClaims?.name||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{let l=na(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[l]}return i}static createFromAccountInfo(e,t,r){let i=new n;return i.authorityType=e.authorityType||Ks.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=t,i.msGraphHost=r,i.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),i}static generateHomeAccountId(e,t,r,i,o){if(!(t===bt.Adfs||t===bt.Dsts)){if(e)try{let s=ea(e,i.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}r.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let i=!0;if(r){let o=e.idTokenClaims||{},s=t.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&i}};var wh="cache_quota_exceeded",_l="cache_error_unknown";var qy={[wh]:"Exceeded cache storage capacity.",[_l]:"Unexpected error occurred when using cache storage."},_r=class n extends Error{constructor(e,t){let r=t||(qy[e]?qy[e]:qy[_l]);super(`${e}: ${r}`),Object.setPrototypeOf(this,n.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}};var br=class n{constructor(e,t,r,i){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(Eh,Xs),this.staticAuthorityOptions=i}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){let t=this.getAllAccounts(e);return t.length>1?t.sort(i=>i.idTokenClaims?-1:1)[0]:t.length===1?t[0]:null}getBaseAccountInfo(e){let t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,t?.tenantId,t))}getTenantedAccountInfoByFilter(e,t,r,i){let o=null,s;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;let a=this.getIdToken(e,t,r.tenantId);return a&&(s=Ir(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,i))?null:(o=jo(e,r,s,a?.secret),o)}getTenantProfilesFromAccountEntity(e,t,r){let i=e.getAccountInfo(),o=i.tenantProfiles||new Map,s=this.getTokenKeys();if(t){let c=o.get(t);if(c)o=new Map([[t,c]]);else return[]}let a=[];return o.forEach(c=>{let l=this.getTenantedAccountInfoByFilter(i,s,c,r);l&&a.push(l)}),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||t.isHomeTenant!==void 0&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}saveCacheRecord(e,t,r){return g(this,null,function*(){if(!e)throw C(Ao);try{e.account&&this.setAccount(e.account),e.idToken&&t?.idToken!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&t?.accessToken!==!1&&(yield this.saveAccessToken(e.accessToken)),e.refreshToken&&t?.refreshToken!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(i){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),i instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${i.message}`,r),i.name==="QuotaExceededError"||i.name==="NS_ERROR_DOM_QUOTA_REACHED"||i.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",r),new _r(wh)):new _r(i.name,i.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${i}`,r),new _r(_l))}})}saveAccessToken(e){return g(this,null,function*(){let t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=Ue.fromString(e.target),o=[];r.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,t,!1))return;let a=this.getAccessTokenCredential(s);a&&this.credentialMatchesFilter(a,t)&&Ue.fromString(a.target).intersectingScopeSets(i)&&o.push(this.removeAccessToken(s))}),yield Promise.all(o),this.setAccessTokenCredential(e)})}getAccountsFilteredBy(e){let t=this.getAccountKeys(),r=[];return t.forEach(i=>{if(!this.isAccountKey(i,e.homeAccountId))return;let o=this.getAccount(i,this.commonLogger);if(!o||e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId)||e.username&&!this.matchUsername(o.username,e.username)||e.environment&&!this.matchEnvironment(o,e.environment)||e.realm&&!this.matchRealm(o,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;let s={localAccountId:e?.localAccountId,name:e?.name},a=o.tenantProfiles?.filter(c=>this.tenantProfileMatchesFilter(c,s));a&&a.length===0||r.push(o)}),r}isAccountKey(e,t,r){return!(e.split(Ge.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(Ge.CACHE_KEY_SEPARATOR).length<6)return!1;let t=e.toLowerCase();if(t.indexOf(B.ID_TOKEN.toLowerCase())===-1&&t.indexOf(B.ACCESS_TOKEN.toLowerCase())===-1&&t.indexOf(B.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&t.indexOf(B.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(t.indexOf(B.REFRESH_TOKEN.toLowerCase())>-1){let r=`${B.REFRESH_TOKEN}${Ge.CACHE_KEY_SEPARATOR}${this.clientId}${Ge.CACHE_KEY_SEPARATOR}`,i=`${B.REFRESH_TOKEN}${Ge.CACHE_KEY_SEPARATOR}${oi}${Ge.CACHE_KEY_SEPARATOR}`;if(t.indexOf(r.toLowerCase())===-1&&t.indexOf(i.toLowerCase())===-1)return!1}else if(t.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===B.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===ne.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){let t=this.getKeys(),r={};return t.forEach(i=>{if(!this.isAppMetadata(i))return;let o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(r[i]=o))}),r}getAuthorityMetadataByAlias(e){let t=this.getAuthorityMetadataKeys(),r=null;return t.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;let o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(e)!==-1&&(r=o)}),r}removeAllAccounts(){return g(this,null,function*(){let e=this.getAccountKeys(),t=[];e.forEach(r=>{t.push(this.removeAccount(r))}),yield Promise.all(t)})}removeAccount(e){return g(this,null,function*(){let t=this.getAccount(e,this.commonLogger);t&&(yield this.removeAccountContext(t),this.removeItem(e))})}removeAccountContext(e){return g(this,null,function*(){let t=this.getTokenKeys(),r=e.generateAccountId(),i=[];t.idToken.forEach(o=>{o.indexOf(r)===0&&this.removeIdToken(o)}),t.accessToken.forEach(o=>{o.indexOf(r)===0&&i.push(this.removeAccessToken(o))}),t.refreshToken.forEach(o=>{o.indexOf(r)===0&&this.removeRefreshToken(o)}),yield Promise.all(i)})}updateOutdatedCachedAccount(e,t,r){if(t&&t.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");let i=this.getAccountKeys().filter(l=>l.startsWith(t.homeAccountId)),o=[];i.forEach(l=>{let u=this.getCachedAccountEntity(l);u&&o.push(u)});let s=o.find(l=>ta(l.realm,l.homeAccountId))||o[0];s.tenantProfiles=o.map(l=>({tenantId:l.realm,localAccountId:l.localAccountId,name:l.name,isHomeTenant:ta(l.realm,l.homeAccountId)}));let a=n.toObject(new Oe,m({},s)),c=a.generateAccountKey();return i.forEach(l=>{l!==c&&this.removeOutdatedAccount(e)}),this.setAccount(a),r?.verbose("Updated an outdated account entity in the cache"),a}return t}removeAccessToken(e){return g(this,null,function*(){let t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===B.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===ne.POP){let i=t.keyId;if(i)try{yield this.cryptoImpl.removeTokenBindingKey(i)}catch{throw C(Do)}}return this.removeItem(e)}})}removeAppMetadata(){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t)}),!0}readAccountFromCache(e){let t=Oe.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,r,i,o){this.commonLogger.trace("CacheManager - getIdToken called");let s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:B.ID_TOKEN,clientId:this.clientId,realm:r},a=this.getIdTokensByFilter(s,t),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let l=a;if(!r){let u=new Map;a.forEach((f,p)=>{f.realm===e.tenantId&&u.set(p,f)});let d=u.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(d===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;l=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),l.forEach((u,d)=>{this.removeIdToken(d)}),i&&o&&i.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){let r=t&&t.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,m({clientId:this.clientId},e)))return;let s=this.getIdTokenCredential(o);s&&this.credentialMatchesFilter(s,e)&&i.set(o,s)}),i}idTokenKeyMatchesFilter(e,t){let r=e.toLowerCase();return!(t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,r,i,o,s){this.commonLogger.trace("CacheManager - getAccessToken called");let a=Ue.createSearchScopes(t.scopes),c=t.authenticationScheme||ne.BEARER,l=c&&c.toLowerCase()!==ne.BEARER.toLowerCase()?B.ACCESS_TOKEN_WITH_AUTH_SCHEME:B.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:i||e.tenantId,target:a,tokenType:c,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},d=r&&r.accessToken||this.getTokenKeys().accessToken,f=[];d.forEach(v=>{if(this.accessTokenKeyMatchesFilter(v,u,!0)){let I=this.getAccessTokenCredential(v);I&&this.credentialMatchesFilter(I,u)&&f.push(I)}});let p=f.length;return p<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):p>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),f.forEach(v=>{this.removeAccessToken(Sl(v))}),o&&s&&o.addFields({multiMatchedAT:f.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),f[0])}accessTokenKeyMatchesFilter(e,t,r){let i=e.toLowerCase();if(t.clientId&&i.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&i.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&i.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&i.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target){let o=t.target.asArray();for(let s=0;s<o.length;s++){if(r&&!i.includes(o[s].toLowerCase()))return!1;if(!r&&i.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){let t=this.getTokenKeys(),r=[];return t.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;let o=this.getAccessTokenCredential(i);o&&this.credentialMatchesFilter(o,e)&&r.push(o)}),r}getRefreshToken(e,t,r,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");let s=t?oi:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:B.REFRESH_TOKEN,clientId:this.clientId,familyId:s},c=r&&r.refreshToken||this.getTokenKeys().refreshToken,l=[];c.forEach(d=>{if(this.refreshTokenKeyMatchesFilter(d,a)){let f=this.getRefreshTokenCredential(d);f&&this.credentialMatchesFilter(f,a)&&l.push(f)}});let u=l.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&i&&o&&i.addFields({multiMatchedRT:u},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){let r=e.toLowerCase();return!(t.familyId&&r.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),i=Object.keys(r).map(s=>r[s]),o=i.length;if(o<1)return null;if(o>1)throw C(Io);return i[0]}isAppMetadataFOCI(e){let t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===oi)}matchHomeAccountId(e,t){return typeof e.homeAccountId=="string"&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){let r=e.oid||e.sub;return t===r}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return t.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,t){return!!(e&&typeof e=="string"&&t?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){let i=tS(this.staticAuthorityOptions,this.commonLogger);if(i.includes(t)&&i.includes(e.environment))return!0}let r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){return e.realm?.toLowerCase()===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return e.credentialType!==B.ACCESS_TOKEN&&e.credentialType!==B.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Ue.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return e.indexOf(Kc)!==-1}isAuthorityMetadata(e){return e.indexOf(Ys.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Ys.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(let r in t)e[r]=t[r];return e}},bl=class extends br{setAccount(){throw C(j)}getAccount(){throw C(j)}getCachedAccountEntity(){throw C(j)}setIdTokenCredential(){throw C(j)}getIdTokenCredential(){throw C(j)}setAccessTokenCredential(){throw C(j)}getAccessTokenCredential(){throw C(j)}setRefreshTokenCredential(){throw C(j)}getRefreshTokenCredential(){throw C(j)}setAppMetadata(){throw C(j)}getAppMetadata(){throw C(j)}setServerTelemetry(){throw C(j)}getServerTelemetry(){throw C(j)}setAuthorityMetadata(){throw C(j)}getAuthorityMetadata(){throw C(j)}getAuthorityMetadataKeys(){throw C(j)}setThrottlingCache(){throw C(j)}getThrottlingCache(){throw C(j)}removeItem(){throw C(j)}getKeys(){throw C(j)}getAccountKeys(){throw C(j)}getTokenKeys(){throw C(j)}clear(){return g(this,null,function*(){throw C(j)})}updateCredentialCacheKey(){throw C(j)}removeOutdatedAccount(){throw C(j)}};var Th={tokenRenewalOffsetSeconds:Jm,preventCorsPreflight:!1},Cx={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:we.Info,correlationId:y.EMPTY_STRING},Ex={claimsBasedCachingEnabled:!1},Ix={sendGetRequestAsync(){return g(this,null,function*(){throw C(j)})},sendPostRequestAsync(){return g(this,null,function*(){throw C(j)})}},wx={sku:y.SKU,version:Xs,cpu:y.EMPTY_STRING,os:y.EMPTY_STRING},Tx={clientSecret:y.EMPTY_STRING,clientAssertion:void 0},Sx={azureCloudInstance:pi.None,tenant:`${y.DEFAULT_COMMON_TENANT}`},Ax={application:{appName:"",appVersion:""}};function aS({authOptions:n,systemOptions:e,loggerOptions:t,cacheOptions:r,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:l,serverTelemetryManager:u,persistencePlugin:d,serializableCache:f}){let p=m(m({},Cx),t);return{authOptions:_x(n),systemOptions:m(m({},Th),e),loggerOptions:p,cacheOptions:m(m({},Ex),r),storageInterface:i||new bl(n.clientId,mi,new gn(p)),networkInterface:o||Ix,cryptoInterface:s||mi,clientCredentials:a||Tx,libraryInfo:m(m({},wx),c),telemetry:m(m({},Ax),l),serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:f||null}}function _x(n){return m({clientCapabilities:[],azureCloudOptions:Sx,skipAuthorityMetadataCache:!1},n)}function Dl(n){return n.authOptions.authority.options.protocolMode===gt.OIDC}var Mt=class n extends X{constructor(e,t,r,i,o){super(e,t,r),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,n.prototype)}};var zn=class n{static generateThrottlingStorageKey(e){return`${yr.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){let r=n.generateThrottlingStorageKey(t),i=e.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){e.removeItem(r);return}throw new Mt(i.errorCodes?.join(" ")||y.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,t,r){if(n.checkResponseStatus(r)||n.checkResponseForRetryAfter(r)){let i={throttleTime:n.calculateThrottleTime(parseInt(r.headers[Et.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(n.generateThrottlingStorageKey(t),i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Et.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(t||yr.DEFAULT_THROTTLE_TIME_SECONDS),r+yr.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,t,r,i){let o={clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:i,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},s=this.generateThrottlingStorageKey(o);e.removeItem(s)}};var Sh=class{constructor(e,t){this.networkClient=e,this.cacheManager=t}sendPostRequest(e,t,r){return g(this,null,function*(){zn.preProcess(this.cacheManager,e);let i;try{i=yield this.networkClient.sendPostRequestAsync(t,r)}catch(o){throw o instanceof X?o:C(go)}return zn.postProcess(this.cacheManager,e,i),i})}};var ot={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};var qn=class{static validateRedirectUri(e){if(!e)throw re(ko)}static validatePrompt(e){let t=[];for(let r in Fe)t.push(Fe[r]);if(t.indexOf(e)<0)throw re(Lo)}static validateClaims(e){try{JSON.parse(e)}catch{throw re(wr)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw re(Tr);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([ih.PLAIN,ih.S256].indexOf(e)<0)throw re(Bo)}};var Wn=class{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(mh,encodeURIComponent(y.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(mh,encodeURIComponent(`${y.TOKEN_RESPONSE_TYPE} ${y.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(dy,encodeURIComponent(e||Zm.QUERY))}addNativeBroker(){this.parameters.set(Hy,encodeURIComponent("1"))}addScopes(e,t=!0,r=tn){t&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");let i=t?[...e||[],...r]:e||[],o=new Ue(i);this.parameters.set(py,encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(gi,encodeURIComponent(e))}addRedirectUri(e){qn.validateRedirectUri(e),this.parameters.set(uy,encodeURIComponent(e))}addPostLogoutRedirectUri(e){qn.validateRedirectUri(e),this.parameters.set(Oy,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(xy,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(zy,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(Gy,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(Et.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(Et.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set($y,encodeURIComponent(e))}addClaims(e,t){let r=this.addClientCapabilitiesToClaims(e,t);qn.validateClaims(r),this.parameters.set(fy,encodeURIComponent(r))}addCorrelationId(e){this.parameters.set(Ty,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(Sy,e.sku),this.parameters.set(Ay,e.version),e.os&&this.parameters.set(_y,e.os),e.cpu&&this.parameters.set(by,e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set(Ny,e.appName),e?.appVersion&&this.parameters.set(ky,e.appVersion)}addPrompt(e){qn.validatePrompt(e),this.parameters.set(`${vy}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(my,encodeURIComponent(e))}addNonce(e){this.parameters.set(yy,encodeURIComponent(e))}addCodeChallengeParams(e,t){if(qn.validateCodeChallengeParams(e,t),e&&t)this.parameters.set(Ey,encodeURIComponent(e)),this.parameters.set(Iy,encodeURIComponent(t));else throw re(Tr)}addAuthorizationCode(e){this.parameters.set(Cy,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(Py,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(gy,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(wy,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(Ly,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(Fy,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(Uy,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(By,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(Vy,encodeURIComponent(e))}addGrantType(e){this.parameters.set(hy,encodeURIComponent(e))}addClientInfo(){this.parameters.set(qT,"1")}addExtraQueryParameters(e){Object.entries(e).forEach(([t,r])=>{!this.parameters.has(t)&&r&&this.parameters.set(t,r)})}addClientCapabilitiesToClaims(e,t){let r;if(!e)r={};else try{r=JSON.parse(e)}catch{throw re(wr)}return t&&t.length>0&&(r.hasOwnProperty(Ws.ACCESS_TOKEN)||(r[Ws.ACCESS_TOKEN]={}),r[Ws.ACCESS_TOKEN][Ws.XMS_CC]={values:t}),JSON.stringify(r)}addUsername(e){this.parameters.set(sh.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(sh.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(yh,ne.POP),this.parameters.set(vh,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(yh,ne.SSH),this.parameters.set(vh,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(Dy,e.generateCurrentRequestHeaderValue()),this.parameters.set(My,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(Ry,yr.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(jy,encodeURIComponent(e))}createQueryString(){let e=new Array;return this.parameters.forEach((t,r)=>{e.push(`${r}=${t}`)}),e.join("&")}};var yi=class{constructor(e,t){this.config=aS(e),this.logger=new gn(this.config.loggerOptions,Eh,Xs),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new Sh(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){let t={};if(t[Et.CONTENT_TYPE]=y.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case ot.HOME_ACCOUNT_ID:try{let r=Ar(e.credential);t[Et.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case ot.UPN:t[Et.CCS_HEADER]=`UPN: ${e.credential}`;break}return t}executePostToTokenEndpoint(e,t,r,i,o,s){return g(this,null,function*(){s&&this.performanceClient?.addQueueMeasurement(s,o);let a=yield this.networkManager.sendPostRequest(i,e,{body:t,headers:r});return this.performanceClient?.addFields({refreshTokenSize:a.body.refresh_token?.length||0,httpVerToken:a.headers?.[Et.X_MS_HTTP_VERSION]||""},o),this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a})}updateAuthority(e,t){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.UpdateTokenEndpointAuthority,t);let r=`https://${e}/${this.authority.tenant}/`,i=yield ly(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=i})}createTokenQueryParameters(e){let t=new Wn;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()}};var Dr={};Cn(Dr,{badToken:()=>Ci,consentRequired:()=>Ky,interactionRequired:()=>Wy,loginRequired:()=>Yy,nativeAccountUnavailable:()=>Ml,noTokensFound:()=>vi,refreshTokenExpired:()=>Rl});var vi="no_tokens_found",Ml="native_account_unavailable",Rl="refresh_token_expired",Wy="interaction_required",Ky="consent_required",Yy="login_required",Ci="bad_token";var cS=[Wy,Ky,Yy,Ci],bx=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Ah={[vi]:"No refresh token found in the cache. Please sign-in.",[Ml]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Rl]:"Refresh token has expired.",[Ci]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."},lS={noTokensFoundError:{code:vi,desc:Ah[vi]},native_account_unavailable:{code:Ml,desc:Ah[Ml]},bad_token:{code:Ci,desc:Ah[Ci]}},mt=class n extends X{constructor(e,t,r,i,o,s,a,c){super(e,t,r),Object.setPrototypeOf(this,n.prototype),this.timestamp=i||y.EMPTY_STRING,this.traceId=o||y.EMPTY_STRING,this.correlationId=s||y.EMPTY_STRING,this.claims=a||y.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}};function Qy(n,e,t){let r=!!n&&cS.indexOf(n)>-1,i=!!t&&bx.indexOf(t)>-1,o=!!e&&cS.some(s=>e.indexOf(s)>-1);return r||o||i}function ra(n){return new mt(n,Ah[n])}var st=class n{static setRequestState(e,t,r){let i=n.generateLibraryState(e,r);return t?`${i}${y.RESOURCE_DELIM}${t}`:i}static generateLibraryState(e,t){if(!e)throw C(ui);let r={id:e.createNewGuid()};t&&(r.meta=t);let i=JSON.stringify(r);return e.base64Encode(i)}static parseRequestState(e,t){if(!e)throw C(ui);if(!t)throw C(Nn);try{let r=t.split(y.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(y.RESOURCE_DELIM):y.EMPTY_STRING,s=e.base64Decode(i),a=JSON.parse(s);return{userRequestState:o||y.EMPTY_STRING,libraryState:a}}catch{throw C(Nn)}}};var Dx={SW:"sw",UHW:"uhw"},rn=class{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}generateCnf(e,t){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.PopTokenGenerateCnf,e.correlationId);let r=yield E(this.generateKid.bind(this),h.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}})}generateKid(e){return g(this,null,function*(){return this.performanceClient?.addQueueMeasurement(h.PopTokenGenerateKid,e.correlationId),{kid:yield this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Dx.SW}})}signPopToken(e,t,r){return g(this,null,function*(){return this.signPayload(e,t,r)})}signPayload(e,t,r,i){return g(this,null,function*(){let{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:a,shrNonce:c,shrOptions:l}=r,d=(s?new q(s):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt(m({at:e,ts:nn(),m:o?.toUpperCase(),u:d?.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:d?.AbsolutePath,q:d?.QueryString?[[],d.QueryString]:void 0,client_claims:a||void 0},i),t,l,r.correlationId)})}};var _h=class{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};function Mx(n){let e="code=",t=n.error_uri?.lastIndexOf(e);return t&&t>=0?n.error_uri?.substring(t+e.length):void 0}var Kn=class n{constructor(e,t,r,i,o,s,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?C(ci,"Cached State"):C(ci,"Server State");let r,i;try{r=decodeURIComponent(e.state)}catch{throw C(Nn,e.state)}try{i=decodeURIComponent(t)}catch{throw C(Nn,e.state)}if(r!==i)throw C(vo);if(e.error||e.error_description||e.suberror){let o=Mx(e);throw Qy(e.error,e.error_description,e.suberror)?new mt(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",o):new Mt(e.error||"",e.error_description,e.suberror,o)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){let r=`Error(s): ${e.error_codes||y.NOT_AVAILABLE} - Timestamp: ${e.timestamp||y.NOT_AVAILABLE} - Description: ${e.error_description||y.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||y.NOT_AVAILABLE} - Trace ID: ${e.trace_id||y.NOT_AVAILABLE}`,i=e.error_codes?.length?e.error_codes[0]:void 0,o=new Mt(e.error,r,e.suberror,i,e.status);if(t&&e.status&&e.status>=qs.SERVER_ERROR_RANGE_START&&e.status<=qs.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${o}`);return}else if(t&&e.status&&e.status>=qs.CLIENT_ERROR_RANGE_START&&e.status<=qs.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${o}`);return}throw Qy(e.error,e.error_description,e.suberror)?new mt(e.error,e.error_description,e.suberror,e.timestamp||y.EMPTY_STRING,e.trace_id||y.EMPTY_STRING,e.correlation_id||y.EMPTY_STRING,e.claims||y.EMPTY_STRING,i):o}}handleServerTokenResponse(e,t,r,i,o,s,a,c,l){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.HandleServerTokenResponse,e.correlation_id);let u;if(e.id_token){if(u=Ir(e.id_token||y.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&u.nonce!==o.nonce)throw C(Co);if(i.maxAge||i.maxAge===0){let v=u.auth_time;if(!v)throw C(vr);fl(v,i.maxAge)}}this.homeAccountIdentifier=Oe.generateHomeAccountId(e.client_info||y.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u);let d;o&&o.state&&(d=st.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;let f=this.generateCacheRecord(e,t,r,i,u,s,o),p;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new _h(this.serializableCache,!0),yield this.persistencePlugin.beforeCacheAccess(p)),a&&!c&&f.account){let v=f.account.generateAccountKey();if(!this.cacheStorage.getAccount(v,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),yield n.generateAuthenticationResult(this.cryptoObj,t,f,!1,i,u,d,void 0,l)}yield this.cacheStorage.saveCacheRecord(f,i.storeInCache,i.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&p&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),yield this.persistencePlugin.afterCacheAccess(p))}return n.generateAuthenticationResult(this.cryptoObj,t,f,!1,i,u,d,e,l)})}generateCacheRecord(e,t,r,i,o,s,a){let c=t.getPreferredCache();if(!c)throw C(Er);let l=Ih(o),u,d;e.id_token&&o&&(u=oy(this.homeAccountIdentifier,c,e.id_token,this.clientId,l||""),d=ia(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,c,l,a,void 0,this.logger));let f=null;if(e.access_token){let I=e.scope?Ue.fromString(e.scope):new Ue(i.scopes||[]),_=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,M=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,ae=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,ce=r+_,me=ce+M,ut=ae&&ae>0?r+ae:void 0;f=sy(this.homeAccountIdentifier,c,e.access_token,this.clientId,l||t.tenant||"",I.printScopes(),ce,me,this.cryptoObj.base64Decode,ut,e.token_type,s,e.key_id,i.claims,i.requestedClaimsHash)}let p=null;if(e.refresh_token){let I;if(e.refresh_token_expires_in){let _=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;I=r+_}p=ay(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,I)}let v=null;return e.foci&&(v={clientId:this.clientId,environment:c,familyId:e.foci}),{account:d,idToken:u,accessToken:f,refreshToken:p,appMetadata:v}}static generateAuthenticationResult(e,t,r,i,o,s,a,c,l){return g(this,null,function*(){let u=y.EMPTY_STRING,d=[],f=null,p,v,I=y.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===ne.POP&&!o.popKid){let ce=new rn(e),{secret:me,keyId:ut}=r.accessToken;if(!ut)throw C(Ro);u=yield ce.signPopToken(me,ut,o)}else u=r.accessToken.secret;d=Ue.fromString(r.accessToken.target).asArray(),f=new Date(Number(r.accessToken.expiresOn)*1e3),p=new Date(Number(r.accessToken.extendedExpiresOn)*1e3),r.accessToken.refreshOn&&(v=new Date(Number(r.accessToken.refreshOn)*1e3))}r.appMetadata&&(I=r.appMetadata.familyId===oi?oi:"");let _=s?.oid||s?.sub||"",M=s?.tid||"";c?.spa_accountid&&r.account&&(r.account.nativeAccountId=c?.spa_accountid);let ae=r.account?jo(r.account.getAccountInfo(),void 0,s,r.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:_,tenantId:M,scopes:d,account:ae,idToken:r?.idToken?.secret||"",idTokenClaims:s||{},accessToken:u,fromCache:i,expiresOn:f,extExpiresOn:p,refreshOn:v,correlationId:o.correlationId,requestId:l||y.EMPTY_STRING,familyId:I,tokenType:r.accessToken?.tokenType||y.EMPTY_STRING,state:a?a.userRequestState:y.EMPTY_STRING,cloudGraphHostName:r.account?.cloudGraphHostName||y.EMPTY_STRING,msGraphHost:r.account?.msGraphHost||y.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}})}};function ia(n,e,t,r,i,o,s,a,c,l,u){u?.verbose("setCachedAccount called");let f=n.getAccountKeys().find(M=>M.startsWith(t)),p=null;f&&(p=n.getAccount(f,u));let v=p||Oe.createAccount({homeAccountId:t,idTokenClaims:i,clientInfo:o,environment:s,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:l},e,r),I=v.tenantProfiles||[],_=a||v.realm;if(_&&!I.find(M=>M.tenantId===_)){let M=na(t,v.localAccountId,_,i);I.push(M)}return v.tenantProfiles=I,v}var $o=class extends yi{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}getAuthCodeUrl(e){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.GetAuthCodeUrl,e.correlationId);let t=yield E(this.createAuthCodeUrlQueryString.bind(this),h.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return q.appendQueryString(this.authority.authorizationEndpoint,t)})}acquireToken(e,t){return g(this,null,function*(){if(this.performanceClient?.addQueueMeasurement(h.AuthClientAcquireToken,e.correlationId),!e.code)throw C(wo);let r=nn(),i=yield E(this.executeTokenRequest.bind(this),h.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=i.headers?.[Et.X_MS_REQUEST_ID],s=new Kn(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),E(s.handleServerTokenResponse.bind(s),h.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,r,e,t,void 0,void 0,void 0,o)})}handleFragmentResponse(e,t){if(new Kn(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw C(bo);return e}getLogoutUri(e){if(!e)throw re(Uo);let t=this.createLogoutUrlQueryString(e);return q.appendQueryString(this.authority.endSessionEndpoint,t)}executeTokenRequest(e,t){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthClientExecuteTokenRequest,t.correlationId);let r=this.createTokenQueryParameters(t),i=q.appendQueryString(e.tokenEndpoint,r),o=yield E(this.createTokenRequestBody.bind(this),h.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t),s;if(t.clientInfo)try{let l=ea(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${l.uid}${Ge.CLIENT_INFO_SEPARATOR}${l.utid}`,type:ot.HOME_ACCOUNT_ID}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}let a=this.createTokenRequestHeaders(s||t.ccsCredential),c={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return E(this.executePostToTokenEndpoint.bind(this),h.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(i,o,a,c,t.correlationId,h.AuthorizationCodeClientExecutePostToTokenEndpoint)})}createTokenRequestBody(e){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthClientCreateTokenRequestBody,e.correlationId);let t=new Wn;if(t.addClientId(e.tokenBodyParameters?.[gi]||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):qn.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!Dl(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let o=this.config.clientCredentials.clientAssertion;t.addClientAssertion(yield gh(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(o.assertionType)}if(t.addGrantType(Wc.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme===ne.POP){let o=new rn(this.cryptoUtils,this.performanceClient),s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(yield E(o.generateCnf.bind(o),h.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(s)}else if(e.authenticationScheme===ne.SSH)if(e.sshJwk)t.addSshJwk(e.sshJwk);else throw re(Sr);let r=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(r),(!$e.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities);let i;if(e.clientInfo)try{let o=ea(e.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${o.uid}${Ge.CLIENT_INFO_SEPARATOR}${o.utid}`,type:ot.HOME_ACCOUNT_ID}}catch(o){this.logger.verbose("Could not parse client info for CCS Header: "+o)}else i=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&i)switch(i.type){case ot.HOME_ACCOUNT_ID:try{let o=Ar(i.credential);t.addCcsOid(o)}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case ot.UPN:t.addCcsUpn(i.credential);break}return e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Ch])&&t.addExtraQueryParameters({[Ch]:"1"}),t.createQueryString()})}createAuthCodeUrlQueryString(e){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.AuthClientCreateQueryString,e.correlationId);let t=new Wn;t.addClientId(e.extraQueryParameters?.[gi]||this.config.authOptions.clientId);let r=[...e.scopes||[],...e.extraScopesToConsent||[]];t.addScopes(r,!0,this.oidcDefaultScopes),t.addRedirectUri(e.redirectUri);let i=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(i),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),Dl(this.config)||t.addApplicationTelemetry(this.config.telemetry.application),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==Fe.SELECT_ACCOUNT)if(e.sid&&e.prompt===Fe.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){let o=this.extractAccountSid(e.account),s=this.extractLoginHint(e.account);if(s&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),s=null),s){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),t.addLoginHint(s);try{let a=Ar(e.account.homeAccountId);t.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(o&&e.prompt===Fe.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(o);try{let a=Ar(e.account.homeAccountId);t.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username);try{let a=Ar(e.account.homeAccountId);t.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker&&(t.addNativeBroker(),e.authenticationScheme===ne.POP)){let o=new rn(this.cryptoUtils),s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(yield E(o.generateCnf.bind(o),h.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(s)}return t.createQueryString()})}createLogoutUrlQueryString(e){let t=new Wn;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}};var Rx=300,Ei=class extends yi{constructor(e,t){super(e,t)}acquireToken(e){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.RefreshTokenClientAcquireToken,e.correlationId);let t=nn(),r=yield E(this.executeTokenRequest.bind(this),h.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=r.headers?.[Et.X_MS_REQUEST_ID],o=new Kn(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(r.body),E(o.handleServerTokenResponse.bind(o),h.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,i)})}acquireTokenByRefreshToken(e){return g(this,null,function*(){if(!e)throw re(Fo);if(this.performanceClient?.addQueueMeasurement(h.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw C(Cr);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return yield E(this.acquireTokenWithCachedRefreshToken.bind(this),h.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(r){let i=r instanceof mt&&r.errorCode===vi,o=r instanceof Mt&&r.errorCode===oh.INVALID_GRANT_ERROR&&r.subError===oh.CLIENT_MISMATCH_ERROR;if(i||o)return E(this.acquireTokenWithCachedRefreshToken.bind(this),h.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw r}return E(this.acquireTokenWithCachedRefreshToken.bind(this),h.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)})}acquireTokenWithCachedRefreshToken(e,t){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let r=Dt(this.cacheManager.getRefreshToken.bind(this.cacheManager),h.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!r)throw ra(vi);if(r.expiresOn&&Qs(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||Rx))throw ra(Rl);let i=A(m({},e),{refreshToken:r.secret,authenticationScheme:e.authenticationScheme||ne.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:ot.HOME_ACCOUNT_ID}});try{return yield E(this.acquireToken.bind(this),h.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(o){if(o instanceof mt&&o.subError===Ci){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let s=Sl(r);this.cacheManager.removeRefreshToken(s)}throw o}})}executeTokenRequest(e,t){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.RefreshTokenClientExecuteTokenRequest,e.correlationId);let r=this.createTokenQueryParameters(e),i=q.appendQueryString(t.tokenEndpoint,r),o=yield E(this.createTokenRequestBody.bind(this),h.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return E(this.executePostToTokenEndpoint.bind(this),h.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,o,s,a,e.correlationId,h.RefreshTokenClientExecutePostToTokenEndpoint)})}createTokenRequestBody(e){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let t=e.correlationId,r=new Wn;if(r.addClientId(e.tokenBodyParameters?.[gi]||this.config.authOptions.clientId),e.redirectUri&&r.addRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),r.addGrantType(Wc.REFRESH_TOKEN_GRANT),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!Dl(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),r.addCorrelationId(t),r.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let i=this.config.clientCredentials.clientAssertion;r.addClientAssertion(yield gh(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(i.assertionType)}if(e.authenticationScheme===ne.POP){let i=new rn(this.cryptoUtils,this.performanceClient),o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(yield E(i.generateCnf.bind(i),h.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(o)}else if(e.authenticationScheme===ne.SSH)if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw re(Sr);if((!$e.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case ot.HOME_ACCOUNT_ID:try{let i=Ar(e.ccsCredential.credential);r.addCcsOid(i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case ot.UPN:r.addCcsUpn(e.ccsCredential.credential);break}return e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),r.createQueryString()})}};var Nl=class extends yi{constructor(e,t){super(e,t)}acquireToken(e){return g(this,null,function*(){try{let[t,r]=yield this.acquireCachedToken(A(m({},e),{scopes:e.scopes?.length?e.scopes:[...tn]}));return r===Rn.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new Ei(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),t}catch(t){if(t instanceof No&&t.errorCode===$n)return new Ei(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw t}})}acquireCachedToken(e){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.SilentFlowClientAcquireCachedToken,e.correlationId);let t=Rn.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!$e.isEmptyObj(e.claims))throw this.setCacheOutcome(Rn.FORCE_REFRESH_OR_CLAIMS,e.correlationId),C($n);if(!e.account)throw C(Cr);let r=e.account.tenantId||sS(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,r,this.performanceClient,e.correlationId);if(o){if(iy(o.cachedAt)||Qs(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Rn.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),C($n);o.refreshOn&&Qs(o.refreshOn,0)&&(t=Rn.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Rn.NO_CACHED_ACCESS_TOKEN,e.correlationId),C($n);let s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,i,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[yield E(this.generateResultFromCacheRecord.bind(this),h.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),t]})}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==Rn.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}generateResultFromCacheRecord(e,t){return g(this,null,function*(){this.performanceClient?.addQueueMeasurement(h.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId);let r;if(e.idToken&&(r=Ir(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||t.maxAge===0){let i=r?.auth_time;if(!i)throw C(vr);fl(i,t.maxAge)}return Kn.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)})}};var Zy={sendGetRequestAsync:()=>Promise.reject(C(j)),sendPostRequestAsync:()=>Promise.reject(C(j))};var bh="missing_kid_error",Dh="missing_alg_error";var Nx={[bh]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Dh]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."},Jy=class n extends X{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,n.prototype)}};function Xy(n){return new Jy(n,Nx[n])}var kl=class n{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Xy(bh);if(!e.alg)throw Xy(Dh);let t=new n({typ:e.typ||ch.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}};var uS=",",dS="|";function kx(n){let{skus:e,libraryName:t,libraryVersion:r,extensionName:i,extensionVersion:o}=n,s=new Map([[0,[t,r]],[2,[i,o]]]),a=[];if(e?.length){if(a=e.split(uS),a.length<4)return e}else a=Array.from({length:4},()=>dS);return s.forEach((c,l)=>{c.length===2&&c[0]?.length&&c[1]?.length&&Ox({skuArr:a,index:l,skuName:c[0],skuVersion:c[1]})}),a.join(uS)}function Ox(n){let{skuArr:e,index:t,skuName:r,skuVersion:i}=n;t>=e.length||(e[t]=[r,i].join(dS))}var Go=class n{constructor(e,t){this.cacheOutcome=Rn.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||y.EMPTY_STRING,this.wrapperVer=e.wrapperVer||y.EMPTY_STRING,this.telemetryCacheKey=rt.CACHE_KEY+Ge.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${rt.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r?.length&&t.push(`broker_error=${r}`);let i=t.join(rt.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),s=[e,o].join(rt.VALUE_SEPARATOR);return[rt.SCHEMA_VERSION,s,i].join(rt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),t=n.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(rt.VALUE_SEPARATOR),i=e.errors.slice(0,t).join(rt.VALUE_SEPARATOR),o=e.errors.length,s=t<o?rt.OVERFLOW_TRUE:rt.OVERFLOW_FALSE,a=[o,s].join(rt.VALUE_SEPARATOR);return[rt.SCHEMA_VERSION,e.cacheHits,r,i,a].join(rt.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let t=this.getLastRequests();t.errors.length>=rt.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof X?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(rt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),t=n.maxErrorsToSend(e),r=e.errors.length;if(t===r)this.cacheManager.removeItem(this.telemetryCacheKey);else{let i={failedRequests:e.failedRequests.slice(t*2),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(e){let t,r=0,i=0,o=e.errors.length;for(t=0;t<o;t++){let s=e.failedRequests[2*t]||y.EMPTY_STRING,a=e.failedRequests[2*t+1]||y.EMPTY_STRING,c=e.errors[t]||y.EMPTY_STRING;if(i+=s.toString().length+a.toString().length+c.length+3,i<rt.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||y.EMPTY_STRING),e.push(this.regionSource||y.EMPTY_STRING),e.push(this.regionOutcome||y.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return kx(e)}};var Mh=class{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}},oa=class{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:ry.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Mh}}startPerformanceMeasurement(){return new Mh}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}};var zo="pkce_not_created",sa="crypto_nonexistent",Yn="empty_navigate_uri",aa="hash_empty_error",Ii="no_state_in_hash",ca="hash_does_not_contain_known_properties",la="unable_to_parse_state",ua="state_interaction_type_mismatch",da="interaction_in_progress",ha="popup_window_error",fa="empty_window_error",$t="user_cancelled",Rh="monitor_popup_timeout",pa="monitor_window_timeout",ga="redirect_in_iframe",ma="block_iframe_reload",ya="block_nested_popups",Nh="iframe_closed_prematurely",Qn="silent_logout_unsupported",va="no_account_error",kh="silent_prompt_value_error",Ca="no_token_request_cache_error",Ea="unable_to_parse_token_request_cache_error",wi="no_cached_authority_error",Oh="auth_request_not_set_error",xh="invalid_cache_type",Ti="non_browser_environment",Zn="database_not_open",Mr="no_network_connectivity",Ia="post_request_failed",wa="get_request_failed",qo="failed_to_parse_response",Ta="unable_to_load_token",Si="crypto_key_not_found",Sa="auth_code_required",Aa="auth_code_or_nativeAccountId_required",_a="spa_code_and_nativeAccountId_present",Ai="database_unavailable",ba="unable_to_acquire_token_from_native_platform",Da="native_handshake_timeout",Ma="native_extension_not_installed",mn="native_connection_not_established",Ra="uninitialized_public_client_application",Na="native_prompt_not_supported",ka="invalid_base64_string",Oa="invalid_pop_token_request";var Rr="For more visit: aka.ms/msaljs/browser-errors",V={[zo]:"The PKCE code challenge and verifier could not be generated.",[sa]:"The crypto object or function is not available.",[Yn]:"Navigation URI is empty. Please check stack trace for more info.",[aa]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Rr}`,[Ii]:"Hash does not contain state. Please verify that the request originated from msal.",[ca]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Rr}`,[la]:"Unable to parse state. Please verify that the request originated from msal.",[ua]:"Hash contains state but the interaction type does not match the caller.",[da]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Rr}`,[ha]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[fa]:"window.open returned null or undefined window object.",[$t]:"User cancelled the flow.",[Rh]:`Token acquisition in popup failed due to timeout.  ${Rr}`,[pa]:`Token acquisition in iframe failed due to timeout.  ${Rr}`,[ga]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[ma]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Rr}`,[ya]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Nh]:"The iframe being monitored was closed prematurely.",[Qn]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[va]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[kh]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Ca]:"No token request found in cache.",[Ea]:"The cached token request could not be parsed.",[wi]:"No cached authority found.",[Oh]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[xh]:"Invalid cache type",[Ti]:"Login and token requests are not supported in non-browser environments.",[Zn]:"Database is not open!",[Mr]:"No network connectivity. Check your internet connection.",[Ia]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[wa]:"Network request failed. Please check the network trace to determine root cause.",[qo]:"Failed to parse network response. Check network trace.",[Ta]:"Error loading token to cache.",[Si]:"Cryptographic Key or Keypair not found in browser storage.",[Sa]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Aa]:"An authorization code or nativeAccountId must be provided to this flow.",[_a]:"Request cannot contain both spa code and native account id.",[Ai]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[ba]:`Unable to acquire token from native platform.  ${Rr}`,[Da]:"Timed out while attempting to establish connection to browser extension",[Ma]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[mn]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Rr}`,[Ra]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Rr}`,[Na]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[ka]:"Invalid base64 encoded string.",[Oa]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true."},fz={pkceNotGenerated:{code:zo,desc:V[zo]},cryptoDoesNotExist:{code:sa,desc:V[sa]},emptyNavigateUriError:{code:Yn,desc:V[Yn]},hashEmptyError:{code:aa,desc:V[aa]},hashDoesNotContainStateError:{code:Ii,desc:V[Ii]},hashDoesNotContainKnownPropertiesError:{code:ca,desc:V[ca]},unableToParseStateError:{code:la,desc:V[la]},stateInteractionTypeMismatchError:{code:ua,desc:V[ua]},interactionInProgress:{code:da,desc:V[da]},popupWindowError:{code:ha,desc:V[ha]},emptyWindowError:{code:fa,desc:V[fa]},userCancelledError:{code:$t,desc:V[$t]},monitorPopupTimeoutError:{code:Rh,desc:V[Rh]},monitorIframeTimeoutError:{code:pa,desc:V[pa]},redirectInIframeError:{code:ga,desc:V[ga]},blockTokenRequestsInHiddenIframeError:{code:ma,desc:V[ma]},blockAcquireTokenInPopupsError:{code:ya,desc:V[ya]},iframeClosedPrematurelyError:{code:Nh,desc:V[Nh]},silentLogoutUnsupportedError:{code:Qn,desc:V[Qn]},noAccountError:{code:va,desc:V[va]},silentPromptValueError:{code:kh,desc:V[kh]},noTokenRequestCacheError:{code:Ca,desc:V[Ca]},unableToParseTokenRequestCacheError:{code:Ea,desc:V[Ea]},noCachedAuthorityError:{code:wi,desc:V[wi]},authRequestNotSet:{code:Oh,desc:V[Oh]},invalidCacheType:{code:xh,desc:V[xh]},notInBrowserEnvironment:{code:Ti,desc:V[Ti]},databaseNotOpen:{code:Zn,desc:V[Zn]},noNetworkConnectivity:{code:Mr,desc:V[Mr]},postRequestFailed:{code:Ia,desc:V[Ia]},getRequestFailed:{code:wa,desc:V[wa]},failedToParseNetworkResponse:{code:qo,desc:V[qo]},unableToLoadTokenError:{code:Ta,desc:V[Ta]},signingKeyNotFoundInStorage:{code:Si,desc:V[Si]},authCodeRequired:{code:Sa,desc:V[Sa]},authCodeOrNativeAccountRequired:{code:Aa,desc:V[Aa]},spaCodeAndNativeAccountPresent:{code:_a,desc:V[_a]},databaseUnavailable:{code:Ai,desc:V[Ai]},unableToAcquireTokenFromNativePlatform:{code:ba,desc:V[ba]},nativeHandshakeTimeout:{code:Da,desc:V[Da]},nativeExtensionNotInstalled:{code:Ma,desc:V[Ma]},nativeConnectionNotEstablished:{code:mn,desc:V[mn]},uninitializedPublicClientApplication:{code:Ra,desc:V[Ra]},nativePromptNotSupported:{code:Na,desc:V[Na]},invalidBase64StringError:{code:ka,desc:V[ka]},invalidPopTokenRequest:{code:Oa,desc:V[Oa]}},Wo=class n extends X{constructor(e){super(e,V[e]),Object.setPrototypeOf(this,n.prototype),this.name="BrowserAuthError"}};function S(n){return new Wo(n)}var qe={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},_i={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},Nr={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},De={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},ev={GET:"GET",POST:"POST"},pe={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},kr={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},Ol={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},ge={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962},R=function(n){return n.Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none",n}(R||{}),ct={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},tv={scopes:tn},nv="jwk",rv={React:"@azure/msal-react",Angular:"@azure/msal-angular"},Ph="msal.db",hS=1,fS=`${Ph}.keys`,Rt={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},pS=[Rt.Default,Rt.Skip,Rt.RefreshTokenAndNetwork],gS="msal.browser.log.level",mS="msal.browser.log.pii";function xl(n){return encodeURIComponent(Pl(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Ko(n){return yS(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pl(n){return yS(new TextEncoder().encode(n))}function yS(n){let e=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(e)}var xx="RSASSA-PKCS1-v1_5",ES="SHA-256",Px=2048,Lx=new Uint8Array([1,0,1]),vS="0123456789abcdef",CS=new Uint32Array(1),ov={name:xx,hash:ES,modulusLength:Px,publicExponent:Lx};function IS(n){if("crypto"in window)n.verbose("BrowserCrypto: modern crypto interface available");else throw n.error("BrowserCrypto: crypto interface is unavailable"),S(sa)}function sv(n,e,t){return g(this,null,function*(){e?.addQueueMeasurement(h.Sha256Digest,t);let i=new TextEncoder().encode(n);return window.crypto.subtle.digest(ES,i)})}function wS(n){return window.crypto.getRandomValues(n)}function iv(){return window.crypto.getRandomValues(CS),CS[0]}function lt(){let n=Date.now(),e=iv()*1024+(iv()&1023),t=new Uint8Array(16),r=Math.trunc(e/2**30),i=e&2**30-1,o=iv();t[0]=n/2**40,t[1]=n/2**32,t[2]=n/2**24,t[3]=n/2**16,t[4]=n/2**8,t[5]=n,t[6]=112|r>>>8,t[7]=r,t[8]=128|i>>>24,t[9]=i>>>16,t[10]=i>>>8,t[11]=i,t[12]=o>>>24,t[13]=o>>>16,t[14]=o>>>8,t[15]=o;let s="";for(let a=0;a<t.length;a++)s+=vS.charAt(t[a]>>>4),s+=vS.charAt(t[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}function TS(n,e){return g(this,null,function*(){return window.crypto.subtle.generateKey(ov,n,e)})}function Lh(n){return g(this,null,function*(){return window.crypto.subtle.exportKey(nv,n)})}function SS(n,e,t){return g(this,null,function*(){return window.crypto.subtle.importKey(nv,n,ov,e,t)})}function AS(n,e){return g(this,null,function*(){return window.crypto.subtle.sign(ov,n,e)})}function Fh(n){return g(this,null,function*(){let e=yield sv(n),t=new Uint8Array(e);return Ko(t)})}var xa="storage_not_supported",Uh="stubbed_public_client_application_called",Pa="in_mem_redirect_unavailable";var Bh={[xa]:"Given storage configuration option was not supported.",[Uh]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Pa]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},Fx={storageNotSupportedError:{code:xa,desc:Bh[xa]},stubPcaInstanceCalled:{code:Uh,desc:Bh[Uh]},inMemRedirectUnavailable:{code:Pa,desc:Bh[Pa]}},La=class n extends X{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,n.prototype)}};function Vh(n){return new La(n,Bh[n])}function av(n){n.location.hash="",typeof n.history.replaceState=="function"&&n.history.replaceState(null,"",`${n.location.origin}${n.location.pathname}${n.location.search}`)}function cv(n){let e=n.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function Ll(){return window.parent!==window}function _S(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${qe.POPUP_NAME_PREFIX}.`)===0}function Gt(){return window.location.href.split("?")[0].split("#")[0]}function lv(){let e=new q(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function bS(){if(q.hashContainsKnownProperties(window.location.hash)&&Ll())throw S(ma)}function DS(n){if(Ll()&&!n)throw S(ga)}function MS(){if(_S())throw S(ya)}function RS(){if(typeof window>"u")throw S(Ti)}function Hh(n){if(!n)throw S(Ra)}function Fl(n){RS(),bS(),MS(),Hh(n)}function jh(n,e){if(Fl(n),DS(e.system.allowRedirectInIframe),e.cache.cacheLocation===De.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw Vh(Pa)}function Ul(n){let e=document.createElement("link");e.rel="preconnect",e.href=new URL(n).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function Ux(){return lt()}var Bl=class n{navigateInternal(e,t){return n.defaultNavigateWindow(e,t)}navigateExternal(e,t){return n.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(r=>{setTimeout(()=>{r(!0)},t.timeout)})}};var Gh=class{sendGetRequestAsync(e,t){return g(this,null,function*(){let r;try{r=yield fetch(e,{method:ev.GET,headers:this.getFetchHeaders(t)})}catch{throw window.navigator.onLine?S(wa):S(Mr)}try{return{headers:this.getHeaderDict(r.headers),body:yield r.json(),status:r.status}}catch{throw S(qo)}})}sendPostRequestAsync(e,t){return g(this,null,function*(){let r=t&&t.body||y.EMPTY_STRING,i;try{i=yield fetch(e,{method:ev.POST,headers:this.getFetchHeaders(t),body:r})}catch{throw window.navigator.onLine?S(Ia):S(Mr)}try{return{headers:this.getHeaderDict(i.headers),body:yield i.json(),status:i.status}}catch{throw S(qo)}})}getFetchHeaders(e){let t=new Headers;if(!(e&&e.headers))return t;let r=e.headers;return Object.keys(r).forEach(i=>{t.append(i,r[i])}),t}getHeaderDict(e){let t={};return e.forEach((r,i)=>{t[i]=r}),t}};var Bx=6e4,zh=1e4,Vx=3e4,Hx=2e3;function NS({auth:n,cache:e,system:t,telemetry:r},i){let o={clientId:y.EMPTY_STRING,authority:`${y.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:y.EMPTY_STRING,authorityMetadata:y.EMPTY_STRING,redirectUri:y.EMPTY_STRING,postLogoutRedirectUri:y.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:gt.AAD,OIDCOptions:{serverResponseType:Mn.FRAGMENT,defaultScopes:[y.OPENID_SCOPE,y.PROFILE_SCOPE,y.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:pi.None,tenant:y.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1},s={cacheLocation:De.SessionStorage,temporaryCacheLocation:De.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===De.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:we.Info,piiLoggingEnabled:!1},c=A(m({},Th),{loggerOptions:a,networkClient:i?new Gh:Zy,navigationClient:new Bl,loadFrameTimeout:0,windowHashTimeout:t?.loadFrameTimeout||Bx,iframeHashTimeout:t?.loadFrameTimeout||zh,navigateFrameWait:0,redirectNavigationTimeout:Vx,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:t?.nativeBrokerHandshakeTimeout||Hx,pollIntervalMilliseconds:qe.DEFAULT_POLL_INTERVAL_MS}),l=A(m(m({},c),t),{loggerOptions:t?.loggerOptions||a}),u={application:{appName:y.EMPTY_STRING,appVersion:y.EMPTY_STRING},client:new oa};if(n?.protocolMode!==gt.OIDC&&n?.OIDCOptions&&new gn(l.loggerOptions).warning(JSON.stringify(re(kn.cannotSetOIDCOptions))),n?.protocolMode&&n.protocolMode!==gt.AAD&&l?.allowNativeBroker)throw re(kn.cannotAllowNativeBroker);return{auth:A(m(m({},o),n),{OIDCOptions:m(m({},o.OIDCOptions),n?.OIDCOptions)}),cache:m(m({},s),e),system:l,telemetry:m(m({},u),r)}}var kS="@azure/msal-browser",bi="3.23.0";var qh=class n{static loggerCallback(e,t){switch(e){case we.Error:console.error(t);return;case we.Info:console.info(t);return;case we.Verbose:console.debug(t);return;case we.Warning:console.warn(t);return;default:console.log(t);return}}constructor(e){this.browserEnvironment=typeof window<"u",this.config=NS(e,this.browserEnvironment);let t;try{t=window[De.SessionStorage]}catch{}let r=t?.getItem(gS),i=t?.getItem(mS)?.toLowerCase(),o=i==="true"?!0:i==="false"?!1:void 0,s=m({},this.config.system.loggerOptions),a=r&&Object.keys(we).includes(r)?we[r]:void 0;a&&(s.loggerCallback=n.loggerCallback,s.logLevel=a),o!==void 0&&(s.piiLoggingEnabled=o),this.logger=new gn(s,kS,bi),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}};var Wh=(()=>{class n extends qh{getModuleName(){return n.MODULE_NAME}getId(){return n.ID}initialize(){return g(this,null,function*(){return this.available=typeof window<"u",this.available})}}return n.MODULE_NAME="",n.ID="StandardOperatingContext",n})();function zt(n){return new TextDecoder().decode(jx(n))}function jx(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw S(ka)}let t=atob(e);return Uint8Array.from(t,r=>r.codePointAt(0)||0)}var Kh=class{constructor(){this.dbName=Ph,this.version=hS,this.tableName=fS,this.dbOpen=!1}open(){return g(this,null,function*(){return new Promise((e,t)=>{let r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",i=>{let o=i;this.db=o.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>t(S(Ai)))})})}closeConnection(){let e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}validateDbIsOpen(){return g(this,null,function*(){if(!this.dbOpen)return this.open()})}getItem(e){return g(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(S(Zn));let s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",a=>{let c=a;this.closeConnection(),t(c.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})})}setItem(e,t){return g(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((r,i)=>{if(!this.db)return i(S(Zn));let a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);a.addEventListener("success",()=>{this.closeConnection(),r()}),a.addEventListener("error",c=>{this.closeConnection(),i(c)})})})}removeItem(e){return g(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(S(Zn));let s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),t()}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})})}getKeys(){return g(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(S(Zn));let o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",s=>{let a=s;this.closeConnection(),e(a.target.result)}),o.addEventListener("error",s=>{this.closeConnection(),t(s)})})})}containsKey(e){return g(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(S(Zn));let s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",a=>{let c=a;this.closeConnection(),t(c.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})})}deleteDatabase(){return g(this,null,function*(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{let r=window.indexedDB.deleteDatabase(Ph),i=setTimeout(()=>t(!1),200);r.addEventListener("success",()=>(clearTimeout(i),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),r.addEventListener("error",()=>(clearTimeout(i),t(!1)))})})}};var Yo=class{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){let e=[];return this.cache.forEach((t,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}};var Yh=class{constructor(e){this.inMemoryCache=new Yo,this.indexedDBCache=new Kh,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Wo&&e.errorCode===Ai)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}getItem(e){return g(this,null,function*(){let t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),yield this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return t})}setItem(e,t){return g(this,null,function*(){this.inMemoryCache.setItem(e,t);try{yield this.indexedDBCache.setItem(e,t)}catch(r){this.handleDatabaseAccessError(r)}})}removeItem(e){return g(this,null,function*(){this.inMemoryCache.removeItem(e);try{yield this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}})}getKeys(){return g(this,null,function*(){let e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),yield this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e})}containsKey(e){return g(this,null,function*(){let t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),yield this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return t})}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}clearPersistent(){return g(this,null,function*(){try{this.logger.verbose("Deleting persistent keystore");let e=yield this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}})}};var xS=(()=>{class n{constructor(t,r){this.logger=t,IS(t),this.cache=new Yh(this.logger),this.performanceClient=r}createNewGuid(){return lt()}base64Encode(t){return Pl(t)}base64Decode(t){return zt(t)}base64UrlEncode(t){return xl(t)}encodeKid(t){return this.base64UrlEncode(JSON.stringify({kid:t}))}getPublicKeyThumbprint(t){return g(this,null,function*(){let r=this.performanceClient?.startMeasurement(h.CryptoOptsGetPublicKeyThumbprint,t.correlationId),i=yield TS(n.EXTRACTABLE,n.POP_KEY_USAGES),o=yield Lh(i.publicKey),s={e:o.e,kty:o.kty,n:o.n},a=OS(s),c=yield this.hashString(a),l=yield Lh(i.privateKey),u=yield SS(l,!1,["sign"]);return yield this.cache.setItem(c,{privateKey:u,publicKey:i.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri}),r&&r.end({success:!0}),c})}removeTokenBindingKey(t){return g(this,null,function*(){return yield this.cache.removeItem(t),!(yield this.cache.containsKey(t))})}clearKeystore(){return g(this,null,function*(){this.cache.clearInMemory();try{return yield this.cache.clearPersistent(),!0}catch(t){return t instanceof Error?this.logger.error(`Clearing keystore failed with error: ${t.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}})}signJwt(t,r,i,o){return g(this,null,function*(){let s=this.performanceClient?.startMeasurement(h.CryptoOptsSignJwt,o),a=yield this.cache.getItem(r);if(!a)throw S(Si);let c=yield Lh(a.publicKey),l=OS(c),u=xl(JSON.stringify({kid:r})),d=kl.getShrHeaderString(A(m({},i?.header),{alg:c.alg,kid:u})),f=xl(d);t.cnf={jwk:JSON.parse(l)};let p=xl(JSON.stringify(t)),v=`${f}.${p}`,_=new TextEncoder().encode(v),M=yield AS(a.privateKey,_),ae=Ko(new Uint8Array(M)),ce=`${v}.${ae}`;return s&&s.end({success:!0}),ce})}hashString(t){return g(this,null,function*(){return Fh(t)})}}return n.POP_KEY_USAGES=["sign","verify"],n.EXTRACTABLE=!0,n})();function OS(n){return JSON.stringify(n,Object.keys(n).sort())}var Vl=class{constructor(e){this.validateWindowStorage(e),this.windowStorage=window[e]}validateWindowStorage(e){if(e!==De.LocalStorage&&e!==De.SessionStorage||!window[e])throw Vh(xa)}getItem(e){return this.windowStorage.getItem(e)}setItem(e,t){this.windowStorage.setItem(e,t)}removeItem(e){this.windowStorage.removeItem(e)}getKeys(){return Object.keys(this.windowStorage)}containsKey(e){return this.windowStorage.hasOwnProperty(e)}};function Qh(n,e){if(!e)return null;try{return st.parseRequestState(n,e).libraryState.meta}catch{throw C(it.invalidState)}}var Fa=class n extends br{constructor(e,t,r,i,o,s){super(e,r,i,o),this.COOKIE_LIFE_MULTIPLIER=24*60*60*1e3,this.cacheConfig=t,this.logger=i,this.internalStorage=new Yo,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=s}setupBrowserStorage(e){switch(e){case De.LocalStorage:case De.SessionStorage:try{return new Vl(e)}catch(t){this.logger.verbose(t);break}}return this.cacheConfig.cacheLocation=De.MemoryStorage,new Yo}setupTemporaryCacheStorage(e,t){switch(t){case De.LocalStorage:case De.SessionStorage:try{return new Vl(e||De.SessionStorage)}catch(r){return this.logger.verbose(r),this.internalStorage}case De.MemoryStorage:default:return this.internalStorage}}migrateCacheEntries(){let e=`${y.CACHE_PREFIX}.${ze.ID_TOKEN}`,t=`${y.CACHE_PREFIX}.${ze.CLIENT_INFO}`,r=`${y.CACHE_PREFIX}.${ze.ERROR}`,i=`${y.CACHE_PREFIX}.${ze.ERROR_DESC}`,o=this.browserStorage.getItem(e),s=this.browserStorage.getItem(t),a=this.browserStorage.getItem(r),c=this.browserStorage.getItem(i),l=[o,s,a,c];[ze.ID_TOKEN,ze.CLIENT_INFO,ze.ERROR,ze.ERROR_DESC].forEach((d,f)=>{let p=l[f];p&&this.setTemporaryCache(d,p,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");let e=this.getItem(kr.ACCOUNT_KEYS),t=this.getItem(`${kr.TOKEN_KEYS}.${this.clientId}`);if(e&&t){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(i=>{if(this.isCredentialKey(i)){let o=this.getItem(i);if(o){let s=this.validateAndParseJson(o);if(s&&s.hasOwnProperty("credentialType"))switch(s.credentialType){case B.ID_TOKEN:if(ke.isIdTokenEntity(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${i} found, saving key to token key map`);let a=s,c=this.updateCredentialCacheKey(i,a);this.addTokenKey(c,B.ID_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${i}`);break;case B.ACCESS_TOKEN:case B.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(ke.isAccessTokenEntity(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${i} found, saving key to token key map`);let a=s,c=this.updateCredentialCacheKey(i,a);this.addTokenKey(c,B.ACCESS_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${i}`);break;case B.REFRESH_TOKEN:if(ke.isRefreshTokenEntity(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${i} found, saving key to token key map`);let a=s,c=this.updateCredentialCacheKey(i,a);this.addTokenKey(c,B.REFRESH_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${i}`);break}}}if(this.isAccountKey(i)){let o=this.getItem(i);if(o){let s=this.validateAndParseJson(o);s&&Oe.isAccountEntity(s)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${i} found, saving key to account key map`),this.addAccountKeyToMap(i))}}})}validateAndParseJson(e){try{let t=JSON.parse(e);return t&&typeof t=="object"?t:null}catch{return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");let r=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,r,t)}getCachedAccountEntity(e){let t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;let r=this.validateAndParseJson(t);return!r||!Oe.isAccountEntity(r)?(this.removeAccountKeyFromMap(e),null):br.toObject(new Oe,r)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");let t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");let e=this.getItem(kr.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);let t=this.getAccountKeys();t.indexOf(e)===-1?(t.push(e),this.setItem(kr.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);let t=this.getAccountKeys(),r=t.indexOf(e);r>-1?(t.splice(r,1),this.setItem(kr.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e){return g(this,null,function*(){Ka(n.prototype,this,"removeAccount").call(this,e),this.removeAccountKeyFromMap(e)})}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,B.ID_TOKEN)}removeAccessToken(e){return g(this,null,function*(){Ka(n.prototype,this,"removeAccessToken").call(this,e),this.removeTokenKey(e,B.ACCESS_TOKEN)})}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,B.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");let e=this.getItem(`${kr.TOKEN_KEYS}.${this.clientId}`);if(e){let t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");let r=this.getTokenKeys();switch(t){case B.ID_TOKEN:r.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(e));break;case B.ACCESS_TOKEN:r.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(e));break;case B.REFRESH_TOKEN:r.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),C(it.unexpectedCredentialType)}this.setItem(`${kr.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");let r=this.getTokenKeys();switch(t){case B.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);let i=r.idToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case B.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);let o=r.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case B.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);let s=r.refreshToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),C(it.unexpectedCredentialType)}this.setItem(`${kr.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,B.ID_TOKEN),null;let r=this.validateAndParseJson(t);return!r||!ke.isIdTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,B.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");let t=ke.generateCredentialKey(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,B.ID_TOKEN)}getAccessTokenCredential(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,B.ACCESS_TOKEN),null;let r=this.validateAndParseJson(t);return!r||!ke.isAccessTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,B.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");let t=ke.generateCredentialKey(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,B.ACCESS_TOKEN)}getRefreshTokenCredential(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,B.REFRESH_TOKEN),null;let r=this.validateAndParseJson(t);return!r||!ke.isRefreshTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,B.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");let t=ke.generateCredentialKey(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,B.REFRESH_TOKEN)}getAppMetadata(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;let r=this.validateAndParseJson(t);return!r||!ke.isAppMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");let t=ke.generateAppMetadataKey(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;let r=this.validateAndParseJson(t);return!r||!ke.isServerTelemetryEntity(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){let t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;let r=this.validateAndParseJson(t);return r&&ke.isAuthorityMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem(Ol.WRAPPER_SKU,e),this.internalStorage.setItem(Ol.WRAPPER_VER,t)}getWrapperMetadata(){let e=this.internalStorage.getItem(Ol.WRAPPER_SKU)||y.EMPTY_STRING,t=this.internalStorage.getItem(Ol.WRAPPER_VER)||y.EMPTY_STRING;return[e,t]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){let e=this.generateCacheKey(ze.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");let i=this.generateCacheKey(ze.ACTIVE_ACCOUNT),o=this.getItem(i);if(!o)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;let s=this.getAccountInfoFilteredBy({localAccountId:o});return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(s),s):null}let r=this.validateAndParseJson(t);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){let t=this.generateCacheKey(ze.ACTIVE_ACCOUNT_FILTERS),r=this.generateCacheKey(ze.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");let i={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(i)),this.browserStorage.setItem(r,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(r)}getThrottlingCache(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;let r=this.validateAndParseJson(t);return!r||!ke.isThrottlingEntity(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){let r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){let o=this.getItemCookie(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}let i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===De.LocalStorage){let o=this.browserStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,t,r){let i=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(i,t))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))}getKeys(){return this.browserStorage.getKeys()}clear(){return g(this,null,function*(){yield this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(y.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(y.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()})}clearTokensAndKeysWithClaims(e,t){return g(this,null,function*(){e.addQueueMeasurement(h.ClearTokensAndKeysWithClaims,t);let r=this.getTokenKeys(),i=[];r.accessToken.forEach(o=>{let s=this.getAccessTokenCredential(o);s?.requestedClaimsHash&&o.includes(s.requestedClaimsHash.toLowerCase())&&i.push(this.removeAccessToken(o))}),yield Promise.all(i),i.length>0&&this.logger.warning(`${i.length} access tokens with claims in the cache keys have been removed from the cache.`)})}setItemCookie(e,t,r){let i=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(r){let o=this.getCookieExpirationTime(r);i+=`expires=${o};`}this.cacheConfig.secureCookies&&(i+="Secure;"),document.cookie=i}getItemCookie(e){let t=`${encodeURIComponent(e)}=`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){let o=r[i];for(;o.charAt(0)===" ";)o=o.substring(1);if(o.indexOf(t)===0)return decodeURIComponent(o.substring(t.length,o.length))}return y.EMPTY_STRING}clearMsalCookies(){let e=`${y.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach(r=>{for(;r.charAt(0)===" ";)r=r.substring(1);if(r.indexOf(e)===0){let i=r.split("=")[0];this.clearItemCookie(i)}})}clearItemCookie(e){this.setItemCookie(e,y.EMPTY_STRING,-1)}getCookieExpirationTime(e){let t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):$e.startsWith(e,y.CACHE_PREFIX)||$e.startsWith(e,ze.ADAL_ID_TOKEN)?e:`${y.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){let{libraryState:{id:t}}=st.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${pe.AUTHORITY}.${t}`)}generateNonceKey(e){let{libraryState:{id:t}}=st.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${pe.NONCE_IDTOKEN}.${t}`)}generateStateKey(e){let{libraryState:{id:t}}=st.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${pe.REQUEST_STATE}.${t}`)}getCachedAuthority(e){let t=this.generateStateKey(e),r=this.getTemporaryCache(t);if(!r)return null;let i=this.generateAuthorityKey(r);return this.getTemporaryCache(i)}updateCacheEntries(e,t,r,i,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");let s=this.generateStateKey(e);this.setTemporaryCache(s,e,!1);let a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);let c=this.generateAuthorityKey(e);if(this.setTemporaryCache(c,r,!1),o){let l={credential:o.homeAccountId,type:ot.HOME_ACCOUNT_ID};this.setTemporaryCache(pe.CCS_CREDENTIAL,JSON.stringify(l),!0)}else if(i){let l={credential:i,type:ot.UPN};this.setTemporaryCache(pe.CCS_CREDENTIAL,JSON.stringify(l),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach(t=>{t.indexOf(e)!==-1&&this.removeTemporaryItem(t)}),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(pe.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(pe.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(pe.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(pe.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(pe.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(pe.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){let t=this.generateStateKey(e),r=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r||y.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(t=>{if(t.indexOf(pe.REQUEST_STATE)===-1)return;let r=this.temporaryCacheStorage.getItem(t);if(!r)return;let i=Qh(this.cryptoImpl,r);i&&i.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r))}),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");let t=Pl(JSON.stringify(e));this.setTemporaryCache(pe.REQUEST_PARAMS,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");let t=this.getTemporaryCache(pe.REQUEST_PARAMS,!0);if(!t)throw S(Ca);let r;try{r=JSON.parse(zt(t))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),S(Ea)}if(this.removeTemporaryItem(this.generateCacheKey(pe.REQUEST_PARAMS)),!r.authority){let i=this.generateAuthorityKey(e),o=this.getTemporaryCache(i);if(!o)throw S(wi);r.authority=o}return r}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");let e=this.getTemporaryCache(pe.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;let t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){let t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){let e=`${y.CACHE_PREFIX}.${pe.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){let t=`${y.CACHE_PREFIX}.${pe.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw S(da);this.setTemporaryCache(t,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(t)}getLegacyLoginHint(){let e=this.getTemporaryCache(ze.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(ze.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));let t=this.getTemporaryCache(ze.ID_TOKEN,!0);t&&(this.browserStorage.removeItem(this.generateCacheKey(ze.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));let r=t||e;if(r){let i=di.extractTokenClaims(r,zt);if(i.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),i.preferred_username;if(i.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),i.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){let r=ke.generateCredentialKey(t);if(e!==r){let i=this.getItem(e);if(i)return this.browserStorage.removeItem(e),this.setItem(r,i),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),r;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}hydrateCache(e,t){return g(this,null,function*(){let r=ke.createIdTokenEntity(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId),i;t.claims&&(i=yield this.cryptoImpl.hashString(t.claims));let o=ke.createAccessTokenEntity(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,zt,void 0,e.tokenType,void 0,t.sshKid,t.claims,i),s={idToken:r,accessToken:o};return this.saveCacheRecord(s)})}saveCacheRecord(e,t,r){return g(this,null,function*(){try{yield Ka(n.prototype,this,"saveCacheRecord").call(this,e,t,r)}catch(i){if(i instanceof _r&&this.performanceClient&&r)try{let o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},r)}catch{}throw i}})}},PS=(n,e)=>{let t={cacheLocation:De.MemoryStorage,temporaryCacheLocation:De.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Fa(n,t,mi,e)};function LS(n,e,t,r){return n.verbose("getAllAccounts called"),t?e.getAllAccounts(r):[]}function FS(n,e,t){if(e.trace("getAccount called"),Object.keys(n).length===0)return e.warning("getAccount: No accountFilter provided"),null;let r=t.getAccountInfoFilteredBy(n);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function US(n,e,t){if(e.trace("getAccountByUsername called"),!n)return e.warning("getAccountByUsername: No username provided"),null;let r=t.getAccountInfoFilteredBy({username:n});return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${n}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function BS(n,e,t){if(e.trace("getAccountByHomeId called"),!n)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;let r=t.getAccountInfoFilteredBy({homeAccountId:n});return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${n}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function VS(n,e,t){if(e.trace("getAccountByLocalId called"),!n)return e.warning("getAccountByLocalId: No localAccountId provided"),null;let r=t.getAccountInfoFilteredBy({localAccountId:n});return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${n}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function HS(n,e){e.setActiveAccount(n)}function jS(n){return n.getActiveAccount()}var k={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};var Zh=class{constructor(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}addEventCallback(e){if(typeof window<"u"){let t=lt();return this.eventCallbacks.set(t,e),this.logger.verbose(`Event callback registered with id: ${t}`),t}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}emitEvent(e,t,r,i){if(typeof window<"u"){let o={eventType:e,interactionType:t||null,payload:r||null,error:i||null,timestamp:Date.now()};this.logger.info(`Emitting event: ${e}`),this.eventCallbacks.forEach((s,a)=>{this.logger.verbose(`Emitting event to callback ${a}: ${e}`),s.apply(null,[o])})}}handleAccountCacheChange(e){try{e.key?.includes(ze.ACTIVE_ACCOUNT_FILTERS)&&this.emitEvent(k.ACTIVE_ACCOUNT_CHANGED);let t=e.newValue||e.oldValue;if(!t)return;let r=JSON.parse(t);if(typeof r!="object"||!Oe.isAccountEntity(r))return;let o=br.toObject(new Oe,r).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(k.ACCOUNT_ADDED,void 0,o)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(k.ACCOUNT_REMOVED,void 0,o))}catch{return}}};var Ua=class{constructor(e,t,r,i,o,s,a,c,l){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.nativeMessageHandler=c,this.correlationId=l||lt(),this.logger=i.clone(qe.MSAL_SKU,bi,this.correlationId),this.performanceClient=a}clearCacheOnLogout(e){return g(this,null,function*(){if(e){Oe.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{yield this.browserStorage.removeAccount(Oe.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),yield this.browserStorage.clear(),yield this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}})}getRedirectUri(e){this.logger.verbose("getRedirectUri called");let t=e||this.config.auth.redirectUri||Gt();return q.getAbsoluteUrl(t,Gt())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");let r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Go(r,this.browserStorage)}getDiscoveredAuthority(e,t,r){return g(this,null,function*(){this.performanceClient.addQueueMeasurement(h.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);let i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e||this.config.auth.authority,s=pn.generateAuthority(o,t||this.config.auth.azureCloudOptions),a=yield E(ph.createDiscoveredInstance,h.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(s,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(r&&!a.isAlias(r.environment))throw re(kn.authorityMismatch);return a})}};var $x=32;function $S(n,e,t){return g(this,null,function*(){n.addQueueMeasurement(h.GeneratePkceCodes,t);let r=Dt(Gx,h.GenerateCodeVerifier,e,n,t)(n,e,t),i=yield E(zx,h.GenerateCodeChallengeFromVerifier,e,n,t)(r,n,e,t);return{verifier:r,challenge:i}})}function Gx(n,e,t){try{let r=new Uint8Array($x);return Dt(wS,h.GetRandomValues,e,n,t)(r),Ko(r)}catch{throw S(zo)}}function zx(n,e,t,r){return g(this,null,function*(){e.addQueueMeasurement(h.GenerateCodeChallengeFromVerifier,r);try{let i=yield E(sv,h.Sha256Digest,t,e,r)(n,e,r);return Ko(new Uint8Array(i))}catch{throw S(zo)}})}function Hl(n,e,t,r){return g(this,null,function*(){t.addQueueMeasurement(h.InitializeBaseRequest,n.correlationId);let i=n.authority||e.auth.authority,o=[...n&&n.scopes||[]],s=A(m({},n),{correlationId:n.correlationId,authority:i,scopes:o});if(!s.authenticationScheme)s.authenticationScheme=ne.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===ne.SSH){if(!n.sshJwk)throw re(kn.missingSshJwk);if(!n.sshKid)throw re(kn.missingSshKid)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&n.claims&&!$e.isEmptyObj(n.claims)&&(s.requestedClaimsHash=yield Fh(n.claims)),s})}function GS(n,e,t,r,i){return g(this,null,function*(){r.addQueueMeasurement(h.InitializeSilentRequest,n.correlationId);let o=yield E(Hl,h.InitializeBaseRequest,i,r,n.correlationId)(n,t,r,i);return A(m(m({},n),o),{account:e,forceRefresh:n.forceRefresh||!1})})}var qt=class extends Ua{initializeAuthorizationCodeRequest(e){return g(this,null,function*(){this.performanceClient.addQueueMeasurement(h.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);let t=yield E($S,h.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),r=A(m({},e),{redirectUri:e.redirectUri,code:y.EMPTY_STRING,codeVerifier:t.verifier});return e.codeChallenge=t.challenge,e.codeChallengeMethod=y.S256_CODE_CHALLENGE_METHOD,r})}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);let t=m({correlationId:this.correlationId||lt()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){let r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=q.getAbsoluteUrl(e.postLogoutRedirectUri,Gt())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=q.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Gt())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=q.getAbsoluteUrl(Gt(),Gt())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId),t}getLogoutHintFromIdTokenClaims(e){let t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}createAuthCodeClient(e,t,r,i){return g(this,null,function*(){this.performanceClient.addQueueMeasurement(h.StandardInteractionClientCreateAuthCodeClient,this.correlationId);let o=yield E(this.getClientConfiguration.bind(this),h.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e,t,r,i);return new $o(o,this.performanceClient)})}getClientConfiguration(e,t,r,i){return g(this,null,function*(){this.performanceClient.addQueueMeasurement(h.StandardInteractionClientGetClientConfiguration,this.correlationId);let o=yield E(this.getDiscoveredAuthority.bind(this),h.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)(t,r,i),s=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:o,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:s.loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:qe.MSAL_SKU,version:bi,cpu:y.EMPTY_STRING,os:y.EMPTY_STRING},telemetry:this.config.telemetry}})}initializeAuthorizationRequest(e,t){return g(this,null,function*(){this.performanceClient.addQueueMeasurement(h.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);let r=this.getRedirectUri(e.redirectUri),i={interactionType:t},o=st.setRequestState(this.browserCrypto,e&&e.state||y.EMPTY_STRING,i),s=yield E(Hl,h.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)(A(m({},e),{correlationId:this.correlationId}),this.config,this.performanceClient,this.logger),a=A(m({},s),{redirectUri:r,state:o,nonce:e.nonce||lt(),responseMode:this.config.auth.OIDCOptions.serverResponseType}),c=e.account||this.browserStorage.getActiveAccount();if(c&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${c.homeAccountId}`,this.correlationId),a.account=c),!a.loginHint&&!c){let l=this.browserStorage.getLegacyLoginHint();l&&(a.loginHint=l)}return a})}};var zS="ContentError",Jh="user_switch";var qS="USER_INTERACTION_REQUIRED",WS="USER_CANCEL",KS="NO_NETWORK",YS="PERSISTENT_ERROR",QS="DISABLED",ZS="ACCOUNT_UNAVAILABLE";var qx=-2147186943,Wx={[Jh]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."},yn=class n extends X{constructor(e,t,r){super(e,t),Object.setPrototypeOf(this,n.prototype),this.name="NativeAuthError",this.ext=r}};function Di(n){if(n.ext&&n.ext.status&&(n.ext.status===YS||n.ext.status===QS)||n.ext&&n.ext.error&&n.ext.error===qx)return!0;switch(n.errorCode){case zS:return!0;default:return!1}}function jl(n,e,t){if(t&&t.status)switch(t.status){case ZS:return ra(Dr.nativeAccountUnavailable);case qS:return new mt(n,e);case WS:return S($t);case KS:return S(Mr)}return new yn(n,Wx[n]||e,t)}var Ba=class extends qt{acquireToken(e){return g(this,null,function*(){this.performanceClient.addQueueMeasurement(h.SilentCacheClientAcquireToken,e.correlationId);let t=this.initializeServerTelemetryManager(ge.acquireTokenSilent_silentFlow),r=yield E(this.getClientConfiguration.bind(this),h.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(t,e.authority,e.azureCloudOptions,e.account),i=new Nl(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{let s=(yield E(i.acquireCachedToken.bind(i),h.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(o){throw o instanceof Wo&&o.errorCode===Si&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}})}logout(e){this.logger.verbose("logoutRedirect called");let t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}};var uv={BROKER_CLIENT_ID:"brk_client_id",BROKER_REDIRECT_URI:"brk_redirect_uri"},vn=class extends Ua{constructor(e,t,r,i,o,s,a,c,l,u,d,f){super(e,t,r,i,o,s,c,l,f),this.apiId=a,this.accountId=u,this.nativeMessageHandler=l,this.nativeStorageManager=d,this.silentCacheClient=new Ba(e,this.nativeStorageManager,r,i,o,s,c,l,f),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);let p=this.nativeMessageHandler.getExtensionId()===_i.PREFERRED_EXTENSION_ID?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=Go.makeExtraSkuString({libraryName:qe.MSAL_SKU,libraryVersion:bi,extensionName:p,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters=A(m({},e.extraParameters),{[Js.X_CLIENT_EXTRA_SKU]:this.skus})}acquireToken(e){return g(this,null,function*(){this.performanceClient.addQueueMeasurement(h.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");let t=this.performanceClient.startMeasurement(h.NativeInteractionClientAcquireToken,e.correlationId),r=Tl.nowSeconds();try{let i=yield this.initializeNativeRequest(e);try{let l=yield this.acquireTokensFromCache(this.accountId,i);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),l}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}let o=Xn(i,[]),s={method:Nr.GetToken,request:o},a=yield this.nativeMessageHandler.sendMessage(s),c=this.validateNativeResponse(a);return yield this.handleNativeResponse(c,i,r).then(l=>(t.end({success:!0,isNativeBroker:!0,requestId:l.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),l)).catch(l=>{throw t.end({success:!1,errorCode:l.errorCode,subErrorCode:l.subError,isNativeBroker:!0}),l})}catch(i){throw i instanceof yn&&this.serverTelemetryManager.setNativeBrokerErrorCode(i.errorCode),i}})}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:Ue.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}acquireTokensFromCache(e,t){return g(this,null,function*(){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),C(it.noAccountFound);let r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!r)throw C(it.noAccountFound);try{let i=this.createSilentCacheRequest(t,r),o=yield this.silentCacheClient.acquireToken(i),s=A(m({},r),{idTokenClaims:o?.idTokenClaims,idToken:o?.idToken});return A(m({},o),{account:s})}catch(i){throw i}})}acquireTokenRedirect(e,t){return g(this,null,function*(){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");let r=Xn(e,[]);delete r.onRedirectNavigate;let i=yield this.initializeNativeRequest(r),o={method:Nr.GetToken,request:i};try{let c=yield this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(c)}catch(c){if(c instanceof yn&&(this.serverTelemetryManager.setNativeBrokerErrorCode(c.errorCode),Di(c)))throw c}this.browserStorage.setTemporaryCache(pe.NATIVE_REQUEST,JSON.stringify(i),!0);let s={apiId:ge.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),yield this.navigationClient.navigateExternal(a,s)})}handleRedirectPromise(e,t){return g(this,null,function*(){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;let r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;let c=r,{prompt:i}=c,o=Xn(c,["prompt"]);i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(pe.NATIVE_REQUEST));let s={method:Nr.GetToken,request:o},a=Tl.nowSeconds();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");let l=yield this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(l);let u=this.handleNativeResponse(l,o,a);this.browserStorage.setInteractionInProgress(!1);let d=yield u;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),d}catch(l){throw this.browserStorage.setInteractionInProgress(!1),l}})}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}handleNativeResponse(e,t,r){return g(this,null,function*(){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");let i=di.extractTokenClaims(e.id_token,zt),o=this.createHomeAccountIdentifier(e,i),s=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(o!==s&&e.account.id!==t.accountId)throw jl(Jh);let a=yield this.getDiscoveredAuthority(t.authority),c=ia(this.browserStorage,a,o,zt,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger),l=yield this.generateAuthenticationResult(e,t,i,c,a.canonicalAuthority,r);return this.cacheAccount(c),this.cacheNativeTokens(e,t,o,i,e.access_token,l.tenantId,r),l})}createHomeAccountIdentifier(e,t){return Oe.generateHomeAccountId(e.client_info||y.EMPTY_STRING,bt.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?Ue.fromString(e.scope):Ue.fromString(t.scope)}generatePopAccessToken(e,t){return g(this,null,function*(){if(t.tokenType===ne.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;let r=new rn(this.browserCrypto),i={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw C(it.keyIdMissing);return r.signPopToken(e.access_token,t.keyId,i)}else return e.access_token})}generateAuthenticationResult(e,t,r,i,o,s){return g(this,null,function*(){let a=this.addTelemetryFromNativeResponse(e),c=e.scope?Ue.fromString(e.scope):Ue.fromString(t.scope),l=e.account.properties||{},u=l.UID||r.oid||r.sub||y.EMPTY_STRING,d=l.TenantId||r.tid||y.EMPTY_STRING,f=jo(i.getAccountInfo(),void 0,r,e.id_token);f.nativeAccountId!==e.account.id&&(f.nativeAccountId=e.account.id);let p=yield this.generatePopAccessToken(e,t),v=t.tokenType===ne.POP?ne.POP:ne.BEARER;return{authority:o,uniqueId:u,tenantId:d,scopes:c.asArray(),account:f,idToken:e.id_token,idTokenClaims:r,accessToken:p,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:new Date(Number(s+e.expires_in)*1e3),tokenType:v,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}})}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch(t=>{this.logger.error(`Error occurred while removing account context from browser storage. ${t}`)})}cacheNativeTokens(e,t,r,i,o,s,a){let c=ke.createIdTokenEntity(r,t.authority,e.id_token||"",t.clientId,i.tid||""),l=t.tokenType===ne.POP?y.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,u=a+l,d=this.generateScopes(e,t),f=ke.createAccessTokenEntity(r,t.authority,o,t.clientId,i.tid||s,d.printScopes(),u,0,zt,void 0,t.tokenType,void 0,t.keyId),p={idToken:c,accessToken:f};this.nativeStorageManager.saveCacheRecord(p,t.storeInCache)}addTelemetryFromNativeResponse(e){let t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Jc(ho.unexpectedError,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}initializeNativeRequest(e){return g(this,null,function*(){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");let t=e.authority||this.config.auth.authority;e.account&&(yield this.getDiscoveredAuthority(t,e.azureCloudOptions,e.account));let r=new q(t);r.validateAsUri();let l=e,{scopes:i}=l,o=Xn(l,["scopes"]),s=new Ue(i||[]);s.appendScopes(tn);let a=()=>{switch(this.apiId){case ge.ssoSilent:case ge.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Fe.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case Fe.NONE:case Fe.CONSENT:case Fe.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),S(Na)}},c=A(m({},o),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:a(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:m(m({},e.extraQueryParameters),e.tokenQueryParameters),extendedExpiryToken:!1,keyId:e.popKid});if(c.signPopToken&&e.popKid)throw S(Oa);if(this.handleExtraBrokerParams(c),c.extraParameters=c.extraParameters||{},c.extraParameters.telemetry=_i.MATS_TELEMETRY,e.authenticationScheme===ne.POP){let u={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},d=new rn(this.browserCrypto),f;if(c.keyId)f=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:c.keyId})),c.signPopToken=!1;else{let p=yield E(d.generateCnf.bind(d),h.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(u,this.logger);f=p.reqCnfString,c.keyId=p.kid,c.signPopToken=!0}c.reqCnf=f}return this.addRequestSKUs(c),c})}handleExtraBrokerParams(e){if(e.extraParameters&&e.extraParameters.hasOwnProperty(uv.BROKER_CLIENT_ID)&&e.extraParameters.hasOwnProperty(uv.BROKER_REDIRECT_URI)&&e.extraParameters.hasOwnProperty(Js.CLIENT_ID)){let t=e.extraParameters[Js.CLIENT_ID],r=e.redirectUri,i=e.extraParameters[uv.BROKER_REDIRECT_URI];e.extraParameters={child_client_id:t,child_redirect_uri:r},e.redirectUri=i}}};var on=class n{constructor(e,t,r,i){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(h.NativeMessageHandlerHandshake)}sendMessage(e){return g(this,null,function*(){this.logger.trace("NativeMessageHandler - sendMessage called.");let t={channel:_i.CHANNEL_ID,extensionId:this.extensionId,responseId:lt(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise((r,i)=>{this.resolvers.set(t.responseId,{resolve:r,reject:i})})})}static createProvider(e,t,r){return g(this,null,function*(){e.trace("NativeMessageHandler - createProvider called.");try{let i=new n(e,t,r,_i.PREFERRED_EXTENSION_ID);return yield i.sendHandshakeRequest(),i}catch{let o=new n(e,t,r);return yield o.sendHandshakeRequest(),o}})}sendHandshakeRequest(){return g(this,null,function*(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);let e={channel:_i.CHANNEL_ID,extensionId:this.extensionId,responseId:lt(),body:{method:Nr.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=t=>{this.onChannelMessage(t)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(S(Da)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;let t=e.data;if(!(!t.channel||t.channel!==_i.CHANNEL_ID)&&!(t.extensionId&&t.extensionId!==this.extensionId)&&t.body.method===Nr.HandshakeRequest){let r=this.handshakeResolvers.get(t.responseId);if(!r){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);return}this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(S(Ma))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");let t=e.data,r=this.resolvers.get(t.responseId),i=this.handshakeResolvers.get(t.responseId);try{let o=t.body.method;if(o===Nr.Response){if(!r)return;let s=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")r.reject(jl(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?r.reject(jl(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result);else throw Jc(ho.unexpectedError,"Event does not contain result.");this.resolvers.delete(t.responseId)}else if(o===Nr.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(o):i&&i.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,r,i){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case ne.BEARER:case ne.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}};var Mi=class{constructor(e,t,r,i,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}handleCodeResponse(e,t){return g(this,null,function*(){this.performanceClient.addQueueMeasurement(h.HandleCodeResponse,t.correlationId);let r;try{r=this.authModule.handleFragmentResponse(e,t.state)}catch(i){throw i instanceof Mt&&i.subError===$t?S($t):i}return E(this.handleCodeResponseFromServer.bind(this),h.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(r,t)})}handleCodeResponseFromServer(e,t,r=!0){return g(this,null,function*(){if(this.performanceClient.addQueueMeasurement(h.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&(yield E(this.authModule.updateAuthority.bind(this.authModule),h.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId)),r&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{let o=this.createCcsCredentials(t);o&&(this.authCodeRequest.ccsCredential=o)}return yield E(this.authModule.acquireToken.bind(this.authModule),h.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)})}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:ot.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:ot.UPN}:null}};function Xh(n,e,t){let r=fi.getDeserializedResponse(n);if(!r)throw fi.stripLeadingHashOrQuery(n)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${n}`),S(ca)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),S(aa));return r}function JS(n,e,t){if(!n.state)throw S(Ii);let r=Qh(e,n.state);if(!r)throw S(la);if(r.interactionType!==t)throw S(ua)}var ef=class extends qt{constructor(e,t,r,i,o,s,a,c,l,u){super(e,t,r,i,o,s,a,l,u),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c}acquireToken(e){try{let t=this.generatePopupName(e.scopes||tn,e.authority||this.config.auth.authority),r=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t,r);{this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");let i=this.openSizedPopup("about:blank",t,r);return this.acquireTokenPopupAsync(e,t,r,i)}}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");let t=this.initializeLogoutRequest(e),r=this.generateLogoutPopupName(t),i=e&&e.authority,o=e&&e.mainWindowRedirectUri,s=e?.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,r,s,i,void 0,o);{this.logger.verbose("asyncPopup set to false, opening popup");let a=this.openSizedPopup("about:blank",r,s);return this.logoutPopupAsync(t,r,s,i,a,o)}}catch(t){return Promise.reject(t)}}acquireTokenPopupAsync(e,t,r,i){return g(this,null,function*(){this.logger.verbose("acquireTokenPopupAsync called");let o=this.initializeServerTelemetryManager(ge.acquireTokenPopup),s=yield E(this.initializeAuthorizationRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,R.Popup);Ul(s.authority);try{let a=yield E(this.initializeAuthorizationCodeRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(s),c=yield E(this.createAuthCodeClient.bind(this),h.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(o,s.authority,s.azureCloudOptions,s.account),l=on.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme),u;l&&(u=this.performanceClient.startMeasurement(h.FetchAccountIdWithNativeBroker,e.correlationId));let d=yield c.getAuthCodeUrl(A(m({},s),{nativeBroker:l})),f=new Mi(c,this.browserStorage,a,this.logger,this.performanceClient),p={popup:i,popupName:t,popupWindowAttributes:r},v=this.initiateAuthRequest(d,p);this.eventHandler.emitEvent(k.POPUP_OPENED,R.Popup,{popupWindow:v},null);let I=yield this.monitorPopupForHash(v),_=Dt(Xh,h.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(I,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(zn.removeThrottle(this.browserStorage,this.config.auth.clientId,a),_.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),u&&u.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw S(mn);let ae=new vn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ge.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,_.accountId,this.nativeStorage,s.correlationId),{userRequestState:ce}=st.parseRequestState(this.browserCrypto,s.state);return yield ae.acquireToken(A(m({},s),{state:ce,prompt:void 0}))}return yield f.handleCodeResponse(_,s)}catch(a){throw i&&i.close(),a instanceof X&&(a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a)),a}})}logoutPopupAsync(e,t,r,i,o,s){return g(this,null,function*(){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(k.LOGOUT_START,R.Popup,e);let a=this.initializeServerTelemetryManager(ge.logoutPopup);try{yield this.clearCacheOnLogout(e.account);let c=yield E(this.createAuthCodeClient.bind(this),h.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(a,i,void 0,e.account||void 0);try{c.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&c.authority.protocolMode===gt.OIDC){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(k.LOGOUT_SUCCESS,R.Popup,e),s){let d={apiId:ge.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},f=q.getAbsoluteUrl(s,Gt());yield this.navigationClient.navigateInternal(f,d)}o&&o.close();return}}let l=c.getLogoutUri(e);this.eventHandler.emitEvent(k.LOGOUT_SUCCESS,R.Popup,e);let u=this.openPopup(l,{popupName:t,popupWindowAttributes:r,popup:o});if(this.eventHandler.emitEvent(k.POPUP_OPENED,R.Popup,{popupWindow:u},null),yield this.monitorPopupForHash(u).catch(()=>{}),s){let d={apiId:ge.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},f=q.getAbsoluteUrl(s,Gt());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${f}`),yield this.navigationClient.navigateInternal(f,d)}else this.logger.verbose("No main window navigation requested")}catch(c){throw o&&o.close(),c instanceof X&&(c.setCorrelationId(this.correlationId),a.cacheFailedRequest(c)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(k.LOGOUT_FAILURE,R.Popup,null,c),this.eventHandler.emitEvent(k.LOGOUT_END,R.Popup),c}this.eventHandler.emitEvent(k.LOGOUT_END,R.Popup)})}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),S(Yn)}monitorPopupForHash(e){return new Promise((t,r)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");let i=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(i),r(S($t));return}let o="";try{o=e.location.href}catch{}if(!o||o==="about:blank")return;clearInterval(i);let s="",a=this.config.auth.OIDCOptions.serverResponseType;e&&(a===Mn.QUERY?s=e.location.search:s=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(s)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e)})}openPopup(e,t){try{let r;if(t.popup?(r=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,t.popupName,t.popupWindowAttributes)),!r)throw S(fa);return r.focus&&r.focus(),this.currentWindow=r,window.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),this.browserStorage.setInteractionInProgress(!1),S(ha)}}openSizedPopup(e,t,r){let i=window.screenLeft?window.screenLeft:window.screenX,o=window.screenTop?window.screenTop:window.screenY,s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=r.popupSize?.width,l=r.popupSize?.height,u=r.popupPosition?.top,d=r.popupPosition?.left;return(!c||c<0||c>s)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),c=qe.POPUP_WIDTH),(!l||l<0||l>a)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),l=qe.POPUP_HEIGHT),(!u||u<0||u>a)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),u=Math.max(0,a/2-qe.POPUP_HEIGHT/2+o)),(!d||d<0||d>s)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),d=Math.max(0,s/2-qe.POPUP_WIDTH/2+i)),window.open(e,t,`width=${c}, height=${l}, top=${u}, left=${d}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(R.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${qe.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){let t=e.account&&e.account.homeAccountId;return`${qe.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}};var $l=class{constructor(e,t,r,i,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}initiateAuthRequest(e,t){return g(this,null,function*(){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(pe.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(pe.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);let r={apiId:ge.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1};if(typeof t.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),t.onRedirectNavigate(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),yield t.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),yield t.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),S(Yn)})}handleCodeResponse(e,t){return g(this,null,function*(){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);let r=this.browserStorage.generateStateKey(t),i=this.browserStorage.getTemporaryCache(r);if(!i)throw C(it.stateNotFound,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,i)}catch(l){throw l instanceof Mt&&l.subError===$t?S($t):l}let s=this.browserStorage.generateNonceKey(i),a=this.browserStorage.getTemporaryCache(s);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&(yield E(this.authModule.updateAuthority.bind(this.authModule),h.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId)),o.nonce=a||void 0,o.state=i,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{let l=this.checkCcsCredentials();l&&(this.authCodeRequest.ccsCredential=l)}let c=yield this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),c})}checkCcsCredentials(){let e=this.browserStorage.getTemporaryCache(pe.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}};var tf=class extends qt{constructor(e,t,r,i,o,s,a,c,l,u){super(e,t,r,i,o,s,a,l,u),this.nativeStorage=c}acquireToken(e){return g(this,null,function*(){let t=yield E(this.initializeAuthorizationRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,R.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);let r=this.initializeServerTelemetryManager(ge.acquireTokenRedirect),i=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(k.RESTORE_FROM_BFCACHE,R.Redirect))};try{let o=yield E(this.initializeAuthorizationCodeRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(t),s=yield E(this.createAuthCodeClient.bind(this),h.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(r,t.authority,t.azureCloudOptions,t.account),a=new $l(s,this.browserStorage,o,this.logger,this.performanceClient),c=yield s.getAuthCodeUrl(A(m({},t),{nativeBroker:on.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)})),l=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${l}`),window.addEventListener("pageshow",i),yield a.initiateAuthRequest(c,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof X&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),window.removeEventListener("pageshow",i),this.browserStorage.cleanRequestByState(t.state),o}})}handleRedirectPromise(e="",t){return g(this,null,function*(){let r=this.initializeServerTelemetryManager(ge.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;let[i,o]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(R.Redirect),t.event.errorCode="no_server_response",null;let s=this.browserStorage.getTemporaryCache(pe.ORIGIN_URI,!0)||y.EMPTY_STRING,a=q.removeHashFromUrl(s),c=q.removeHashFromUrl(window.location.href);if(a===c&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),s.indexOf("#")>-1&&cv(s),yield this.handleResponse(i,r);if(this.config.auth.navigateToLoginRequestUrl){if(!Ll()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(pe.URL_HASH,o,!0);let l={apiId:ge.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},u=!0;if(!s||s==="null"){let d=lv();this.browserStorage.setTemporaryCache(pe.ORIGIN_URI,d,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),u=yield this.navigationClient.navigateInternal(d,l)}else this.logger.verbose(`Navigating to loginRequestUrl: ${s}`),u=yield this.navigationClient.navigateInternal(s,l);if(!u)return yield this.handleResponse(i,r)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),yield this.handleResponse(i,r);return null}catch(i){throw i instanceof X&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),this.browserStorage.cleanRequestByInteractionType(R.Redirect),i}})}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(this.config.auth.OIDCOptions.serverResponseType===Mn.QUERY?t=window.location.search:t=window.location.hash);let r=fi.getDeserializedResponse(t);if(r){try{JS(r,this.browserCrypto,R.Redirect)}catch(o){return o instanceof X&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return av(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,t]}let i=this.browserStorage.getTemporaryCache(pe.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(pe.URL_HASH)),i&&(r=fi.getDeserializedResponse(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}handleResponse(e,t){return g(this,null,function*(){let r=e.state;if(!r)throw S(Ii);let i=this.browserStorage.getCachedRequest(r);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw S(mn);let c=new vn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ge.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,i.correlationId),{userRequestState:l}=st.parseRequestState(this.browserCrypto,r);return c.acquireToken(A(m({},i),{state:l,prompt:void 0})).finally(()=>{this.browserStorage.cleanRequestByState(r)})}let o=this.browserStorage.getCachedAuthority(r);if(!o)throw S(wi);let s=yield E(this.createAuthCodeClient.bind(this),h.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(t,o);return zn.removeThrottle(this.browserStorage,this.config.auth.clientId,i),new $l(s,this.browserStorage,i,this.logger,this.performanceClient).handleCodeResponse(e,r)})}logout(e){return g(this,null,function*(){this.logger.verbose("logoutRedirect called");let t=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(ge.logout);try{this.eventHandler.emitEvent(k.LOGOUT_START,R.Redirect,e),yield this.clearCacheOnLogout(t.account);let i={apiId:ge.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=yield E(this.createAuthCodeClient.bind(this),h.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(r,e&&e.authority,void 0,e&&e.account||void 0);if(o.authority.protocolMode===gt.OIDC)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId){this.browserStorage.removeAccount(t.account?.homeAccountId),this.eventHandler.emitEvent(k.LOGOUT_SUCCESS,R.Redirect,t);return}}let s=o.getLogoutUri(t);if(this.eventHandler.emitEvent(k.LOGOUT_SUCCESS,R.Redirect,t),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(s)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),yield this.navigationClient.navigateExternal(s,i);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),yield this.navigationClient.navigateExternal(s,i);return}}catch(i){throw i instanceof X&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),this.eventHandler.emitEvent(k.LOGOUT_FAILURE,R.Redirect,null,i),this.eventHandler.emitEvent(k.LOGOUT_END,R.Redirect),i}this.eventHandler.emitEvent(k.LOGOUT_END,R.Redirect)})}getRedirectStartPage(e){let t=e||window.location.href;return q.getAbsoluteUrl(t,Gt())}};function XS(n,e,t,r,i){return g(this,null,function*(){if(e.addQueueMeasurement(h.SilentHandlerInitiateAuthRequest,r),!n)throw t.info("Navigate url is empty"),S(Yn);return i?E(Kx,h.SilentHandlerLoadFrame,t,e,r)(n,i,e,r):Dt(Yx,h.SilentHandlerLoadFrameSync,t,e,r)(n)})}function eA(n,e,t,r,i,o,s){return g(this,null,function*(){return r.addQueueMeasurement(h.SilentHandlerMonitorIframeForHash,o),new Promise((a,c)=>{e<zh&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${zh}ms). This may result in timeouts.`);let l=window.setTimeout(()=>{window.clearInterval(u),c(S(pa))},e),u=window.setInterval(()=>{let d="",f=n.contentWindow;try{d=f?f.location.href:""}catch{}if(!d||d==="about:blank")return;let p="";f&&(s===Mn.QUERY?p=f.location.search:p=f.location.hash),window.clearTimeout(l),window.clearInterval(u),a(p)},t)}).finally(()=>{Dt(Qx,h.RemoveHiddenIframe,i,r,o)(n)})})}function Kx(n,e,t,r){return t.addQueueMeasurement(h.SilentHandlerLoadFrame,r),new Promise((i,o)=>{let s=tA();window.setTimeout(()=>{if(!s){o("Unable to load iframe");return}s.src=n,i(s)},e)})}function Yx(n){let e=tA();return e.src=n,e}function tA(){let n=document.createElement("iframe");return n.className="msalSilentIframe",n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height="0",n.style.border="0",n.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(n),n}function Qx(n){document.body===n.parentNode&&document.body.removeChild(n)}var nf=class extends qt{constructor(e,t,r,i,o,s,a,c,l,u,d){super(e,t,r,i,o,s,c,u,d),this.apiId=a,this.nativeStorage=l}acquireToken(e){return g(this,null,function*(){this.performanceClient.addQueueMeasurement(h.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");let t=m({},e);t.prompt?t.prompt!==Fe.NONE&&t.prompt!==Fe.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${Fe.NONE}`),t.prompt=Fe.NONE):t.prompt=Fe.NONE;let r=yield E(this.initializeAuthorizationRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,R.Silent);Ul(r.authority);let i=this.initializeServerTelemetryManager(this.apiId),o;try{return o=yield E(this.createAuthCodeClient.bind(this),h.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)(i,r.authority,r.azureCloudOptions,r.account),yield E(this.silentTokenHelper.bind(this),h.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(o,r)}catch(s){if(s instanceof X&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),!o||!(s instanceof X)||s.errorCode!==qe.INVALID_GRANT_ERROR)throw s;this.performanceClient.addFields({retryError:s.errorCode},this.correlationId);let a=yield E(this.initializeAuthorizationRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,R.Silent);return yield E(this.silentTokenHelper.bind(this),h.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(o,a)}})}logout(){return Promise.reject(S(Qn))}silentTokenHelper(e,t){return g(this,null,function*(){let r=t.correlationId;this.performanceClient.addQueueMeasurement(h.SilentIframeClientTokenHelper,r);let i=yield E(this.initializeAuthorizationCodeRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,r)(t),o=yield E(e.getAuthCodeUrl.bind(e),h.GetAuthCodeUrl,this.logger,this.performanceClient,r)(A(m({},t),{nativeBroker:on.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)})),s=new Mi(e,this.browserStorage,i,this.logger,this.performanceClient),a=yield E(XS,h.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(o,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),c=this.config.auth.OIDCOptions.serverResponseType,l=yield E(eA,h.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,c),u=Dt(Xh,h.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(l,c,this.logger);if(u.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw S(mn);let d=new vn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,u.accountId,this.browserStorage,r),{userRequestState:f}=st.parseRequestState(this.browserCrypto,t.state);return E(d.acquireToken.bind(d),h.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,r)(A(m({},t),{state:f,prompt:t.prompt||Fe.NONE}))}return E(s.handleCodeResponse.bind(s),h.HandleCodeResponse,this.logger,this.performanceClient,r)(u,t)})}};var rf=class extends qt{acquireToken(e){return g(this,null,function*(){this.performanceClient.addQueueMeasurement(h.SilentRefreshClientAcquireToken,e.correlationId);let t=yield E(Hl,h.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r=m(m({},e),t);e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));let i=this.initializeServerTelemetryManager(ge.acquireTokenSilent_silentFlow),o=yield this.createRefreshTokenClient(i,r.authority,r.azureCloudOptions,r.account);return E(o.acquireTokenByRefreshToken.bind(o),h.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(s=>{throw s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s),s})})}logout(){return Promise.reject(S(Qn))}createRefreshTokenClient(e,t,r,i){return g(this,null,function*(){let o=yield E(this.getClientConfiguration.bind(this),h.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e,t,r,i);return new Ei(o,this.performanceClient)})}};var of=class{constructor(e,t,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=r,this.cryptoObj=i}loadExternalTokens(e,t,r){if(!this.isBrowserEnvironment)throw S(Ti);let i=t.id_token?di.extractTokenClaims(t.id_token,zt):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e.authority?new pn(pn.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||lt()):void 0,a=this.loadAccount(e,r.clientInfo||t.client_info||"",i,s),c=this.loadIdToken(t,a.homeAccountId,a.environment,a.realm),l=this.loadAccessToken(e,t,a.homeAccountId,a.environment,a.realm,r),u=this.loadRefreshToken(t,a.homeAccountId,a.environment);return this.generateAuthenticationResult(e,{account:a,idToken:c,accessToken:l,refreshToken:u},i,s)}loadAccount(e,t,r,i){if(this.logger.verbose("TokenCache - loading account"),e.account){let c=Oe.createFromAccountInfo(e.account);return this.storage.setAccount(c),c}else if(!i||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),S(Ta);let o=Oe.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,r),s=r?.tid,a=ia(this.storage,i,o,zt,r,t,i.hostnameAndPort,s,void 0,void 0,this.logger);return this.storage.setAccount(a),a}loadIdToken(e,t,r,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");let o=ke.createIdTokenEntity(t,r,e.id_token,this.config.auth.clientId,i);return this.storage.setIdTokenCredential(o),o}loadAccessToken(e,t,r,i,o,s){if(t.access_token)if(t.expires_in){if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");let a=t.scope?Ue.fromString(t.scope):new Ue(e.scopes),c=s.expiresOn||t.expires_in+new Date().getTime()/1e3,l=s.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+new Date().getTime()/1e3,u=ke.createAccessTokenEntity(r,i,t.access_token,this.config.auth.clientId,o,a.printScopes(),c,l,zt);return this.storage.setAccessTokenCredential(u),u}loadRefreshToken(e,t,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");let i=ke.createRefreshTokenEntity(t,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(i),i}generateAuthenticationResult(e,t,r,i){let o="",s=[],a=null,c;t?.accessToken&&(o=t.accessToken.secret,s=Ue.fromString(t.accessToken.target).asArray(),a=new Date(Number(t.accessToken.expiresOn)*1e3),c=new Date(Number(t.accessToken.extendedExpiresOn)*1e3));let l=t.account;return{authority:i?i.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:l.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:r||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}};var sf=class extends $o{constructor(e){super(e),this.includeRedirectUri=!1}};var af=class extends qt{constructor(e,t,r,i,o,s,a,c,l,u){super(e,t,r,i,o,s,c,l,u),this.apiId=a}acquireToken(e){return g(this,null,function*(){if(!e.code)throw S(Sa);let t=yield E(this.initializeAuthorizationRequest.bind(this),h.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,R.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{let i=A(m({},t),{code:e.code}),o=yield E(this.getClientConfiguration.bind(this),h.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)(r,t.authority,t.azureCloudOptions,t.account),s=new sf(o);this.logger.verbose("Auth code client created");let a=new Mi(s,this.browserStorage,i,this.logger,this.performanceClient);return yield E(a.handleCodeResponseFromServer.bind(a),h.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(i){throw i instanceof X&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}})}logout(){return Promise.reject(S(Qn))}};function Jn(n){let e=n?.idTokenClaims;if(e?.tfp||e?.acr)return"B2C";if(e?.tid){if(e?.tid==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function cf(n,e){try{Fl(n)}catch(t){throw e.end({success:!1},t),t}}var Va=class n{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new xS(this.logger,this.performanceClient):mi,this.eventHandler=new Zh(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new Fa(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,cy(this.config.auth),this.performanceClient):PS(this.config.auth.clientId,this.logger);let t={cacheLocation:De.MemoryStorage,temporaryCacheLocation:De.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Fa(this.config.auth.clientId,t,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new of(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static createController(e,t){return g(this,null,function*(){let r=new n(e);return yield r.initialize(t),r})}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}initialize(e){return g(this,null,function*(){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}let t=e?.correlationId||this.getRequestCorrelationId(),r=this.config.system.allowNativeBroker,i=this.performanceClient.startMeasurement(h.InitializeClientApplication,t);if(this.eventHandler.emitEvent(k.INITIALIZE_START),r)try{this.nativeExtensionProvider=yield on.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),yield E(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),h.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(k.INITIALIZE_END),i.end({allowNativeBroker:r,success:!0})})}handleRedirectPromise(e){return g(this,null,function*(){if(this.logger.verbose("handleRedirectPromise called"),Hh(this.initialized),this.isBrowserEnvironment){let t=e||"",r=this.redirectResponse.get(t);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null})}handleRedirectPromiseInternal(e){return g(this,null,function*(){let t=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&on.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=i?r?.correlationId:this.browserStorage.getTemporaryCache(pe.CORRELATION_ID,!0)||"",s=this.performanceClient.startMeasurement(h.AcquireTokenRedirect,o);this.eventHandler.emitEvent(k.HANDLE_REDIRECT_START,R.Redirect);let a;if(i&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");let c=new vn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ge.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);a=E(c.handleRedirectPromise.bind(c),h.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");let c=this.createRedirectClient(o);a=E(c.handleRedirectPromise.bind(c),h.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,s)}return a.then(c=>(c?(t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(k.LOGIN_SUCCESS,R.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_SUCCESS,R.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:Jn(c.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(k.HANDLE_REDIRECT_END,R.Redirect),c)).catch(c=>{let l=c;throw t.length>0?this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_FAILURE,R.Redirect,null,l):this.eventHandler.emitEvent(k.LOGIN_FAILURE,R.Redirect,null,l),this.eventHandler.emitEvent(k.HANDLE_REDIRECT_END,R.Redirect),s.end({success:!1},l),c})})}acquireTokenRedirect(e){return g(this,null,function*(){let t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);let r=this.performanceClient.startMeasurement(h.AcquireTokenPreRedirect,t);r.add({accountType:Jn(e.account),scenarioId:e.scenarioId});let i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=s=>{let a=typeof i=="function"?i(s):void 0;return a!==!1?r.end({success:!0}):r.discard(),a};else{let s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{let c=typeof s=="function"?s(a):void 0;return c!==!1?r.end({success:!0}):r.discard(),c}}let o=this.getAllAccounts().length>0;try{jh(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_START,R.Redirect,e):this.eventHandler.emitEvent(k.LOGIN_START,R.Redirect,e);let s;return this.nativeExtensionProvider&&this.canUseNative(e)?s=new vn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ge.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,r).catch(c=>{if(c instanceof yn&&Di(c))return this.nativeExtensionProvider=void 0,this.createRedirectClient(t).acquireToken(e);if(c instanceof mt)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),c}):s=this.createRedirectClient(t).acquireToken(e),yield s}catch(s){throw r.end({success:!1},s),o?this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_FAILURE,R.Redirect,null,s):this.eventHandler.emitEvent(k.LOGIN_FAILURE,R.Redirect,null,s),s}})}acquireTokenPopup(e){let t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(h.AcquireTokenPopup,t);r.add({scenarioId:e.scenarioId,accountType:Jn(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),cf(this.initialized,r),this.browserStorage.setInteractionInProgress(!0)}catch(s){return Promise.reject(s)}let i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_START,R.Popup,e):this.eventHandler.emitEvent(k.LOGIN_START,R.Popup,e);let o;return this.canUseNative(e)?o=this.acquireTokenNative(A(m({},e),{correlationId:t}),ge.acquireTokenPopup).then(s=>(this.browserStorage.setInteractionInProgress(!1),r.end({success:!0,isNativeBroker:!0,requestId:s.requestId,accountType:Jn(s.account)}),s)).catch(s=>{if(s instanceof yn&&Di(s))return this.nativeExtensionProvider=void 0,this.createPopupClient(t).acquireToken(e);if(s instanceof mt)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),s}):o=this.createPopupClient(t).acquireToken(e),o.then(s=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(k.LOGIN_SUCCESS,R.Popup,s):this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_SUCCESS,R.Popup,s),r.end({success:!0,requestId:s.requestId,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Jn(s.account)}),s)).catch(s=>(i.length>0?this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_FAILURE,R.Popup,null,s):this.eventHandler.emitEvent(k.LOGIN_FAILURE,R.Popup,null,s),r.end({success:!1},s),Promise.reject(s)))}trackPageVisibilityWithMeasurement(){let e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}ssoSilent(e){return g(this,null,function*(){let t=this.getRequestCorrelationId(e),r=A(m({},e),{prompt:e.prompt,correlationId:t});this.ssoSilentMeasurement=this.performanceClient.startMeasurement(h.SsoSilent,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:Jn(e.account)}),cf(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(k.SSO_SILENT_START,R.Silent,r);let i;return this.canUseNative(r)?i=this.acquireTokenNative(r,ge.ssoSilent).catch(o=>{if(o instanceof yn&&Di(o))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw o}):i=this.createSilentIframeClient(r.correlationId).acquireToken(r),i.then(o=>(this.eventHandler.emitEvent(k.SSO_SILENT_SUCCESS,R.Silent,o),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:o.fromNativeBroker,requestId:o.requestId,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length,accountType:Jn(o.account)}),o)).catch(o=>{throw this.eventHandler.emitEvent(k.SSO_SILENT_FAILURE,R.Silent,null,o),this.ssoSilentMeasurement?.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})})}acquireTokenByCode(e){return g(this,null,function*(){let t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);let r=this.performanceClient.startMeasurement(h.AcquireTokenByCode,t);cf(this.initialized,r),this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_BY_CODE_START,R.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw S(_a);if(e.code){let i=e.code,o=this.hybridAuthCodeResponses.get(i);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync(A(m({},e),{correlationId:t})).then(s=>(this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_BY_CODE_SUCCESS,R.Silent,s),this.hybridAuthCodeResponses.delete(i),r.end({success:!0,isNativeBroker:s.fromNativeBroker,requestId:s.requestId,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Jn(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_BY_CODE_FAILURE,R.Silent,null,s),r.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(i,o)),yield o}else if(e.nativeAccountId)if(this.canUseNative(e,e.nativeAccountId)){let i=yield this.acquireTokenNative(A(m({},e),{correlationId:t}),ge.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof yn&&Di(o)&&(this.nativeExtensionProvider=void 0),o});return r.end({accountType:Jn(i.account),success:!0}),i}else throw S(ba);else throw S(Aa)}catch(i){throw this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_BY_CODE_FAILURE,R.Silent,null,i),r.end({success:!1},i),i}})}acquireTokenByCodeAsync(e){return g(this,null,function*(){return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(h.AcquireTokenByCodeAsync,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),yield this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(i=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:i.fromCache,isNativeBroker:i.fromNativeBroker,requestId:i.requestId}),i)).catch(i=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},i),i}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})})}acquireTokenFromCache(e,t){return g(this,null,function*(){switch(this.performanceClient.addQueueMeasurement(h.AcquireTokenFromCache,e.correlationId),t){case Rt.Default:case Rt.AccessToken:case Rt.AccessTokenAndRefreshToken:let r=this.createSilentCacheClient(e.correlationId);return E(r.acquireToken.bind(r),h.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw C(it.tokenRefreshRequired)}})}acquireTokenByRefreshToken(e,t){return g(this,null,function*(){switch(this.performanceClient.addQueueMeasurement(h.AcquireTokenByRefreshToken,e.correlationId),t){case Rt.Default:case Rt.AccessTokenAndRefreshToken:case Rt.RefreshToken:case Rt.RefreshTokenAndNetwork:let r=this.createSilentRefreshClient(e.correlationId);return E(r.acquireToken.bind(r),h.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw C(it.tokenRefreshRequired)}})}acquireTokenBySilentIframe(e){return g(this,null,function*(){this.performanceClient.addQueueMeasurement(h.AcquireTokenBySilentIframe,e.correlationId);let t=this.createSilentIframeClient(e.correlationId);return E(t.acquireToken.bind(t),h.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)})}logout(e){return g(this,null,function*(){let t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect(m({correlationId:t},e))})}logoutRedirect(e){return g(this,null,function*(){let t=this.getRequestCorrelationId(e);return jh(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(t).logout(e)})}logoutPopup(e){try{let t=this.getRequestCorrelationId(e);return Fl(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}clearCache(e){return g(this,null,function*(){let t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)})}getAllAccounts(e){return LS(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return FS(e,this.logger,this.browserStorage)}getAccountByUsername(e){return US(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return BS(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return VS(e,this.logger,this.browserStorage)}setActiveAccount(e){HS(e,this.browserStorage)}getActiveAccount(){return jS(this.browserStorage)}hydrateCache(e,t){return g(this,null,function*(){this.logger.verbose("hydrateCache called");let r=Oe.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(r),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)})}acquireTokenNative(e,t,r){return g(this,null,function*(){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw S(mn);return new vn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)})}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!on.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Fe.NONE:case Fe.CONSENT:case Fe.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!t&&!this.getNativeAccountId(e)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){let t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new ef(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new tf(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new nf(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ge.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new Ba(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new rf(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new af(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ge.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e){return this.eventHandler.addEventCallback(e)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.eventHandler.enableAccountStorageEvents()}disableAccountStorageEvents(){this.eventHandler.disableAccountStorageEvents()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getEventHandler(){return this.eventHandler}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?lt():y.EMPTY_STRING}loginRedirect(e){return g(this,null,function*(){let t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect(m({correlationId:t},e||tv))})}loginPopup(e){let t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup(m({correlationId:t},e||tv))}acquireTokenSilent(e){return g(this,null,function*(){let t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(h.AcquireTokenSilent,t);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),cf(this.initialized,r),this.logger.verbose("acquireTokenSilent called",t);let i=e.account||this.getActiveAccount();if(!i)throw S(va);r.add({accountType:Jn(i)});let o={clientId:this.config.auth.clientId,authority:e.authority||y.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:i.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},s=JSON.stringify(o),a=this.activeSilentTokenRequests.get(s);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);let c=E(this.acquireTokenSilentAsync.bind(this),h.AcquireTokenSilentAsync,this.logger,this.performanceClient,t)(A(m({},e),{correlationId:t}),i).then(l=>(this.activeSilentTokenRequests.delete(s),r.end({success:!0,fromCache:l.fromCache,isNativeBroker:l.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:l.requestId,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length}),l)).catch(l=>{throw this.activeSilentTokenRequests.delete(s),r.end({success:!1},l),l});return this.activeSilentTokenRequests.set(s,c),A(m({},yield c),{state:e.state})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),r.discard(),A(m({},yield a),{state:e.state})})}acquireTokenSilentAsync(e,t){return g(this,null,function*(){let r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(h.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_START,R.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);let i=yield E(GS,h.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||Rt.Default;return this.acquireTokenSilentNoIframe(i,o).catch(a=>g(this,null,function*(){if(Zx(a,o))if(this.activeIframeRequest)if(o!==Rt.Skip){let[l,u]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${u}`,i.correlationId);let d=this.performanceClient.startMeasurement(h.AwaitConcurrentIframe,i.correlationId);d.add({awaitIframeCorrelationId:u});let f=yield l;if(d.end({success:f}),f)return this.logger.verbose(`Parallel iframe request with correlationId: ${u} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,o);throw this.logger.info(`Iframe request with correlationId: ${u} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),E(this.acquireTokenBySilentIframe.bind(this),h.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let l;return this.activeIframeRequest=[new Promise(u=>{l=u}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),E(this.acquireTokenBySilentIframe.bind(this),h.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(u=>(l(!0),u)).catch(u=>{throw l(!1),u}).finally(()=>{this.activeIframeRequest=void 0})}else throw a})).then(a=>(this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_SUCCESS,R.Silent,a),e.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker,requestId:a.requestId},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_FAILURE,R.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",r)})})}acquireTokenSilentNoIframe(e,t){return g(this,null,function*(){return on.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,ge.acquireTokenSilent_silentFlow).catch(r=>g(this,null,function*(){throw r instanceof yn&&Di(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,C(it.tokenRefreshRequired)):r}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),E(this.acquireTokenFromCache.bind(this),h.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,t).catch(r=>{if(t===Rt.AccessToken)throw r;return this.eventHandler.emitEvent(k.ACQUIRE_TOKEN_NETWORK_START,R.Silent,e),E(this.acquireTokenByRefreshToken.bind(this),h.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,t)}))})}};function Zx(n,e){let t=!(n instanceof mt&&n.subError!==Dr.badToken),r=n.errorCode===qe.INVALID_GRANT_ERROR||n.errorCode===it.tokenRefreshRequired,i=t&&r||n.errorCode===Dr.noTokensFound||n.errorCode===Dr.refreshTokenExpired,o=pS.includes(e);return i&&o}function nA(n,e){return g(this,null,function*(){let t=new Wh(n);return yield t.initialize(),Va.createController(t,e)})}var Gl=class n{static createPublicClientApplication(e){return g(this,null,function*(){let t=yield nA(e);return new n(e,t)})}constructor(e,t){this.controller=t||new Va(new Wh(e))}initialize(e){return g(this,null,function*(){return this.controller.initialize(e)})}acquireTokenPopup(e){return g(this,null,function*(){return this.controller.acquireTokenPopup(e)})}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e){return this.controller.addEventCallback(e)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}hydrateCache(e,t){return g(this,null,function*(){return this.controller.hydrateCache(e,t)})}clearCache(e){return this.controller.clearCache(e)}};var zl=class{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case k.LOGIN_START:return ct.Login;case k.SSO_SILENT_START:return ct.SsoSilent;case k.ACQUIRE_TOKEN_START:if(e.interactionType===R.Redirect||e.interactionType===R.Popup)return ct.AcquireToken;break;case k.HANDLE_REDIRECT_START:return ct.HandleRedirect;case k.LOGOUT_START:return ct.Logout;case k.SSO_SILENT_SUCCESS:case k.SSO_SILENT_FAILURE:if(t&&t!==ct.SsoSilent)break;return ct.None;case k.LOGOUT_END:if(t&&t!==ct.Logout)break;return ct.None;case k.HANDLE_REDIRECT_END:if(t&&t!==ct.HandleRedirect)break;return ct.None;case k.LOGIN_SUCCESS:case k.LOGIN_FAILURE:case k.ACQUIRE_TOKEN_SUCCESS:case k.ACQUIRE_TOKEN_FAILURE:case k.RESTORE_FROM_BFCACHE:if(e.interactionType===R.Redirect||e.interactionType===R.Popup){if(t&&t!==ct.Login&&t!==ct.AcquireToken)break;return ct.None}break}return null}};var rA="@azure/msal-angular",dv="3.0.23",ql=new x("MSAL_INSTANCE"),lf=new x("MSAL_GUARD_CONFIG"),Jx=new x("MSAL_INTERCEPTOR_CONFIG"),Xx=new x("MSAL_BROADCAST_CONFIG"),Qo=(()=>{class n{constructor(t,r){this.instance=t,this.location=r;let i=this.location.path(!0).split("#").pop();i&&(this.redirectHash=`#${i}`),this.instance.initializeWrapperLibrary(rv.Angular,dv)}initialize(){return ue(this.instance.initialize())}acquireTokenPopup(t){return ue(this.instance.acquireTokenPopup(t))}acquireTokenRedirect(t){return ue(this.instance.acquireTokenRedirect(t))}acquireTokenSilent(t){return ue(this.instance.acquireTokenSilent(t))}handleRedirectObservable(t){return ue(this.instance.initialize().then(()=>this.instance.handleRedirectPromise(t||this.redirectHash)))}loginPopup(t){return ue(this.instance.loginPopup(t))}loginRedirect(t){return ue(this.instance.loginRedirect(t))}logout(t){return ue(this.instance.logout(t))}logoutRedirect(t){return ue(this.instance.logoutRedirect(t))}logoutPopup(t){return ue(this.instance.logoutPopup(t))}ssoSilent(t){return ue(this.instance.ssoSilent(t))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(rA,dv)),this.logger}setLogger(t){this.logger=t.clone(rA,dv),this.instance.setLogger(t)}}return n.\u0275fac=function(t){return new(t||n)(L(ql),L(Zr))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),uf=(()=>{class n{constructor(t,r,i){this.msalInstance=t,this.authService=r,this.msalBroadcastConfig=i,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.authService.getLogger().verbose(`BroadcastService - eventsToReplay set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new Xa(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new Be,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new Je(ct.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(o=>{this._msalSubject.next(o);let s=zl.getInteractionStatusFromEvent(o,this._inProgress.value);s!==null&&(this.authService.getLogger().verbose(`BroadcastService - ${o.eventType} results in setting inProgress from ${this._inProgress.value} to ${s}`),this._inProgress.next(s))})}}return n.\u0275fac=function(t){return new(t||n)(L(ql),L(Qo),L(Xx,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),hv=(()=>{class n{constructor(t,r,i,o,s){this.msalGuardConfig=t,this.msalBroadcastService=r,this.authService=i,this.location=o,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(t){return this.router.parseUrl(t)}getDestinationUrl(t){this.authService.getLogger().verbose("Guard - getting destination url");let r=document.getElementsByTagName("base"),i=this.location.normalize(r.length?r[0].href:window.location.origin),o=this.location.prepareExternalUrl(t);return o.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${i}/${o}`):`${i}${t}`}loginInteractively(t){let r=typeof this.msalGuardConfig.authRequest=="function"?this.msalGuardConfig.authRequest(this.authService,t):m({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===R.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe($(o=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(o.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");let i=this.getDestinationUrl(t.url);return this.authService.loginRedirect(m({redirectStartPage:i},r)).pipe($(()=>!1))}activateHelper(t){if(this.msalGuardConfig.interactionType!==R.Popup&&this.msalGuardConfig.interactionType!==R.Redirect)throw new La("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),typeof window<"u"){if(q.hashContainsKnownProperties(window.location.hash)&&$h.isInIframe()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),F(!1)}else return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),F(!0);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));let r=this.location.path(!0);return this.authService.initialize().pipe(In(()=>this.authService.handleRedirectObservable()),In(()=>{if(!this.authService.instance.getAllAccounts().length)return t?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(t)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),F(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),t){let i=this.includesCode(t.url),o=!!t.root&&!!t.root.fragment&&this.includesCode(`#${t.root.fragment}`),s=this.location.prepareExternalUrl(t.url).indexOf("#")===0;if(i&&(o||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?F(this.parseUrl(this.location.path())):F(this.parseUrl(""))}return F(!0)}),On(i=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${i.message}`),this.loginFailedRoute&&t?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),F(this.loginFailedRoute)):F(!1))))}includesCode(t){return t.lastIndexOf("/code")>-1&&t.lastIndexOf("/code")===t.length-5||t.indexOf("#code=")>-1||t.indexOf("&code=")>-1}canActivate(t,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(t,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canMatch(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return n.\u0275fac=function(t){return new(t||n)(L(lf),L(uf),L(Qo),L(Zr),L(rh))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();var iA=(()=>{class n{static forRoot(t,r,i){return{ngModule:n,providers:[{provide:ql,useValue:t},{provide:lf,useValue:r},{provide:Jx,useValue:i},Qo]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Pe({providers:[hv,uf],imports:[_n]}),n})();var Zo=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),i=Array.isArray(t),o,s,a;if(r&&i){if(s=e.length,s!=t.length)return!1;for(o=s;o--!==0;)if(!this.equalsByValue(e[o],t[o]))return!1;return!0}if(r!=i)return!1;var c=this.isDate(e),l=this.isDate(t);if(c!=l)return!1;if(c&&l)return e.getTime()==t.getTime();var u=e instanceof RegExp,d=t instanceof RegExp;if(u!=d)return!1;if(u&&d)return e.toString()==t.toString();var f=Object.keys(e);if(s=f.length,s!==Object.keys(t).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,f[o]))return!1;for(o=s;o--!==0;)if(a=f[o],!this.equalsByValue(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let r=t.split("."),i=e;for(let o=0,s=r.length;o<s;++o){if(i==null)return null;i=i[r[o]]}return i}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){let i;e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let o=!1;for(let s=0;s<r.length;s++)if(this.findIndexInList(r[s],i)>t){r.splice(s,0,e),o=!0;break}o||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t){for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}}return r}static contains(e,t){if(e!=null&&t&&t.length){for(let r of t)if(this.equals(e,r))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,i=1){let o=-1,s=this.isEmpty(e),a=this.isEmpty(t);return s&&a?o=0:s?o=i:a?o=-i:typeof e=="string"&&typeof t=="string"?o=e.localeCompare(t,r,{numeric:!0}):o=e<t?-1:e>t?1:0,o}static sort(e,t,r=1,i,o=1){let s=n.compare(e,t,i,r),a=r;return(n.isEmpty(e)||n.isEmpty(t))&&(a=o===1?r:o),a*s}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return m(m({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}static findLast(e,t){let r;if(this.isNotEmpty(e))try{r=e.findLast(t)}catch{r=[...e].reverse().find(t)}return r}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),i=Array.isArray(t),o,s,a;if(r&&i){if(s=e.length,s!=t.length)return!1;for(o=s;o--!==0;)if(!this.deepEquals(e[o],t[o]))return!1;return!0}if(r!=i)return!1;var c=e instanceof Date,l=t instanceof Date;if(c!=l)return!1;if(c&&l)return e.getTime()==t.getTime();var u=e instanceof RegExp,d=t instanceof RegExp;if(u!=d)return!1;if(u&&d)return e.toString()==t.toString();var f=Object.keys(e);if(s=f.length,s!==Object.keys(t).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,f[o]))return!1;for(o=s;o--!==0;)if(a=f[o],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}},oA=0;function Ha(n="pn_id_"){return oA++,`${n}${oA}`}function eP(){let n=[],e=(o,s)=>{let a=n.length>0?n[n.length-1]:{key:o,value:s},c=a.value+(a.key===o?0:s)+2;return n.push({key:o,value:c}),c},t=o=>{n=n.filter(s=>s.value!==o)},r=()=>n.length>0?n[n.length-1].value:0,i=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:i,set:(o,s,a)=>{s&&(s.style.zIndex=String(e(o,a)))},clear:o=>{o&&(t(i(o)),o.style.zIndex="")},getCurrent:()=>r()}}var df=eP();var It=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})();var sA=(()=>{class n{clickSource=new Be;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ja=(()=>{class n{ripple=!1;inputStyle=Qr("outlined");overlayOptions={};csp=Qr({nonce:void 0});filterMatchModeOptions={text:[It.STARTS_WITH,It.CONTAINS,It.NOT_CONTAINS,It.ENDS_WITH,It.EQUALS,It.NOT_EQUALS],numeric:[It.EQUALS,It.NOT_EQUALS,It.LESS_THAN,It.LESS_THAN_OR_EQUAL_TO,It.GREATER_THAN,It.GREATER_THAN_OR_EQUAL_TO],date:[It.DATE_IS,It.DATE_IS_NOT,It.DATE_BEFORE,It.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Be;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=m(m({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ri=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(D(Gr))};static \u0275dir=Ae({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return n})(),Jo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Pe({})}return n})(),Wl=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var W=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let o=0;o<i.length;o++)t.classList.add(i[o])}else{let i=r.split(" ");for(let o=0;o<i.length;o++)t.className+=" "+i[o]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(o=>this.removeClass(t,o)))}static hasClass(t,r){return t&&r?t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var o=0;o<r.length;o++){if(r[o]==t)return i;r[o].nodeType==1&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],o=0;for(var s=0;s<i.length;s++){if(i[s]==t)return o;i[s].attributes&&i[s].attributes[r]&&i[s].nodeType==1&&o++}return-1}static appendOverlay(t,r,i="self"){i!=="self"&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",o=!0){t&&r&&(o&&(t.style.minWidth=`${n.getOuterWidth(r)}px`),i==="self"?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r,i=!0){let o=ae=>{if(ae)return getComputedStyle(ae).getPropertyValue("position")==="relative"?ae:o(ae.parentElement)},s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=r.offsetHeight??r.getBoundingClientRect().height,c=r.getBoundingClientRect(),l=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),d=this.getViewport(),p=o(t)?.getBoundingClientRect()||{top:-1*l,left:-1*u},v,I;c.top+a+s.height>d.height?(v=c.top-p.top-s.height,t.style.transformOrigin="bottom",c.top+v<0&&(v=-1*c.top)):(v=a+c.top-p.top,t.style.transformOrigin="top");let _=c.left+s.width-d.width,M=c.left-p.left;s.width>d.width?I=(c.left-p.left)*-1:_>0?I=M-_:I=c.left-p.left,t.style.top=v+"px",t.style.left=I+"px",i&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,r,i=!0){let o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=o.height,a=o.width,c=r.offsetHeight??r.getBoundingClientRect().height,l=r.offsetWidth??r.getBoundingClientRect().width,u=r.getBoundingClientRect(),d=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),p=this.getViewport(),v,I;u.top+c+s>p.height?(v=u.top+d-s,t.style.transformOrigin="bottom",v<0&&(v=d)):(v=c+u.top+d,t.style.transformOrigin="top"),u.left+a>p.width?I=Math.max(0,u.left+f+l-a):I=u.left+f,t.style.top=v+"px",t.style.left=I+"px",i&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,r=[]){return t.parentNode===null?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t),o=/(auto|scroll)/,s=a=>{let c=window.getComputedStyle(a,null);return o.test(c.getPropertyValue("overflow"))||o.test(c.getPropertyValue("overflowX"))||o.test(c.getPropertyValue("overflowY"))};for(let a of i){let c=a.nodeType===1&&a.dataset.scrollselectors;if(c){let l=c.split(",");for(let u of l){let d=this.findSingle(a,u);d&&s(d)&&r.push(d)}}a.nodeType!==9&&s(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=i?parseFloat(i):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,c=t.getBoundingClientRect(),u=r.getBoundingClientRect().top+document.body.scrollTop-(c.top+document.body.scrollTop)-o-a,d=t.scrollTop,f=t.clientHeight,p=this.getOuterHeight(r);u<0?t.scrollTop=d+u:u+p>f&&(t.scrollTop=d+u-f+p)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,o=0,s=function(){o=+t.style.opacity.replace(",",".")+(new Date().getTime()-i)/r,t.style.opacity=o,i=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(t,r){var i=1,o=50,s=r,a=o/s;let c=setInterval(()=>{i=i-a,i<=0&&(i=0,clearInterval(c)),t.style.opacity=i},o)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype,o=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return o.call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let o=getComputedStyle(t);i+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let o=getComputedStyle(t);i+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,o=r.getElementsByTagName("body")[0],s=t.innerWidth||i.clientWidth||o.clientWidth,a=t.innerHeight||i.clientHeight||o.clientHeight;return{width:s,height:a}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,r=t.indexOf("MSIE ");if(r>0)return!0;var i=t.indexOf("Trident/");if(i>0){var o=t.indexOf("rv:");return!0}var s=t.indexOf("Edge/");return s>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else if(r&&r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(t);else throw"Cannot append "+r+" to "+t}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+r}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,r=""){let i=this.find(t,this.getFocusableSelectorString(r)),o=[];for(let s of i){let a=getComputedStyle(s);this.isVisible(s)&&a.display!="none"&&a.visibility!="hidden"&&o.push(s)}return o}static getFocusableElement(t,r=""){let i=this.findSingle(t,this.getFocusableSelectorString(r));if(i){let o=getComputedStyle(i);if(this.isVisible(i)&&o.display!="none"&&o.visibility!="hidden")return i}return null}static getFirstFocusableElement(t,r=""){let i=this.getFocusableElements(t,r);return i.length>0?i[0]:null}static getLastFocusableElement(t,r){let i=this.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(t,r=!1){let i=n.getFocusableElements(t),o=0;if(i&&i.length>0){let s=i.indexOf(i[0].ownerDocument.activeElement);r?s==-1||s===0?o=i.length-1:o=s-1:s!=-1&&s!==i.length-1&&(o=s+1)}return i[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:let i=typeof t;if(i==="string")return document.querySelector(t);if(i==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let s=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return s&&s.nodeType===9||this.isExist(s)?s:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){let i=t.getAttribute(r);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,r={},...i){if(t){let o=document.createElement(t);return this.setAttributes(o,r),o.append(...i),o}}static setAttribute(t,r="",i){this.isElement(t)&&i!==null&&i!==void 0&&t.setAttribute(r,i)}static setAttributes(t,r={}){if(this.isElement(t)){let i=(o,s)=>{let a=t?.$attrs?.[o]?[t?.$attrs?.[o]]:[];return[s].flat().reduce((c,l)=>{if(l!=null){let u=typeof l;if(u==="string"||u==="number")c.push(l);else if(u==="object"){let d=Array.isArray(l)?i(o,l):Object.entries(l).map(([f,p])=>o==="style"&&(p||p===0)?`${f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${p}`:p?f:void 0);c=d.length?c.concat(d.filter(f=>!!f)):c}}return c},a)};Object.entries(r).forEach(([o,s])=>{if(s!=null){let a=o.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),s):o==="pBind"?this.setAttributes(t,s):(s=o==="class"?[...new Set(i("class",s))].join(" ").trim():o==="style"?i("style",s).join(";").trim():s,(t.$attrs=t.$attrs||{})&&(t.$attrs[o]=s),t.setAttribute(o,s))}})}}static isFocusableElement(t,r=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`):!1}}return n})(),hf=class{element;listener;scrollableParents;constructor(e,t=()=>{}){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=W.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var ff=(()=>{class n{autofocus=!1;focused=!1;platformId=w(vt);document=w(xe);host=w(Ne);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){fr(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=W.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ae({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",Se]},standalone:!0,features:[Yt]})}return n})(),aA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Pe({})}return n})();var nP=["*"],Ni=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let t=Zo.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=z({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",Se],styleClass:"styleClass"},standalone:!0,features:[Yt,oe],ngContentSelectors:nP,decls:1,vars:0,template:function(r,i){r&1&&(cr(),lr(0))},encapsulation:2,changeDetection:0})}return n})();var cA=(()=>{class n extends Ni{pathId;ngOnInit(){this.pathId="url(#"+Ha()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Kt(n)))(i||n)}})();static \u0275cmp=z({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[ht,oe],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(Wr(),N(0,"svg",0)(1,"g"),Te(2,"path",1),b(),N(3,"defs")(4,"clipPath",2),Te(5,"rect",3),b()()()),r&2&&(ft(i.getClassNames()),Q("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),T(),Q("clip-path",i.pathId),T(3),O("id",i.pathId))},encapsulation:2})}return n})();var lA=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,r,i,o,s,a){this.document=t,this.platformId=r,this.renderer=i,this.el=o,this.zone=s,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){fr(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let r=this.getInk();if(!r||this.document.defaultView?.getComputedStyle(r,null).display==="none")return;if(W.removeClass(r,"p-ink-active"),!W.getHeight(r)&&!W.getWidth(r)){let a=Math.max(W.getOuterWidth(this.el.nativeElement),W.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=W.getOffset(this.el.nativeElement),o=t.pageX-i.left+this.document.body.scrollTop-W.getWidth(r)/2,s=t.pageY-i.top+this.document.body.scrollLeft-W.getHeight(r)/2;this.renderer.setStyle(r,"top",s+"px"),this.renderer.setStyle(r,"left",o+"px"),W.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&W.removeClass(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if(typeof t[r].className=="string"&&t[r].className.indexOf("p-ink")!==-1)return t[r];return null}resetInk(){let t=this.getInk();t&&W.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),W.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,W.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(r){return new(r||n)(D(xe),D(vt),D(Vt),D(Ne),D(Me),D(ja,8))};static \u0275dir=Ae({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})();var rP=["*"],uA=n=>({class:n});function iP(n,e){n&1&&Qt(0)}function oP(n,e){if(n&1&&Te(0,"span",8),n&2){let t=te(3);O("ngClass",t.iconClass()),Q("aria-hidden",!0)("data-pc-section","loadingicon")}}function sP(n,e){if(n&1&&Te(0,"SpinnerIcon",9),n&2){let t=te(3);O("styleClass",t.spinnerIconClass())("spin",!0),Q("aria-hidden",!0)("data-pc-section","loadingicon")}}function aP(n,e){if(n&1&&(dn(0),fe(1,oP,1,3,"span",6)(2,sP,1,4,"SpinnerIcon",7),hn()),n&2){let t=te(2);T(),O("ngIf",t.loadingIcon),T(),O("ngIf",!t.loadingIcon)}}function cP(n,e){}function lP(n,e){if(n&1&&fe(0,cP,0,0,"ng-template",10),n&2){let t=te(2);O("ngIf",t.loadingIconTemplate)}}function uP(n,e){if(n&1&&(dn(0),fe(1,aP,3,2,"ng-container",2)(2,lP,1,1,null,5),hn()),n&2){let t=te();T(),O("ngIf",!t.loadingIconTemplate),T(),O("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",Os(3,uA,t.iconClass()))}}function dP(n,e){if(n&1&&Te(0,"span",8),n&2){let t=te(2);O("ngClass",t.iconClass()),Q("data-pc-section","icon")}}function hP(n,e){}function fP(n,e){if(n&1&&fe(0,hP,0,0,"ng-template",10),n&2){let t=te(2);O("ngIf",!t.icon&&t.iconTemplate)}}function pP(n,e){if(n&1&&(dn(0),fe(1,dP,1,2,"span",6)(2,fP,1,1,null,5),hn()),n&2){let t=te();T(),O("ngIf",t.icon&&!t.iconTemplate),T(),O("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",Os(3,uA,t.iconClass()))}}function gP(n,e){if(n&1&&(N(0,"span",11),ye(1),b()),n&2){let t=te();Q("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),T(),ks(t.label)}}function mP(n,e){if(n&1&&(N(0,"span",8),ye(1),b()),n&2){let t=te();ft(t.badgeClass),O("ngClass",t.badgeStyleClass()),Q("data-pc-section","badge"),T(),ks(t.badge)}}var ki={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},$a=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(ki);constructor(t,r){this.el=t,this.document=r}ngAfterViewInit(){W.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let t=[ki.button,ki.component];return this.icon&&!this.label&&Zo.isEmpty(this.htmlElement.textContent)&&t.push(ki.iconOnly),this.loading&&(t.push(ki.disabled,ki.loading),!this.icon&&this.label&&t.push(ki.labelOnly),this.icon&&!this.label&&!Zo.isEmpty(this.htmlElement.textContent)&&t.push(ki.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),this.size==="small"&&t.push("p-button-sm"),this.size==="large"&&t.push("p-button-lg"),t}setStyleClass(){let t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!W.findSingle(this.htmlElement,".p-button-label")&&this.label){let r=this.document.createElement("span");this.icon&&!this.label&&r.setAttribute("aria-hidden","true"),r.className="p-button-label",r.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(r)}}createIcon(){if(!W.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let r=this.document.createElement("span");r.className="p-button-icon",r.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&W.addClass(r,i);let o=this.getIconClass();o&&W.addMultipleClasses(r,o),this.htmlElement.insertBefore(r,this.htmlElement.firstChild)}}updateLabel(){let t=W.findSingle(this.htmlElement,".p-button-label");if(!this.label){t&&this.htmlElement.removeChild(t);return}t?t.textContent=this.label:this.createLabel()}updateIcon(){let t=W.findSingle(this.htmlElement,".p-button-icon"),r=W.findSingle(this.htmlElement,".p-button-label");t?this.iconPos?t.className="p-button-icon "+(r?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():t.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(r){return new(r||n)(D(Ne),D(xe))};static \u0275dir=Ae({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",Se],rounded:[2,"rounded","rounded",Se],text:[2,"text","text",Se],outlined:[2,"outlined","outlined",Se],size:"size",plain:[2,"plain","plain",Se]},standalone:!0,features:[Yt]})}return n})(),yP=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new ve;onFocus=new ve;onBlur=new ve;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[r])=>t+` ${r}`,"p-button-loading-icon")}iconClass(){let t={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(r){return new(r||n)(D(Ne))};static \u0275cmp=z({type:n,selectors:[["p-button"]],contentQueries:function(r,i,o){if(r&1&&ur(o,Ri,4),r&2){let s;Ht(s=jt())&&(i.templates=s)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(r,i){r&2&&Hn("p-disabled",i.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",Se],loading:[2,"loading","loading",Se],loadingIcon:"loadingIcon",raised:[2,"raised","raised",Se],rounded:[2,"rounded","rounded",Se],text:[2,"text","text",Se],plain:[2,"plain","plain",Se],severity:"severity",outlined:[2,"outlined","outlined",Se],link:[2,"link","link",Se],tabindex:[2,"tabindex","tabindex",io],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",Se]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[Yt,oe],ngContentSelectors:rP,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(r,i){r&1&&(cr(),N(0,"button",0),Ce("click",function(s){return i.onClick.emit(s)})("focus",function(s){return i.onFocus.emit(s)})("blur",function(s){return i.onBlur.emit(s)}),lr(1),fe(2,iP,1,0,"ng-container",1)(3,uP,3,5,"ng-container",2)(4,pP,3,5,"ng-container",2)(5,gP,2,3,"span",3)(6,mP,2,5,"span",4),b()),r&2&&(O("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",i.buttonClass)("autofocus",i.autofocus),Q("type",i.type)("aria-label",i.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",i.tabindex),T(2),O("ngTemplateOutlet",i.contentTemplate),T(),O("ngIf",i.loading),T(),O("ngIf",!i.loading),T(),O("ngIf",!i.contentTemplate&&i.label),T(),O("ngIf",!i.contentTemplate&&i.badge))},dependencies:[Ps,ei,Xr,Jr,lA,ff,cA],encapsulation:2,changeDetection:0})}return n})(),Ga=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Pe({imports:[yP,Jo]})}return n})();var vP=["*"];function CP(n,e){n&1&&Qt(0)}function EP(n,e){if(n&1&&(N(0,"div",4),fe(1,CP,1,0,"ng-container",5),b()),n&2){let t=te();Q("data-pc-section","start"),T(),O("ngTemplateOutlet",t.startTemplate)}}function IP(n,e){n&1&&Qt(0)}function wP(n,e){if(n&1&&(N(0,"div",6),fe(1,IP,1,0,"ng-container",5),b()),n&2){let t=te();Q("data-pc-section","center"),T(),O("ngTemplateOutlet",t.centerTemplate)}}function TP(n,e){n&1&&Qt(0)}function SP(n,e){if(n&1&&(N(0,"div",7),fe(1,TP,1,0,"ng-container",5),b()),n&2){let t=te();Q("data-pc-section","end"),T(),O("ngTemplateOutlet",t.endTemplate)}}var dA=(()=>{class n{el;style;styleClass;ariaLabelledBy;templates;startTemplate;endTemplate;centerTemplate;constructor(t){this.el=t}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"start":case"left":this.startTemplate=t.template;break;case"end":case"right":this.endTemplate=t.template;break;case"center":this.centerTemplate=t.template;break}})}static \u0275fac=function(r){return new(r||n)(D(Ne))};static \u0275cmp=z({type:n,selectors:[["p-toolbar"]],contentQueries:function(r,i,o){if(r&1&&ur(o,Ri,4),r&2){let s;Ht(s=jt())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},ngContentSelectors:vP,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(r,i){r&1&&(cr(),N(0,"div",0),lr(1),fe(2,EP,2,2,"div",1)(3,wP,2,2,"div",2)(4,SP,2,2,"div",3),b()),r&2&&(ft(i.styleClass),O("ngClass","p-toolbar p-component")("ngStyle",i.style),Q("aria-labelledby",i.ariaLabelledBy)("data-pc-name","toolbar"),T(2),O("ngIf",i.startTemplate),T(),O("ngIf",i.centerTemplate),T(),O("ngIf",i.endTemplate))},dependencies:[Jr,Ps,ei,Xr],styles:[`@layer primeng{.p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}}
`],encapsulation:2,changeDetection:0})}return n})(),hA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Pe({imports:[_n,Jo,Jo]})}return n})();var _P=["container"],bP=["content"],DP=["xBar"],MP=["yBar"],RP=["*"];function NP(n,e){n&1&&Qt(0)}var fA=(()=>{class n{platformId;el;zone;cd;document;renderer;style;styleClass;step=5;containerViewChild;contentViewChild;xBarViewChild;yBarViewChild;templates;scrollYRatio;scrollXRatio;timeoutFrame=t=>setTimeout(t,0);initialized=!1;lastPageY;lastPageX;isXBarClicked=!1;isYBarClicked=!1;contentTemplate;lastScrollLeft=0;lastScrollTop=0;orientation="vertical";timer;contentId;windowResizeListener;contentScrollListener;mouseEnterListener;xBarMouseDownListener;yBarMouseDownListener;documentMouseMoveListener;documentMouseUpListener;constructor(t,r,i,o,s,a){this.platformId=t,this.el=r,this.zone=i,this.cd=o,this.document=s,this.renderer=a,this.contentId=Ha()+"_content"}ngAfterViewInit(){fr(this.platformId)&&this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.windowResizeListener=this.renderer.listen(window,"resize",this.moveBar),this.contentScrollListener=this.renderer.listen(this.contentViewChild.nativeElement,"scroll",this.moveBar),this.mouseEnterListener=this.renderer.listen(this.contentViewChild.nativeElement,"mouseenter",this.moveBar),this.xBarMouseDownListener=this.renderer.listen(this.xBarViewChild.nativeElement,"mousedown",this.onXBarMouseDown),this.yBarMouseDownListener=this.renderer.listen(this.yBarViewChild.nativeElement,"mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}calculateContainerHeight(){let t=this.containerViewChild.nativeElement,r=this.contentViewChild.nativeElement,i=this.xBarViewChild.nativeElement,o=this.document.defaultView,s=o.getComputedStyle(t),a=o.getComputedStyle(i),c=W.getHeight(t)-parseInt(a.height,10);s["max-height"]!="none"&&c==0&&(r.offsetHeight+parseInt(a.height,10)>parseInt(s["max-height"],10)?t.style.height=s["max-height"]:t.style.height=r.offsetHeight+parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth)+"px")}moveBar(){let t=this.containerViewChild.nativeElement,r=this.contentViewChild.nativeElement,i=this.xBarViewChild.nativeElement,o=r.scrollWidth,s=r.clientWidth,a=(t.clientHeight-i.clientHeight)*-1;this.scrollXRatio=s/o;let c=this.yBarViewChild.nativeElement,l=r.scrollHeight,u=r.clientHeight,d=(t.clientWidth-c.clientWidth)*-1;this.scrollYRatio=u/l,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)i.setAttribute("data-p-scrollpanel-hidden","true"),W.addClass(i,"p-scrollpanel-hidden");else{i.setAttribute("data-p-scrollpanel-hidden","false"),W.removeClass(i,"p-scrollpanel-hidden");let f=Math.max(this.scrollXRatio*100,10),p=r.scrollLeft*(100-f)/(o-s);i.style.cssText="width:"+f+"%; left:"+p+"%;bottom:"+a+"px;"}if(this.scrollYRatio>=1)c.setAttribute("data-p-scrollpanel-hidden","true"),W.addClass(c,"p-scrollpanel-hidden");else{c.setAttribute("data-p-scrollpanel-hidden","false"),W.removeClass(c,"p-scrollpanel-hidden");let f=Math.max(this.scrollYRatio*100,10),p=r.scrollTop*(100-f)/(l-u);c.style.cssText="height:"+f+"%; top: calc("+p+"% - "+i.clientHeight+"px);right:"+d+"px;"}}),this.cd.markForCheck()}onScroll(t){this.lastScrollLeft!==t.target.scrollLeft?(this.lastScrollLeft=t.target.scrollLeft,this.orientation="horizontal"):this.lastScrollTop!==t.target.scrollTop&&(this.lastScrollTop=t.target.scrollTop,this.orientation="vertical"),this.moveBar()}onKeyDown(t){if(this.orientation==="vertical")switch(t.code){case"ArrowDown":{this.setTimer("scrollTop",this.step),t.preventDefault();break}case"ArrowUp":{this.setTimer("scrollTop",this.step*-1),t.preventDefault();break}case"ArrowLeft":case"ArrowRight":{t.preventDefault();break}default:break}else if(this.orientation==="horizontal")switch(t.code){case"ArrowRight":{this.setTimer("scrollLeft",this.step),t.preventDefault();break}case"ArrowLeft":{this.setTimer("scrollLeft",this.step*-1),t.preventDefault();break}case"ArrowDown":case"ArrowUp":{t.preventDefault();break}default:break}}onKeyUp(){this.clearTimer()}repeat(t,r){this.contentViewChild.nativeElement[t]+=r,this.moveBar()}setTimer(t,r){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(t,r)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}bindDocumentMouseListeners(){this.documentMouseMoveListener||(this.documentMouseMoveListener=t=>{this.onDocumentMouseMove(t)},this.document.addEventListener("mousemove",this.documentMouseMoveListener)),this.documentMouseUpListener||(this.documentMouseUpListener=t=>{this.onDocumentMouseUp(t)},this.document.addEventListener("mouseup",this.documentMouseUpListener))}unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(this.document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)}onYBarMouseDown(t){this.isYBarClicked=!0,this.yBarViewChild.nativeElement.focus(),this.lastPageY=t.pageY,this.yBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","true"),W.addClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","true"),W.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),t.preventDefault()}onXBarMouseDown(t){this.isXBarClicked=!0,this.xBarViewChild.nativeElement.focus(),this.lastPageX=t.pageX,this.xBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),W.addClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),W.addClass(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),t.preventDefault()}onDocumentMouseMove(t){this.isXBarClicked?this.onMouseMoveForXBar(t):this.isYBarClicked?this.onMouseMoveForYBar(t):(this.onMouseMoveForXBar(t),this.onMouseMoveForYBar(t))}onMouseMoveForXBar(t){let r=t.pageX-this.lastPageX;this.lastPageX=t.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=r/this.scrollXRatio})}onMouseMoveForYBar(t){let r=t.pageY-this.lastPageY;this.lastPageY=t.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=r/this.scrollYRatio})}scrollTop(t){let r=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;t=t>r?r:t>0?t:0,this.contentViewChild.nativeElement.scrollTop=t}onFocus(t){this.xBarViewChild.nativeElement.isSameNode(t.target)?this.orientation="horizontal":this.yBarViewChild.nativeElement.isSameNode(t.target)&&(this.orientation="vertical")}onBlur(){this.orientation==="horizontal"&&(this.orientation="vertical")}onDocumentMouseUp(t){this.yBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),W.removeClass(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.xBarViewChild.nativeElement.setAttribute("data-p-scrollpanel-grabbed","false"),W.removeClass(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),W.removeClass(this.document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(t){(window.requestAnimationFrame||this.timeoutFrame)(t)}unbindListeners(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null),this.contentScrollListener&&(this.contentScrollListener(),this.contentScrollListener=null),this.mouseEnterListener&&(this.mouseEnterListener(),this.mouseEnterListener=null),this.xBarMouseDownListener&&(this.xBarMouseDownListener(),this.xBarMouseDownListener=null),this.yBarMouseDownListener&&(this.yBarMouseDownListener(),this.yBarMouseDownListener=null)}ngOnDestroy(){this.initialized&&this.unbindListeners()}refresh(){this.moveBar()}static \u0275fac=function(r){return new(r||n)(D(vt),D(Ne),D(Me),D(Jt),D(xe),D(Vt))};static \u0275cmp=z({type:n,selectors:[["p-scrollPanel"]],contentQueries:function(r,i,o){if(r&1&&ur(o,Ri,4),r&2){let s;Ht(s=jt())&&(i.templates=s)}},viewQuery:function(r,i){if(r&1&&(eo(_P,5),eo(bP,5),eo(DP,5),eo(MP,5)),r&2){let o;Ht(o=jt())&&(i.containerViewChild=o.first),Ht(o=jt())&&(i.contentViewChild=o.first),Ht(o=jt())&&(i.xBarViewChild=o.first),Ht(o=jt())&&(i.yBarViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",step:[2,"step","step",io]},features:[Yt],ngContentSelectors:RP,decls:11,vars:16,consts:[["container",""],["content",""],["xBar",""],["yBar",""],[3,"ngClass","ngStyle"],[1,"p-scrollpanel-wrapper"],[1,"p-scrollpanel-content",3,"mouseenter","scroll"],[4,"ngTemplateOutlet"],["tabindex","0","role","scrollbar",1,"p-scrollpanel-bar","p-scrollpanel-bar-x",3,"mousedown","keydown","keyup","focus","blur"],["tabindex","0","role","scrollbar",1,"p-scrollpanel-bar","p-scrollpanel-bar-y",3,"mousedown","keydown","keyup","focus"]],template:function(r,i){if(r&1){let o=Zt();cr(),N(0,"div",4,0)(2,"div",5)(3,"div",6,1),Ce("mouseenter",function(){return _e(o),be(i.moveBar())})("scroll",function(a){return _e(o),be(i.onScroll(a))}),lr(5),fe(6,NP,1,0,"ng-container",7),b()(),N(7,"div",8,2),Ce("mousedown",function(a){return _e(o),be(i.onXBarMouseDown(a))})("keydown",function(a){return _e(o),be(i.onKeyDown(a))})("keyup",function(){return _e(o),be(i.onKeyUp())})("focus",function(a){return _e(o),be(i.onFocus(a))})("blur",function(){return _e(o),be(i.onBlur())}),b(),N(9,"div",9,3),Ce("mousedown",function(a){return _e(o),be(i.onYBarMouseDown(a))})("keydown",function(a){return _e(o),be(i.onKeyDown(a))})("keyup",function(){return _e(o),be(i.onKeyUp())})("focus",function(a){return _e(o),be(i.onFocus(a))}),b()()}r&2&&(ft(i.styleClass),O("ngClass","p-scrollpanel p-component")("ngStyle",i.style),Q("data-pc-name","scrollpanel"),T(2),Q("data-pc-section","wrapper"),T(),Q("data-pc-section","content"),T(3),O("ngTemplateOutlet",i.contentTemplate),T(),Q("aria-orientation","horizontal")("aria-valuenow",i.lastScrollLeft)("data-pc-section","barx")("aria-controls",i.contentId),T(2),Q("aria-orientation","vertical")("aria-valuenow",i.lastScrollTop)("data-pc-section","bary")("aria-controls",i.contentId))},dependencies:[Jr,ei,Xr],styles:[`@layer primeng{.p-scrollpanel-wrapper{overflow:hidden;width:100%;height:100%;position:relative;float:left}.p-scrollpanel-content{height:calc(100% + 18px);width:calc(100% + 18px);padding:0 18px 18px 0;position:relative;overflow:auto;box-sizing:border-box}.p-scrollpanel-bar{position:relative;background:#c1c1c1;border-radius:3px;cursor:pointer;opacity:0;transition:opacity .25s linear}.p-scrollpanel-bar-y{width:9px;top:0}.p-scrollpanel-bar-x{height:9px;bottom:0}.p-scrollpanel-hidden{visibility:hidden}.p-scrollpanel:hover .p-scrollpanel-bar,.p-scrollpanel:active .p-scrollpanel-bar{opacity:1}.p-scrollpanel-grabbed{-webkit-user-select:none;user-select:none}}
`],encapsulation:2,changeDetection:0})}return n})(),pA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Pe({imports:[_n]})}return n})();var gA=(()=>{class n{storageInformation;ngOnInit(){this.getStorageInformation()}areCookiesEnabled(){document.cookie="testcookie=1";let t=document.cookie.indexOf("testcookie=")!==-1;return t&&(document.cookie="testcookie=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"),t}getStorageInformation(){return g(this,null,function*(){let t=this.isLocalStorageAvailable(),r=this.isSessionStorageAvailable(),i=yield this.getQuotaManagement(),o=this.isIndexedDBAvailable(),s=this.areCookiesEnabled(),a,c;t&&(a=(this.getStorageSpace(localStorage)||0)+" bytes"),r&&(c=(this.getStorageSpace(sessionStorage)||0)+" bytes"),this.storageInformation={localStorageAvailable:t,sessionStorageAvailable:r,localStorageSpace:a,sessionStorageSpace:c,quotaInformation:i,cookiesAllowed:s,indexedDBAvailable:o}})}isLocalStorageAvailable(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch{return!1}}isSessionStorageAvailable(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch{return!1}}getStorageSpace(t){let r=0;for(let i in t)t.hasOwnProperty(i)&&(r+=(t[i].length+i.length)*2);return r}isIndexedDBAvailable(){return"indexedDB"in window}getQuotaManagement(){return g(this,null,function*(){if(navigator.storage&&navigator.storage.estimate){let t=yield navigator.storage.estimate(),r=t.quota||0,i=t.usage||0;return{quota:r+" bytes",usage:i+" bytes",usagePercentage:(i/r*100).toFixed(5)+"%"}}else return null})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=z({type:n,selectors:[["app-storage-test"]],standalone:!0,features:[oe],decls:3,vars:3,consts:[[1,"bg-primary-reverse"]],template:function(r,i){r&1&&(N(0,"pre",0),ye(1),Ve(2,"json"),b()),r&2&&(T(),He("    Storage Information: ",nt(2,1,i.storageInformation),`
  `))},dependencies:[Ct]})}return n})();var mA=(()=>{class n{performanceInformation;memoryInfo;ngOnInit(){this.getPerformanceInformation(),this.getMemoryInfo()}getPageLoadTime(){let[t]=performance.getEntriesByType("navigation");return t?t.loadEventEnd-t.startTime:null}getNavigationTiming(){if(performance.getEntriesByType){let[t]=performance.getEntriesByType("navigation");if(t)return t.duration}return null}getPerformanceInformation(){this.performanceInformation={pageLoadTime:this.getPageLoadTime()?this.getPageLoadTime()+" ms":"N/A",navigationTiming:this.getNavigationTiming()?this.getNavigationTiming()+" ms":"N/A"}}getMemoryInfo(){this.memoryInfo={totalJSHeapSize:performance.memory.totalJSHeapSize+" bytes",usedJSHeapSize:performance.memory.usedJSHeapSize+" bytes",jsHeapSizeLimit:performance.memory.jsHeapSizeLimit+" bytes"}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=z({type:n,selectors:[["app-performance-test"]],standalone:!0,features:[oe],decls:6,vars:6,consts:[[1,"bg-primary-reverse"]],template:function(r,i){r&1&&(N(0,"pre",0),ye(1),Ve(2,"json"),b(),N(3,"pre",0),ye(4),Ve(5,"json"),b()),r&2&&(T(),He("    Performance Information: ",nt(2,2,i.performanceInformation),`
`),T(3),He("    Memory Information: ",nt(5,4,i.memoryInfo),`
`))},dependencies:[Ct]})}return n})();var yA=(()=>{class n{securityInfo;ngOnInit(){this.getSecurityInformation()}getSecurityInformation(){let t=window.isSecureContext,r=location.protocol==="https:",i=this.isDoNotTrackEnabled(),o=this.isAdBlockerActive();this.securityInfo={isSecureContext:t,httpsSupported:r,doNotTrackEnabled:i,adBlockerActive:o}}isDoNotTrackEnabled(){return navigator.doNotTrack==="1"||window.doNotTrack==="1"||navigator.msDoNotTrack==="1"}isAdBlockerActive(){let t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox",document.body.appendChild(t);let r=t.offsetHeight===0;return document.body.removeChild(t),r}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=z({type:n,selectors:[["app-security-test"]],standalone:!0,features:[oe],decls:3,vars:3,consts:[[1,"bg-primary-reverse"]],template:function(r,i){r&1&&(N(0,"pre",0),ye(1),Ve(2,"json"),b()),r&2&&(T(),He("    Security and Privacy Information: ",nt(2,1,i.securityInfo),`
`))},dependencies:[Ct]})}return n})();var vA=(()=>{class n{displayInfo;ngOnInit(){this.getDisplayInformation()}getScreenResolution(){return{width:screen.width+" px",height:screen.height+" px"}}getViewportSize(){return{width:window.innerWidth+" px",height:window.innerHeight+" px"}}getDisplayInformation(){let t=window.devicePixelRatio,r=this.getScreenResolution(),i=this.getViewportSize(),o=screen.colorDepth+" bit",s=screen.pixelDepth+" bit";this.displayInfo={devicePixelRatio:t,getScreenResolution:r,viewPortResolution:i,colorDepth:o,pixelDepth:s}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=z({type:n,selectors:[["app-display-test"]],standalone:!0,features:[oe],decls:3,vars:3,consts:[[1,"bg-primary-reverse"]],template:function(r,i){r&1&&(N(0,"pre",0),ye(1),Ve(2,"json"),b()),r&2&&(T(),He("    Display Information: ",nt(2,1,i.displayInfo),`
`))},dependencies:[Ct]})}return n})();var CA=(()=>{class n{webApisInfo;ngOnInit(){this.getWebApisInfo()}isGeolocationAvailable(){return"geolocation"in navigator}isWebRTCAvailable(){return"RTCPeerConnection"in window}isWebGLAvailable(){try{let t=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl")))}catch{return!1}}isWebAssemblyAvailable(){return typeof WebAssembly=="object"}arePushNotificationsAvailable(){return"Notification"in window&&"serviceWorker"in navigator}checkPersistence(){return g(this,null,function*(){return navigator.storage&&navigator.storage.persist?(yield navigator.storage.persisted())?"Data is already persistent":(yield navigator.storage.persist())?"Data is now persistent":"Failed to enable persistent storage":"Persistence API is not supported in this browser"})}getWebApisInfo(){return g(this,null,function*(){let t=this.isGeolocationAvailable(),r=this.isWebRTCAvailable(),i=this.isWebGLAvailable(),o=this.isWebAssemblyAvailable(),s=this.arePushNotificationsAvailable(),a=yield this.checkPersistence();this.webApisInfo={geolocation:t,webRTC:r,webGL:i,webAssembly:o,pushNotifications:s,persistence:a}})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=z({type:n,selectors:[["app-web-apis-test"]],standalone:!0,features:[oe],decls:3,vars:3,consts:[[1,"bg-primary-reverse"]],template:function(r,i){r&1&&(N(0,"pre",0),ye(1),Ve(2,"json"),b()),r&2&&(T(),He("    Web APIs Support Information: ",nt(2,1,i.webApisInfo),`
`))},dependencies:[Ct]})}return n})();var EA=(()=>{class n{accessibilityInfo;screenReaderDetected=!1;ngOnInit(){this.detectScreenReader()}detectScreenReader(){this.screenReaderDetected=!1;let t=document.getElementById("sr-detection");if(!t)return;t.innerText="Screen reader detection test";let r=new MutationObserver(()=>{this.screenReaderDetected=!0,this.updateAccessibilityInfo()});r.observe(t,{childList:!0}),setTimeout(()=>{r.disconnect(),this.updateAccessibilityInfo()},500)}detectHighContrastMode(){let t=document.createElement("div");t.style.border="1px solid",t.style.borderColor="white black",document.body.appendChild(t);let r=window.getComputedStyle(t),i=r.borderTopColor!==r.borderRightColor;return document.body.removeChild(t),i}updateAccessibilityInfo(){this.accessibilityInfo={screenReaderDetected:this.screenReaderDetected,highContrastModeDetected:this.detectHighContrastMode()}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=z({type:n,selectors:[["app-accessibility-test"]],standalone:!0,features:[oe],decls:5,vars:3,consts:[["id","accessibility-info"],["id","sr-detection","aria-live","polite","role","status"],[1,"bg-primary-reverse"]],template:function(r,i){r&1&&(Te(0,"div",0)(1,"div",1),N(2,"pre",2),ye(3),Ve(4,"json"),b()),r&2&&(T(3),He("    Accessibility Information: ",nt(4,1,i.accessibilityInfo),`
`))},dependencies:[Ct],styles:["#sr-detection[_ngcontent-%COMP%]{position:absolute;left:-9999px;top:-9999px;height:1px;width:1px;overflow:hidden}"]})}return n})();var IA=(()=>{class n{timeInformation;ngOnInit(){this.getTimeInformation()}getTimeInformation(){let t=this.getTimeZone(),r=this.getLocale();this.timeInformation={timeZone:t,locale:r}}getTimeZone(){return Intl.DateTimeFormat().resolvedOptions().timeZone}getLocale(){return Intl.DateTimeFormat().resolvedOptions().locale}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=z({type:n,selectors:[["app-timezone-test"]],standalone:!0,features:[oe],decls:3,vars:3,consts:[[1,"bg-primary-reverse"]],template:function(r,i){r&1&&(N(0,"pre",0),ye(1),Ve(2,"json"),b()),r&2&&(T(),He("    Time Zone and Locale Information: ",nt(2,1,i.timeInformation),`
  `))},dependencies:[Ct]})}return n})();var OP=()=>({width:"100%",height:"700px"});function xP(n,e){if(n&1){let t=Zt();N(0,"div",4)(1,"button",7),Ce("click",function(){_e(t);let i=te();return be(i.runTest())}),b()()}}function PP(n,e){n&1&&(N(0,"div",5)(1,"h2",8),ye(2,"Test is running..."),b(),Te(3,"div",9),b())}function LP(n,e){if(n&1&&(N(0,"p-scrollPanel")(1,"div",10)(2,"pre",11),ye(3),Ve(4,"json"),b(),N(5,"pre",12),ye(6),Ve(7,"json"),b(),Te(8,"app-storage-test"),N(9,"pre",12),ye(10),Ve(11,"json"),b(),Te(12,"app-performance-test")(13,"app-security-test")(14,"app-display-test")(15,"app-web-apis-test")(16,"app-accessibility-test")(17,"app-timezone-test"),b()()),n&2){let t=te();uw(Cw(11,OP)),T(3),He("            Browser Information: ",nt(4,5,t.browserInformation),`
         `),T(3),He("          Network Information:  ",nt(7,7,t.networkInformation),`
        `),T(4),He("            Service Worker Information: ",nt(11,9,t.serviceWorkerInformation),`
        `)}}var wA=(()=>{class n{testIsRunning=!1;testIsFinished=!1;browserInformation;networkInformation;serviceWorkerInformation;serviceWorker;runTest(){return g(this,null,function*(){this.testIsRunning=!0,this.testIsFinished=!1,this.getBrowserInformation(),yield this.getNetworkInfo(),this.checkServiceWorker(),this.testServiceWorker(),setTimeout(()=>{this.testIsRunning=!1,this.testIsFinished=!0},500)})}getBrowserInformation(){return g(this,null,function*(){let t=yield this.isIncognito();this.browserInformation={userAgent:navigator.userAgent,incognito:t}})}getNetworkInfo(){return g(this,null,function*(){let t="N/A";try{t=(yield(yield fetch("https://api.ipify.org?format=json")).json()).ip}catch(c){console.error("Error fetching IP address:",c)}let r=navigator.connection||navigator.mozConnection||navigator.webkitConnection,i=r?r.effectiveType:"N/A",o=r?r.downlink:"N/A",s=r?r.rtt:"N/A",a=r?r.downlinkMax:"N/A";this.networkInformation={ipAddress:t,connectionType:i,downlink:o,rtt:s,downlinkMax:a}})}isServiceWorkerSupported(){return"serviceWorker"in navigator}areServiceWorkersRegistered(){return"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(t=>t.length>0):Promise.resolve(!1)}checkServiceWorker(){return g(this,null,function*(){this.serviceWorkerInformation={serviceWorkerSupported:this.isServiceWorkerSupported(),serviceWorkersRegistered:(yield this.areServiceWorkersRegistered())+" (is returning always false)"}})}isIncognito(){return new Promise(t=>{let r=window.RequestFileSystem||window.webkitRequestFileSystem;if(!r){t(!1);return}r(window.TEMPORARY,100,()=>t(!1),()=>t(!0))})}testServiceWorker(){this.serviceWorker=new Worker("/public/bat-test-sw.js"),this.serviceWorker.postMessage("start"),this.serviceWorker.onmessage=t=>{console.log("serviceWorker",t)}}catch(t){console.error(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=z({type:n,selectors:[["app-bat-test"]],standalone:!0,features:[oe],decls:8,vars:2,consts:[[1,"flex","flex-column","align-content-center","justify-content-center","gap-6"],["styleClass","surface-ground shadow-2"],[1,"flex","flex-row","align-content-start","justify-content-between","w-full"],[1,"text-2xl","font-bold","m-0"],[1,"card","flex","justify-content-center"],[1,"flex","flex-column","items-center","justify-start","gap-2"],[3,"style"],["pButton","","pRipple","","label","Run Test",3,"click"],[1,"text-xl","font-bold"],[1,"spinner"],[1,"flex","flex-column","align-content-center","justify-content-center","gap-2","px-8","py-2"],[1,"bg-primary-reverse",2,"text-wrap","wrap"],[1,"bg-primary-reverse"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"p-toolbar",1)(2,"div",2)(3,"h1",3),ye(4,"BAT Test"),b(),fe(5,xP,2,0,"div",4),b()(),fe(6,PP,4,0,"div",5)(7,LP,18,12,"p-scrollPanel",6),b()),r&2&&(T(5),mc(i.testIsRunning?-1:5),T(),mc(i.testIsRunning?6:i.testIsFinished?7:-1))},dependencies:[hA,dA,Ga,$a,pA,fA,Ct,gA,mA,yA,vA,CA,EA,IA]})}return n})();function FP(n,e){if(n&1&&(N(0,"pre"),ye(1),b()),n&2){let t=te();T(),He("            tenantId: ",t.tenantId,`
        `)}}var TA=(()=>{class n{authorizing=!1;msalService=w(Qo);httpClient=w(rm);result;tenantId="";token="";aud="";granting=!1;granted=!1;ngOnInit(){this.msalService.initialize(),this.tenantId=localStorage.getItem("tenantId")||"",this.granted=!!localStorage.getItem("tenantId"),this.granted&&(this.token=localStorage.getItem("token")||"")}authorize(){this.authorizing=!0,this.msalService.loginPopup({scopes:["https://manage.office.com/ActivityFeed.Read","https://manage.office.com/ActivityFeed.ReadDlp","https://manage.office.com/ServiceHealth.Read"],prompt:"select_account"}).subscribe({next:t=>{t&&t.tenantId&&t.idTokenClaims&&t.idTokenClaims.aud?(console.log("Login popup result:",t),this.tenantId=t.tenantId,this.token=t.accessToken,this.aud=t.idTokenClaims.aud,localStorage.setItem("token",this.token),localStorage.setItem("account",JSON.stringify(t))):console.error("Invalid result object:",t),this.authorizing=!1,this.result=t},error:t=>{console.error("Login popup error:",t),this.authorizing=!1}})}grantAdminConsent(){this.granting=!0,localStorage.setItem("tenantId",this.tenantId);let t=Math.floor(Math.random()*9e4)+1e4,r=`https://login.microsoftonline.com/${this.tenantId}/v2.0/adminconsent?client_id=${this.aud}&state=${t}&redirect_uri=${window.location.origin}&scope=https://manage.office.com/ActivityFeed.Read https://manage.office.com/ActivityFeed.ReadDlp  https://manage.office.com/ServiceHealth.Read`;window.location.replace(r)}getServices(){this.httpClient.get("http://localhost:3000/proxy/services",{headers:{Authorization:`Bearer ${this.token}`,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,POST,PUT,DELETE, OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Headers, Content-Type, Accept, Authorization","Content-Type":"application/json"},params:{tenantId:this.tenantId}}).subscribe({next:t=>{console.log("GET request result:",t),this.result=t},error:t=>{console.error("GET request error:",t)}})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=z({type:n,selectors:[["app-msal"]],standalone:!0,features:[oe],decls:10,vars:2,consts:[[1,"flex","flex-column","gap-6","px-8","py-12"],[1,"flex","gap-4"],["pButton","","pRipple","","label","Authorize",3,"click","disabled"],["pButton","","pRipple","","label","Grant admin consent",3,"click"],["pButton","","pRipple","","label","Get services",3,"click"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"h1"),ye(2," Microsoft 365 Test "),b(),N(3,"div",1)(4,"button",2),Ce("click",function(){return i.authorize()}),b(),fe(5,FP,2,1,"pre"),b(),N(6,"div")(7,"button",3),Ce("click",function(){return i.grantAdminConsent()}),b()(),N(8,"div")(9,"button",4),Ce("click",function(){return i.getServices()}),b()()()),r&2&&(T(4),O("disabled",i.authorizing),T(),mc(i.tenantId?5:-1))},dependencies:[Ga,$a]})}return n})();var kA=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(D(Vt),D(Ne))},e.\u0275dir=Ae({type:e});let n=e;return n})(),UP=(()=>{let e=class e extends kA{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Kt(e)))(o||e)}})(),e.\u0275dir=Ae({type:e,features:[ht]});let n=e;return n})(),Xl=new x("");var BP={provide:Xl,useExisting:ir(()=>wf),multi:!0};function VP(){let n=hr()?hr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var HP=new x(""),wf=(()=>{let e=class e extends kA{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!VP())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(D(Vt),D(Ne),D(HP,8))},e.\u0275dir=Ae({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Ce("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[to([BP]),ht]});let n=e;return n})();function Oi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function OA(n){return n!=null&&typeof n.length=="number"}var Iv=new x(""),wv=new x(""),jP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xo=class{static min(e){return $P(e)}static max(e){return GP(e)}static required(e){return zP(e)}static requiredTrue(e){return qP(e)}static email(e){return WP(e)}static minLength(e){return KP(e)}static maxLength(e){return YP(e)}static pattern(e){return QP(e)}static nullValidator(e){return xA(e)}static compose(e){return VA(e)}static composeAsync(e){return jA(e)}};function $P(n){return e=>{if(Oi(e.value)||Oi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function GP(n){return e=>{if(Oi(e.value)||Oi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function zP(n){return Oi(n.value)?{required:!0}:null}function qP(n){return n.value===!0?null:{required:!0}}function WP(n){return Oi(n.value)||jP.test(n.value)?null:{email:!0}}function KP(n){return e=>Oi(e.value)||!OA(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function YP(n){return e=>OA(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function QP(n){if(!n)return xA;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Oi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function xA(n){return null}function PA(n){return n!=null}function LA(n){return no(n)?ue(n):n}function FA(n){let e={};return n.forEach(t=>{e=t!=null?m(m({},e),t):e}),Object.keys(e).length===0?null:e}function UA(n,e){return e.map(t=>t(n))}function ZP(n){return!n.validate}function BA(n){return n.map(e=>ZP(e)?e:t=>e.validate(t))}function VA(n){if(!n)return null;let e=n.filter(PA);return e.length==0?null:function(t){return FA(UA(t,e))}}function HA(n){return n!=null?VA(BA(n)):null}function jA(n){if(!n)return null;let e=n.filter(PA);return e.length==0?null:function(t){let r=UA(t,e).map(LA);return zf(r).pipe($(FA))}}function $A(n){return n!=null?jA(BA(n)):null}function SA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function GA(n){return n._rawValidators}function zA(n){return n._rawAsyncValidators}function gv(n){return n?Array.isArray(n)?n:[n]:[]}function gf(n,e){return Array.isArray(n)?n.includes(e):n===e}function AA(n,e){let t=gv(e);return gv(n).forEach(i=>{gf(t,i)||t.push(i)}),t}function _A(n,e){return gv(e).filter(t=>!gf(n,t))}var mf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$A(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},es=class extends mf{get formDirective(){return null}get path(){return null}},ts=class extends mf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},yf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},JP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},J7=A(m({},JP),{"[class.ng-submitted]":"isSubmitted"}),qA=(()=>{let e=class e extends yf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(D(ts,2))},e.\u0275dir=Ae({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Hn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ht]});let n=e;return n})(),WA=(()=>{let e=class e extends yf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(D(es,10))},e.\u0275dir=Ae({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Hn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[ht]});let n=e;return n})();var Kl="VALID",pf="INVALID",za="PENDING",Yl="DISABLED",xi=class{},vf=class extends xi{constructor(e,t){super(),this.value=e,this.source=t}},Ql=class extends xi{constructor(e,t){super(),this.pristine=e,this.source=t}},Zl=class extends xi{constructor(e,t){super(),this.touched=e,this.source=t}},qa=class extends xi{constructor(e,t){super(),this.status=e,this.source=t}},mv=class extends xi{constructor(e){super(),this.source=e}},yv=class extends xi{constructor(e){super(),this.source=e}};function Tv(n){return(Tf(n)?n.validators:n)||null}function XP(n){return Array.isArray(n)?HA(n):n||null}function Sv(n,e){return(Tf(e)?e.asyncValidators:n)||null}function e1(n){return Array.isArray(n)?$A(n):n||null}function Tf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function KA(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[t])throw new U(1001,"")}function YA(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new U(1002,"")})}var Wa=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=vc(()=>this.statusReactive()),this.statusReactive=Qr(void 0),this._pristine=vc(()=>this.pristineReactive()),this.pristineReactive=Qr(!0),this._touched=vc(()=>this.touchedReactive()),this.touchedReactive=Qr(!1),this._events=new Be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return dr(this.statusReactive)}set status(e){dr(()=>this.statusReactive.set(e))}get valid(){return this.status===Kl}get invalid(){return this.status===pf}get pending(){return this.status==za}get disabled(){return this.status===Yl}get enabled(){return this.status!==Yl}get pristine(){return dr(this.pristineReactive)}set pristine(e){dr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return dr(this.touchedReactive)}set touched(e){dr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_A(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_A(e,this._rawAsyncValidators))}hasValidator(e){return gf(this._rawValidators,e)}hasAsyncValidator(e){return gf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(A(m({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Zl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Zl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(A(m({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ql(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ql(!0,r))}markAsPending(e={}){this.status=za;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(A(m({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yl,this.errors=null,this._forEachChild(i=>{i.disable(A(m({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vf(this.value,r)),this._events.next(new qa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(A(m({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Kl,this._forEachChild(r=>{r.enable(A(m({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(A(m({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kl||this.status===za)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vf(this.value,t)),this._events.next(new qa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(A(m({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yl:Kl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=za,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=LA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new qa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?Yl:this.errors?pf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(za)?za:this._anyControlsHaveStatus(pf)?pf:Kl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ql(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Zl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=XP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=e1(this._rawAsyncValidators)}},Cf=class extends Wa{constructor(e,t,r){super(Tv(t),Sv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){YA(this,!0,e),Object.keys(e).forEach(r=>{KA(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var vv=class extends Cf{};var Av=new x("CallSetDisabledState",{providedIn:"root",factory:()=>_v}),_v="always";function QA(n,e){return[...e.path,n]}function Cv(n,e,t=_v){bv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),n1(n,e),i1(n,e),r1(n,e),t1(n,e)}function bA(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),If(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ef(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function t1(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function bv(n,e){let t=GA(n);e.validator!==null?n.setValidators(SA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=zA(n);e.asyncValidator!==null?n.setAsyncValidators(SA(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Ef(e._rawValidators,i),Ef(e._rawAsyncValidators,i)}function If(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=GA(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=zA(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Ef(e._rawValidators,r),Ef(e._rawAsyncValidators,r),t}function n1(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ZA(n,e)})}function r1(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ZA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ZA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function i1(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function o1(n,e){n==null,bv(n,e)}function s1(n,e){return If(n,e)}function JA(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function a1(n){return Object.getPrototypeOf(n.constructor)===UP}function c1(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function XA(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===wf?t=o:a1(o)?r=o:i=o}),i||r||t||null}function l1(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function DA(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function MA(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Jl=class extends Wa{constructor(e=null,t,r){super(Tv(t),Sv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(MA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){DA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){DA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){MA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var u1=n=>n instanceof Jl;var d1={provide:ts,useExisting:ir(()=>Dv)},RA=Promise.resolve(),Dv=(()=>{let e=class e extends ts{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Jl,this._registered=!1,this.name="",this.update=new ve,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=XA(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),JA(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){RA.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Se(i);RA.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?QA(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(D(es,9),D(Iv,10),D(wv,10),D(Xl,10),D(Jt,8),D(Av,8))},e.\u0275dir=Ae({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[to([d1]),ht,ar]});let n=e;return n})(),e_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ae({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var t_=new x("");var h1={provide:es,useExisting:ir(()=>Mv)},Mv=(()=>{let e=class e extends es{get submitted(){return dr(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=vc(()=>this._submittedReactive()),this._submittedReactive=Qr(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ve,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(If(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Cv(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){bA(r.control||null,r,!1),l1(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),c1(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new mv(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new yv(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(bA(i||null,r),u1(o)&&(Cv(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);o1(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&s1(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bv(this.form,this),this._oldForm&&If(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(D(Iv,10),D(wv,10),D(Av,8))},e.\u0275dir=Ae({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&Ce("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[to([h1]),ht,ar]});let n=e;return n})();var f1={provide:ts,useExisting:ir(()=>Rv)},Rv=(()=>{let e=class e extends ts{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ve,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=XA(this,s)}ngOnChanges(r){this._added||this._setUpControl(),JA(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return QA(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(D(es,13),D(Iv,10),D(wv,10),D(Xl,10),D(t_,8))},e.\u0275dir=Ae({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[to([f1]),ht,ar]});let n=e;return n})();var p1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Le({type:e}),e.\u0275inj=Pe({});let n=e;return n})(),Ev=class extends Wa{constructor(e,t,r){super(Tv(t),Sv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){YA(this,!1,e),e.forEach((r,i)=>{KA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function NA(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var n_=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return NA(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Cf(o,s)}record(r,i=null){let o=this._reduceControls(r);return new vv(o,i)}control(r,i,o){let s={};return this.useNonNullable?(NA(i)?s=i:(s.validators=i,s.asyncValidators=o),new Jl(r,A(m({},s),{nonNullable:!0}))):new Jl(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new Ev(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof Jl)return r;if(r instanceof Wa)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var r_=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:t_,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Av,useValue:r.callSetDisabledState??_v}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Le({type:e}),e.\u0275inj=Pe({imports:[p1]});let n=e;return n})();var eu=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(eu||{});function o_(n,e){return{type:eu.Trigger,name:n,definitions:e,options:{}}}function Nv(n,e=null){return{type:eu.Animate,styles:e,timings:n}}function kv(n){return{type:eu.Style,styles:n,offset:null}}function Ov(n,e,t=null){return{type:eu.Transition,expr:n,animation:e,options:t}}var xv=(()=>{class n extends Ni{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Kt(n)))(i||n)}})();static \u0275cmp=z({type:n,selectors:[["EyeIcon"]],standalone:!0,features:[ht,oe],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(r,i){r&1&&(Wr(),N(0,"svg",0),Te(1,"path",1),b()),r&2&&(ft(i.getClassNames()),Q("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();var Pv=(()=>{class n extends Ni{pathId;ngOnInit(){this.pathId="url(#"+Ha()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Kt(n)))(i||n)}})();static \u0275cmp=z({type:n,selectors:[["EyeSlashIcon"]],standalone:!0,features:[ht,oe],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){r&1&&(Wr(),N(0,"svg",0)(1,"g"),Te(2,"path",1),b(),N(3,"defs")(4,"clipPath",2),Te(5,"rect",3),b()()()),r&2&&(ft(i.getClassNames()),Q("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),T(),Q("clip-path",i.pathId),T(3),O("id",i.pathId))},encapsulation:2})}return n})();var Lv=(()=>{class n extends Ni{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Kt(n)))(i||n)}})();static \u0275cmp=z({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[ht,oe],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,i){r&1&&(Wr(),N(0,"svg",0),Te(1,"path",1),b()),r&2&&(ft(i.getClassNames()),Q("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();var Sf=(()=>{class n{el;ngModel;cd;config;variant="outlined";filled;constructor(t,r,i,o){this.el=t,this.ngModel=r,this.cd=i,this.config=o}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(r){return new(r||n)(D(Ne),D(Dv,8),D(Jt),D(ja))};static \u0275dir=Ae({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(r,i){r&1&&Ce("input",function(s){return i.onInput(s)}),r&2&&Hn("p-filled",i.filled)("p-variant-filled",i.variant==="filled"||i.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return n})(),Af=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Pe({imports:[_n]})}return n})();var g1=["input"],m1=(n,e)=>({showTransitionParams:n,hideTransitionParams:e}),y1=n=>({value:"visible",params:n}),v1=n=>({width:n});function C1(n,e){if(n&1){let t=Zt();N(0,"TimesIcon",10),Ce("click",function(){_e(t);let i=te(2);return be(i.clear())}),b()}n&2&&(O("styleClass","p-password-clear-icon"),Q("data-pc-section","clearIcon"))}function E1(n,e){}function I1(n,e){n&1&&fe(0,E1,0,0,"ng-template")}function w1(n,e){if(n&1){let t=Zt();dn(0),fe(1,C1,1,2,"TimesIcon",7),N(2,"span",8),Ce("click",function(){_e(t);let i=te();return be(i.clear())}),fe(3,I1,1,0,null,9),b(),hn()}if(n&2){let t=te();T(),O("ngIf",!t.clearIconTemplate),T(),Q("data-pc-section","clearIcon"),T(),O("ngTemplateOutlet",t.clearIconTemplate)}}function T1(n,e){if(n&1){let t=Zt();N(0,"EyeSlashIcon",12),Ce("click",function(){_e(t);let i=te(3);return be(i.onMaskToggle())}),b()}n&2&&Q("data-pc-section","hideIcon")}function S1(n,e){}function A1(n,e){n&1&&fe(0,S1,0,0,"ng-template")}function _1(n,e){if(n&1){let t=Zt();N(0,"span",12),Ce("click",function(){_e(t);let i=te(3);return be(i.onMaskToggle())}),fe(1,A1,1,0,null,9),b()}if(n&2){let t=te(3);T(),O("ngTemplateOutlet",t.hideIconTemplate)}}function b1(n,e){if(n&1&&(dn(0),fe(1,T1,1,1,"EyeSlashIcon",11)(2,_1,2,1,"span",11),hn()),n&2){let t=te(2);T(),O("ngIf",!t.hideIconTemplate),T(),O("ngIf",t.hideIconTemplate)}}function D1(n,e){if(n&1){let t=Zt();N(0,"EyeIcon",12),Ce("click",function(){_e(t);let i=te(3);return be(i.onMaskToggle())}),b()}n&2&&Q("data-pc-section","showIcon")}function M1(n,e){}function R1(n,e){n&1&&fe(0,M1,0,0,"ng-template")}function N1(n,e){if(n&1){let t=Zt();N(0,"span",12),Ce("click",function(){_e(t);let i=te(3);return be(i.onMaskToggle())}),fe(1,R1,1,0,null,9),b()}if(n&2){let t=te(3);T(),O("ngTemplateOutlet",t.showIconTemplate)}}function k1(n,e){if(n&1&&(dn(0),fe(1,D1,1,1,"EyeIcon",11)(2,N1,2,1,"span",11),hn()),n&2){let t=te(2);T(),O("ngIf",!t.showIconTemplate),T(),O("ngIf",t.showIconTemplate)}}function O1(n,e){if(n&1&&(dn(0),fe(1,b1,3,2,"ng-container",5)(2,k1,3,2,"ng-container",5),hn()),n&2){let t=te();T(),O("ngIf",t.unmasked),T(),O("ngIf",!t.unmasked)}}function x1(n,e){n&1&&Qt(0)}function P1(n,e){n&1&&Qt(0)}function L1(n,e){if(n&1&&(dn(0),fe(1,P1,1,0,"ng-container",9),hn()),n&2){let t=te(2);T(),O("ngTemplateOutlet",t.contentTemplate)}}function F1(n,e){if(n&1&&(N(0,"div",15),Te(1,"div",3),Ve(2,"mapper"),b(),N(3,"div",16),ye(4),b()),n&2){let t=te(2);Q("data-pc-section","meter"),T(),O("ngClass",yc(2,6,t.meter,t.strengthClass))("ngStyle",Os(9,v1,t.meter?t.meter.width:"")),Q("data-pc-section","meterLabel"),T(2),Q("data-pc-section","info"),T(),ks(t.infoText)}}function U1(n,e){n&1&&Qt(0)}function B1(n,e){if(n&1){let t=Zt();N(0,"div",13,1),Ce("click",function(i){_e(t);let o=te();return be(o.onOverlayClick(i))})("@overlayAnimation.start",function(i){_e(t);let o=te();return be(o.onAnimationStart(i))})("@overlayAnimation.done",function(i){_e(t);let o=te();return be(o.onAnimationEnd(i))}),fe(2,x1,1,0,"ng-container",9)(3,L1,2,1,"ng-container",14)(4,F1,5,11,"ng-template",null,2,Aw)(6,U1,1,0,"ng-container",9),b()}if(n&2){let t=yw(5),r=te();O("ngClass","p-password-panel p-component")("@overlayAnimation",Os(10,y1,Ew(7,m1,r.showTransitionOptions,r.hideTransitionOptions))),Q("data-pc-section","panel"),T(2),O("ngTemplateOutlet",r.headerTemplate),T(),O("ngIf",r.contentTemplate)("ngIfElse",t),T(3),O("ngTemplateOutlet",r.footerTemplate)}}var V1=(()=>{class n{transform(t,r,...i){return r(t,...i)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=pd({name:"mapper",type:n,pure:!0})}return n})(),H1={provide:Xl,useExisting:ir(()=>Fv),multi:!0},Fv=(()=>{class n{document;platformId;renderer;cd;config;el;overlayService;ariaLabel;ariaLabelledBy;label;disabled;promptLabel;mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})";strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})";weakLabel;mediumLabel;maxLength;strongLabel;inputId;feedback=!0;appendTo;toggleMask;inputStyleClass;styleClass;style;inputStyle;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autocomplete;placeholder;showClear=!1;autofocus;variant="outlined";onFocus=new ve;onBlur=new ve;onClear=new ve;input;contentTemplate;footerTemplate;headerTemplate;clearIconTemplate;hideIconTemplate;showIconTemplate;templates;overlayVisible=!1;meter;infoText;focused=!1;unmasked=!1;mediumCheckRegExp;strongCheckRegExp;resizeListener;scrollHandler;overlay;value=null;onModelChange=()=>{};onModelTouched=()=>{};translationSubscription;constructor(t,r,i,o,s,a,c){this.document=t,this.platformId=r,this.renderer=i,this.cd=o,this.config=s,this.el=a,this.overlayService=c}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"hideicon":this.hideIconTemplate=t.template;break;case"showicon":this.showIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(t){switch(t.toState){case"visible":this.overlay=t.element,df.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null;break}}onAnimationEnd(t){switch(t.toState){case"void":df.clear(t.element);break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=W.getOuterWidth(this.input.nativeElement)+"px",W.absolutePosition(this.overlay,this.input.nativeElement)):W.relativePosition(this.overlay,this.input.nativeElement)}onInput(t){this.value=t.target.value,this.onModelChange(this.value)}onInputFocus(t){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onModelTouched(),this.onBlur.emit(t)}onKeyUp(t){if(this.feedback){let r=t.target.value;if(this.updateUI(r),t.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}}updateUI(t){let r=null,i=null;switch(this.testStrength(t)){case 1:r=this.weakText(),i={strength:"weak",width:"33.33%"};break;case 2:r=this.mediumText(),i={strength:"medium",width:"66.66%"};break;case 3:r=this.strongText(),i={strength:"strong",width:"100%"};break;default:r=this.promptText(),i=null;break}this.meter=i,this.infoText=r}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}testStrength(t){let r=0;return this.strongCheckRegExp.test(t)?r=3:this.mediumCheckRegExp.test(t)?r=2:t.length&&(r=1),r}writeValue(t){t===void 0?this.value=null:this.value=t,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}bindScrollListener(){fr(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new hf(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener())}bindResizeListener(){if(fr(this.platformId)&&!this.resizeListener){let t=this.document.defaultView;this.resizeListener=this.renderer.listen(t,"resize",()=>{this.overlayVisible&&!W.isTouchDevice()&&(this.overlayVisible=!1)})}}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}containerClass(t){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":t}}inputFieldClass(t){return{"p-password-input":!0,"p-disabled":t}}strengthClass(t){return`p-password-strength ${t?t.strength:""}`}filled(){return this.value!=null&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(Wl.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(Wl.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(Wl.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(Wl.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&(this.appendTo==="body"?this.renderer.removeChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(t){return t?"text":"password"}getTranslation(t){return this.config.getTranslation(t)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(df.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)(D(xe),D(vt),D(Vt),D(Jt),D(ja),D(Ne),D(sA))};static \u0275cmp=z({type:n,selectors:[["p-password"]],contentQueries:function(r,i,o){if(r&1&&ur(o,Ri,4),r&2){let s;Ht(s=jt())&&(i.templates=s)}},viewQuery:function(r,i){if(r&1&&eo(g1,5),r&2){let o;Ht(o=jt())&&(i.input=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(r,i){r&2&&Hn("p-inputwrapper-filled",i.filled())("p-inputwrapper-focus",i.focused)("p-password-clearable",i.showClear)("p-password-mask",i.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:[2,"disabled","disabled",Se],promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",maxLength:[2,"maxLength","maxLength",io],strongLabel:"strongLabel",inputId:"inputId",feedback:[2,"feedback","feedback",Se],appendTo:"appendTo",toggleMask:[2,"toggleMask","toggleMask",Se],inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",placeholder:"placeholder",showClear:[2,"showClear","showClear",Se],autofocus:[2,"autofocus","autofocus",Se],variant:"variant"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[to([H1]),Yt],decls:9,vars:35,consts:[["input",""],["overlay",""],["content",""],[3,"ngClass","ngStyle"],["pInputText","","pAutoFocus","",3,"input","focus","blur","keyup","ngClass","disabled","ngStyle","value","variant","autofocus"],[4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],[1,"p-password-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"click","styleClass"],[3,"click",4,"ngIf"],[3,"click"],[3,"click","ngClass"],[4,"ngIf","ngIfElse"],[1,"p-password-meter"],[1,"p-password-info"]],template:function(r,i){if(r&1){let o=Zt();N(0,"div",3),Ve(1,"mapper"),N(2,"input",4,0),Ve(4,"mapper"),Ve(5,"mapper"),Ce("input",function(a){return _e(o),be(i.onInput(a))})("focus",function(a){return _e(o),be(i.onInputFocus(a))})("blur",function(a){return _e(o),be(i.onInputBlur(a))})("keyup",function(a){return _e(o),be(i.onKeyUp(a))}),b(),fe(6,w1,4,3,"ng-container",5)(7,O1,3,2,"ng-container",5)(8,B1,7,12,"div",6),b()}r&2&&(ft(i.styleClass),O("ngClass",yc(1,26,i.toggleMask,i.containerClass))("ngStyle",i.style),Q("data-pc-name","password")("data-pc-section","root"),T(2),ft(i.inputStyleClass),O("ngClass",yc(4,29,i.disabled,i.inputFieldClass))("disabled",i.disabled)("ngStyle",i.inputStyle)("value",i.value)("variant",i.variant)("autofocus",i.autofocus),Q("label",i.label)("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("id",i.inputId)("type",yc(5,32,i.unmasked,i.inputType))("placeholder",i.placeholder)("autocomplete",i.autocomplete)("maxlength",i.maxLength)("data-pc-section","input"),T(4),O("ngIf",i.showClear&&i.value!=null),T(),O("ngIf",i.toggleMask),T(),O("ngIf",i.overlayVisible))},dependencies:()=>[Jr,Ps,ei,Xr,Sf,ff,Lv,Pv,xv,V1],styles:[`@layer primeng{.p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-input::-ms-reveal,.p-password-input::-ms-clear{display:none}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password .p-icon{cursor:pointer}.p-password-clearable.p-password-mask .p-password-clear-icon{margin-top:unset}.p-password-clearable{position:relative}}
`],encapsulation:2,data:{animation:[o_("overlayAnimation",[Ov(":enter",[kv({opacity:0,transform:"scaleY(0.8)"}),Nv("{{showTransitionParams}}")]),Ov(":leave",[Nv("{{hideTransitionParams}}",kv({opacity:0}))])])]},changeDetection:0})}return n})(),a_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=Pe({imports:[_n,Af,aA,Lv,Pv,xv,Jo]})}return n})();var c_=(()=>{class n{authForm;_fb=w(n_);ngOnInit(){this.authForm=this._fb.group({email:["",[Xo.required,Xo.email]],password:["",[Xo.required,Xo.minLength(8)]]})}login(){console.log("Form Submitted",this.authForm.value)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=z({type:n,selectors:[["app-auth-form"]],standalone:!0,features:[oe],decls:8,vars:2,consts:[[1,"flex","flex-colum","align-items-center","justify-content-center","min-h-screen","h-full"],["novalidate","",1,"flex","flex-column","gap-2","align-items-start","justify-content-start","border-1","border-gray-800","border-round-2xl","pt-2","pb-6","px-8",3,"formGroup"],[1,"text-2xl","text-center","w-full"],[1,"flex","flex-column","gap-4"],["type","email","pInputText","","formControlName","email"],["formControlName","password",3,"feedback"],["pButton","","pRipple","","label","Login",1,"w-full","mt-2",3,"click"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"form",1)(2,"h2",2),ye(3,"Auth Flow"),b(),N(4,"div",3),Te(5,"input",4)(6,"p-password",5),b(),N(7,"button",6),Ce("click",function(){return i.login()}),b()()()),r&2&&(T(),O("formGroup",i.authForm),T(5),O("feedback",!1))},dependencies:[r_,e_,wf,qA,WA,Mv,Rv,a_,Fv,Af,Sf,Ga,$a]})}return n})();var l_=[{path:"",component:c_},{path:"test",component:wA},{path:"msal",component:TA}];var tu={production:!1,msalConfig:{auth:{clientId:"dc0b40f9-4895-4f7b-942a-4c47ee36ff6e"}},apiConfig:{scopes:["User.Read","ActivityFeed.Read","ActivityFeed.ReadDlp","ServiceHealth.Read"],uri:"https://graph.microsoft.com/v1.0"},b2cPolicies:{names:{signUpSignIn:"",resetPassword:"",editProfile:""},authorities:{signUpSignIn:{authority:"https://login.microsoftonline.com/common"},resetPassword:{authority:""},editProfile:{authority:""}},authorityDomain:""}};function $1(n,e){console.log(e)}function G1(){return new Gl({auth:{clientId:tu.msalConfig.auth.clientId,authority:tu.b2cPolicies.authorities.signUpSignIn.authority,redirectUri:"/",postLogoutRedirectUri:"/",knownAuthorities:[tu.b2cPolicies.authorityDomain]},cache:{cacheLocation:De.LocalStorage},system:{allowNativeBroker:!1,loggerOptions:{loggerCallback:$1,logLevel:we.Verbose,piiLoggingEnabled:!1}}})}function z1(){return{interactionType:R.Redirect,authRequest:{scopes:[...tu.apiConfig.scopes]},loginFailedRoute:"/configure/1?failure=true"}}var u_={providers:[Nw({eventCoalescing:!0}),zT(l_),tT(),iA,{provide:ql,useFactory:G1},{provide:lf,useFactory:z1},Qo,hv,uf]};var d_=(()=>{class n{title="bat-portal";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=z({type:n,selectors:[["app-root"]],standalone:!0,features:[oe],decls:1,vars:0,template:function(r,i){r&1&&Te(0,"router-outlet")},dependencies:[$m]})}return n})();lT(d_,u_).catch(n=>console.error(n));
